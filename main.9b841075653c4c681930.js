(self.webpackChunkfolio=self.webpackChunkfolio||[]).push([[179],{8255:e=>{function t(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=()=>[],t.resolve=t,t.id=8255,e.exports=t},5366:(e,t,n)=>{"use strict";n.d(t,{deG:()=>Cn,tb:()=>Jd,AFp:()=>Gd,ip1:()=>Hd,CZH:()=>$d,hGG:()=>Hp,z2F:()=>Lp,sBO:()=>bh,Sil:()=>cp,_Vd:()=>Hu,EJc:()=>tp,SBq:()=>Ku,qLn:()=>fi,vpe:()=>wd,gxx:()=>vo,tBr:()=>Jn,XFs:()=>P,GSi:()=>ka,OlP:()=>bn,zs3:()=>Do,ZZ4:()=>fh,aQg:()=>mh,soG:()=>ep,LVF:()=>zd,YKP:()=>Oh,v3s:()=>Fp,h0i:()=>Ph,PXZ:()=>Pp,R0b:()=>dp,FiY:()=>Xn,Lbi:()=>Yd,g9A:()=>Qd,Qsj:()=>Ju,FYo:()=>Yu,JOm:()=>Ci,Tiy:()=>eh,q3G:()=>Xr,tp0:()=>tr,EAV:()=>qp,Rgc:()=>Sh,dDg:()=>vp,DyG:()=>In,q4F:()=>nh,GfV:()=>th,s_b:()=>Rh,ifc:()=>M,eFA:()=>Op,G48:()=>Ap,Gpc:()=>p,X6Q:()=>kp,_c5:()=>zp,VLi:()=>Cp,c2e:()=>Xd,zSh:()=>bo,wAp:()=>Ac,vHH:()=>m,EiD:()=>Yr,mCW:()=>Rr,qzn:()=>br,JVY:()=>Tr,pB0:()=>kr,eBb:()=>Er,L6k:()=>Ir,LAX:()=>Sr,cg1:()=>Ec,Tjo:()=>Zp,kL8:()=>Sc,yhl:()=>Cr,dqk:()=>j,sIi:()=>Wo,CqO:()=>Za,QGY:()=>qa,F4k:()=>ja,zlt:()=>Hh,RDi:()=>Ae,AaK:()=>u,z3N:()=>wr,qOj:()=>Fo,TTD:()=>we,_Bn:()=>Zu,xp6:()=>_s,uIk:()=>na,Tol:()=>Tl,DjV:()=>Ql,ekj:()=>wl,Suo:()=>Dd,Xpm:()=>J,lG2:()=>oe,Yz7:()=>b,cJS:()=>C,oAB:()=>re,Yjl:()=>ae,Y36:()=>xa,_UZ:()=>La,BQk:()=>Fa,ynx:()=>Ma,qZA:()=>Da,TgZ:()=>Ra,EpF:()=>Va,n5z:()=>hn,Ikx:()=>wc,SDv:()=>Pu,QtT:()=>Ru,pQV:()=>Nu,LFG:()=>Wn,$8M:()=>pn,NdJ:()=>za,CRH:()=>Ld,oxw:()=>Wa,ALo:()=>hd,lcZ:()=>dd,Hsn:()=>Ya,F$t:()=>Qa,Q6J:()=>Oa,s9C:()=>Ja,MGl:()=>Xa,VKq:()=>Qh,WLB:()=>Yh,kEZ:()=>Jh,iGM:()=>Nd,MAs:()=>Ca,CHM:()=>Ke,LSH:()=>ni,kYT:()=>ie,Udp:()=>vl,YNc:()=>ba,W1O:()=>Vd,_uU:()=>Ml,Oqu:()=>Fl,hij:()=>Ul,AsE:()=>Vl,Gf:()=>Rd});var r=n(5959),i=n(7570),s=n(8318),o=n(1906),a=n(1055);function l(e){for(let t in e)if(e[t]===l)return t;throw Error("Could not find renamed property on target object.")}function c(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function u(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(u).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function h(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const d=l({__forward_ref__:l});function p(e){return e.__forward_ref__=p,e.toString=function(){return u(this())},e}function f(e){return g(e)?e():e}function g(e){return"function"==typeof e&&e.hasOwnProperty(d)&&e.__forward_ref__===p}class m extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function y(e){return"string"==typeof e?e:null==e?"":String(e)}function _(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():y(e)}function v(e,t){const n=t?` in ${t}`:"";throw new m("201",`No provider for ${_(e)} found${n}`)}function w(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function b(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function C(e){return{providers:e.providers||[],imports:e.imports||[]}}function T(e){return I(e,S)||I(e,A)}function I(e,t){return e.hasOwnProperty(t)?e[t]:null}function E(e){return e&&(e.hasOwnProperty(k)||e.hasOwnProperty(x))?e[k]:null}const S=l({"\u0275prov":l}),k=l({"\u0275inj":l}),A=l({ngInjectableDef:l}),x=l({ngInjectorDef:l});var P=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});let O;function N(e){const t=O;return O=e,t}function R(e,t,n){const r=T(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&P.Optional?null:void 0!==t?t:void v(u(e),"Injector")}function D(e){return{toString:e}.toString()}var L=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),M=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({});const F="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,j=F||q||U||V,Z={},z=[],B=l({"\u0275cmp":l}),H=l({"\u0275dir":l}),$=l({"\u0275pipe":l}),G=l({"\u0275mod":l}),W=l({"\u0275loc":l}),K=l({"\u0275fac":l}),Q=l({__NG_ELEMENT_ID__:l});let Y=0;function J(e){return D(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||z,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||M.Emulated,id:"c",styles:e.styles||z,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,s=e.pipes;return n.id+=Y++,n.inputs=se(e.inputs,t),n.outputs=se(e.outputs),i&&i.forEach(e=>e(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(ee):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(te):null,n})}function X(e,t,n){const r=e.\u0275cmp;r.directiveDefs=()=>t.map(ee),r.pipeDefs=()=>n.map(te)}function ee(e){return le(e)||function(e){return e[H]||null}(e)}function te(e){return function(e){return e[$]||null}(e)}const ne={};function re(e){const t={type:e.type,bootstrap:e.bootstrap||z,declarations:e.declarations||z,imports:e.imports||z,exports:e.exports||z,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&D(()=>{ne[e.id]=e.type}),t}function ie(e,t){return D(()=>{const n=ce(e,!0);n.declarations=t.declarations||z,n.imports=t.imports||z,n.exports=t.exports||z})}function se(e,t){if(null==e)return Z;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}const oe=J;function ae(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function le(e){return e[B]||null}function ce(e,t){const n=e[G]||null;if(!n&&!0===t)throw new Error(`Type ${u(e)} does not have '\u0275mod' property.`);return n}const ue=20,he=10;function de(e){return Array.isArray(e)&&"object"==typeof e[1]}function pe(e){return Array.isArray(e)&&!0===e[1]}function fe(e){return 0!=(8&e.flags)}function ge(e){return 2==(2&e.flags)}function me(e){return 1==(1&e.flags)}function ye(e){return null!==e.template}function _e(e,t){return e.hasOwnProperty(K)?e[K]:null}class ve{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function we(){return be}function be(e){return e.type.prototype.ngOnChanges&&(e.setInput=Te),Ce}function Ce(){const e=Ie(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===Z)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Te(e,t,n,r){const i=Ie(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:Z,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],l=o[a];s[a]=new ve(l&&l.currentValue,t,o===Z),e[r]=t}function Ie(e){return e.__ngSimpleChanges__||null}we.ngInherit=!0;const Ee="http://www.w3.org/2000/svg",Se="http://www.w3.org/1998/MathML/";let ke;function Ae(e){ke=e}function xe(){return void 0!==ke?ke:"undefined"!=typeof document?document:void 0}function Pe(e){return!!e.listen}const Oe={createRenderer:(e,t)=>xe()};function Ne(e){for(;Array.isArray(e);)e=e[0];return e}function Re(e,t){return Ne(t[e])}function De(e,t){return Ne(t[e.index])}function Le(e,t){return e.data[t]}function Me(e,t){return e[t]}function Fe(e,t){const n=t[e];return de(n)?n:n[0]}function Ue(e){return 4==(4&e[2])}function Ve(e){return 128==(128&e[2])}function qe(e,t){return null==t?null:e[t]}function je(e){e[18]=0}function Ze(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const ze={lFrame:vt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Be(){return ze.bindingsEnabled}function He(){ze.bindingsEnabled=!0}function $e(){ze.bindingsEnabled=!1}function Ge(){return ze.lFrame.lView}function We(){return ze.lFrame.tView}function Ke(e){return ze.lFrame.contextLView=e,e[8]}function Qe(){let e=Ye();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ye(){return ze.lFrame.currentTNode}function Je(){const e=ze.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Xe(e,t){const n=ze.lFrame;n.currentTNode=e,n.isParent=t}function et(){return ze.lFrame.isParent}function tt(){ze.lFrame.isParent=!1}function nt(){return ze.isInCheckNoChangesMode}function rt(e){ze.isInCheckNoChangesMode=e}function it(){const e=ze.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function st(){return ze.lFrame.bindingIndex}function ot(e){return ze.lFrame.bindingIndex=e}function at(){return ze.lFrame.bindingIndex++}function lt(e){const t=ze.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function ct(e){ze.lFrame.inI18n=e}function ut(e,t){const n=ze.lFrame;n.bindingIndex=n.bindingRootIndex=e,ht(t)}function ht(e){ze.lFrame.currentDirectiveIndex=e}function dt(e){const t=ze.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function pt(){return ze.lFrame.currentQueryIndex}function ft(e){ze.lFrame.currentQueryIndex=e}function gt(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function mt(e,t,n){if(n&P.SkipSelf){let r=t,i=e;for(;r=r.parent,!(null!==r||n&P.Host||(r=gt(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;t=r,e=i}const r=ze.lFrame=_t();return r.currentTNode=t,r.lView=e,!0}function yt(e){const t=_t(),n=e[1];ze.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function _t(){const e=ze.lFrame,t=null===e?null:e.child;return null===t?vt(e):t}function vt(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function wt(){const e=ze.lFrame;return ze.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const bt=wt;function Ct(){const e=wt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Tt(){return ze.lFrame.selectedIndex}function It(e){ze.lFrame.selectedIndex=e}function Et(){const e=ze.lFrame;return Le(e.tView,e.selectedIndex)}function St(){ze.lFrame.currentNamespace=Ee}function kt(){ze.lFrame.currentNamespace=Se}function At(){ze.lFrame.currentNamespace=null}function xt(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),o&&((e.viewHooks||(e.viewHooks=[])).push(n,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function Pt(e,t,n){Rt(e,t,3,n)}function Ot(e,t,n,r){(3&e[2])===n&&Rt(e,t,n,r)}function Nt(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Rt(e,t,n,r){const i=null!=r?r:-1,s=t.length-1;let o=0;for(let a=void 0!==r?65535&e[18]:0;a<s;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(Dt(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function Dt(e,t,n,r){const i=n[r]<0,s=n[r+1],o=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const Lt=-1;class Mt{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Ft(e,t,n){const r=Pe(e);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],l=n[i++];r?e.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=s,a=n[++i];Vt(o)?r&&e.setProperty(t,o,a):r?e.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function Ut(e){return 3===e||4===e||6===e}function Vt(e){return 64===e.charCodeAt(0)}function qt(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||jt(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function jt(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const n=e[s++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function Zt(e){return e!==Lt}function zt(e){return 32767&e}function Bt(e,t){let n=e>>16,r=t;for(;n>0;)r=r[15],n--;return r}let Ht=!0;function $t(e){const t=Ht;return Ht=e,t}let Gt=0;function Wt(e,t){const n=Qt(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Kt(r.data,e),Kt(t,null),Kt(r.blueprint,null));const i=Yt(e,t),s=e.injectorIndex;if(Zt(i)){const e=zt(i),n=Bt(i,t),r=n[1].data;for(let i=0;i<8;i++)t[s+i]=n[e+i]|r[e+i]}return t[s+8]=i,s}function Kt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Qt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Yt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const e=i[1],t=e.type;if(r=2===t?e.declTNode:1===t?i[6]:null,null===r)return Lt;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Lt}function Jt(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Q)&&(r=n[Q]),null==r&&(r=n[Q]=Gt++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Xt(e,t,n){if(n&P.Optional)return e;v(t,"NodeInjector")}function en(e,t,n,r){if(n&P.Optional&&void 0===r&&(r=null),0==(n&(P.Self|P.Host))){const i=e[9],s=N(void 0);try{return i?i.get(t,r,n&P.Optional):R(t,r,n&P.Optional)}finally{N(s)}}return Xt(r,t,n)}function tn(e,t,n,r=P.Default,i){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Q)?e[Q]:void 0;return"number"==typeof t?t>=0?255&t:rn:t}(n);if("function"==typeof s){if(!mt(t,e,r))return r&P.Host?Xt(i,n,r):en(t,n,r,i);try{const e=s(r);if(null!=e||r&P.Optional)return e;v(n)}finally{bt()}}else if("number"==typeof s){let i=null,o=Qt(e,t),a=Lt,l=r&P.Host?t[16][6]:null;for((-1===o||r&P.SkipSelf)&&(a=-1===o?Yt(e,t):t[o+8],a!==Lt&&cn(r,!1)?(i=t[1],o=zt(a),t=Bt(a,t)):o=-1);-1!==o;){const e=t[1];if(ln(s,o,e.data)){const e=sn(o,t,n,i,r,l);if(e!==nn)return e}a=t[o+8],a!==Lt&&cn(r,t[1].data[o+8]===l)&&ln(s,o,t)?(i=e,o=zt(a),t=Bt(a,t)):o=-1}}}return en(t,n,r,i)}const nn={};function rn(){return new un(Qe(),Ge())}function sn(e,t,n,r,i,s){const o=t[1],a=o.data[e+8],l=on(a,o,n,null==r?ge(a)&&Ht:r!=o&&0!=(3&a.type),i&P.Host&&s===a);return null!==l?an(t,o,l,a):nn}function on(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,c=s>>20,u=i?a+c:e.directiveEnd;for(let h=r?a:a+c;h<u;h++){const e=o[h];if(h<l&&n===e||h>=l&&e.type===n)return h}if(i){const e=o[l];if(e&&ye(e)&&e.type===n)return l}return null}function an(e,t,n,r){let i=e[n];const s=t.data;if(i instanceof Mt){const o=i;o.resolving&&function(e,t){throw new m("200",`Circular dependency in DI detected for ${e}`)}(_(s[n]));const a=$t(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?N(o.injectImpl):null;mt(e,r,P.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const r=be(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==l&&N(l),$t(a),o.resolving=!1,bt()}}return i}function ln(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function cn(e,t){return!(e&P.Self||e&P.Host&&t)}class un{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return tn(this._tNode,this._lView,e,void 0,t)}}function hn(e){return D(()=>{const t=e.prototype.constructor,n=t[K]||dn(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const e=i[K]||dn(i);if(e&&e!==n)return e;i=Object.getPrototypeOf(i)}return e=>new e})}function dn(e){return g(e)?()=>{const t=dn(f(e));return t&&t()}:_e(e)}function pn(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(Ut(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(i===t)return n[r+1];r+=2}}}return null}(Qe(),e)}const fn="__annotations__",gn="__parameters__",mn="__prop__metadata__";function yn(e,t,n,r,i){return D(()=>{const s=_n(t);function o(...e){if(this instanceof o)return s.call(this,...e),this;const t=new o(...e);return function(n){return i&&i(n,...e),(n.hasOwnProperty(fn)?n[fn]:Object.defineProperty(n,fn,{value:[]})[fn]).push(t),r&&r(n),n}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function _n(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function vn(e,t,n){return D(()=>{const r=_n(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(gn)?e[gn]:Object.defineProperty(e,gn,{value:[]})[gn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}const wn=function(){return vn("Attribute",e=>({attributeName:e,__NG_ELEMENT_ID__:()=>pn(e)}))}();class bn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=b({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Cn=new bn("AnalyzeForEntryComponents");function Tn(){const e=j.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}const In=Function;function En(e){return"function"==typeof e}function Sn(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Sn(r,t)):t!==e&&t.push(r)}return t}function kn(e,t){e.forEach(e=>Array.isArray(e)?kn(e,t):t(e))}function An(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function xn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Pn(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function On(e,t,n){let r=Rn(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Nn(e,t){const n=Rn(e,t);if(n>=0)return e[1|n]}function Rn(e,t){return function(e,t,n){let r=0,i=e.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=e[n<<1];if(t===s)return n<<1;s>t?i=n:r=n+1}return~(i<<1)}(e,t)}const Dn=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\))\)/,Ln=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Mn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Fn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class Un{constructor(e){this._reflect=e||j.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=Pn(void 0===e?t.length:e.length);for(let r=0;r<n.length;r++)n[r]=void 0===e?[]:e[r]&&e[r]!=Object?[e[r]]:[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}_ownParameters(e,t){if(n=e.toString(),Dn.test(n)||Fn.test(n)||Ln.test(n)&&!Mn.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const r=e.ctorParameters;if(r&&r!==t.ctorParameters){const e="function"==typeof r?r():r,t=e.map(e=>e&&e.type),n=e.map(e=>e&&Vn(e.decorators));return this._zipTypesAndAnnotations(t,n)}const i=e.hasOwnProperty(gn)&&e[gn],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return s||i?this._zipTypesAndAnnotations(s,i):Pn(e.length)}parameters(e){if(!En(e))return[];const t=qn(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?Vn(e.decorators):e.hasOwnProperty(fn)?e[fn]:null}annotations(e){if(!En(e))return[];const t=qn(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach(e=>{n[e]=Vn(t[e])}),n}return e.hasOwnProperty(mn)?e[mn]:null}propMetadata(e){if(!En(e))return{};const t=qn(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach(t=>{n[t]=e[t]})}const r=this._ownPropMetadata(e,t);return r&&Object.keys(r).forEach(e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...r[e]),n[e]=t}),n}ownPropMetadata(e){return En(e)&&this._ownPropMetadata(e,qn(e))||{}}hasLifecycleHook(e,t){return e instanceof In&&t in e.prototype}guards(e){return{}}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){return new Function("o","args",`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:`./${u(e)}`}resourceUri(e){return`./${u(e)}`}resolveIdentifier(e,t,n,r){return r}resolveEnum(e,t){return e[t]}}function Vn(e){return e?e.map(e=>new(0,e.type.annotationCls)(...e.args?e.args:[])):[]}function qn(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const jn={},Zn=/\n/gm,zn="__source",Bn=l({provide:String,useValue:l});let Hn;function $n(e){const t=Hn;return Hn=e,t}function Gn(e,t=P.Default){if(void 0===Hn)throw new Error("inject() must be called from an injection context");return null===Hn?R(e,void 0,t):Hn.get(e,t&P.Optional?null:void 0,t)}function Wn(e,t=P.Default){return(O||Gn)(f(e),t)}function Kn(e){throw new Error("invalid")}function Qn(e){const t=[];for(let n=0;n<e.length;n++){const r=f(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e,n=P.Default;for(let t=0;t<r.length;t++){const i=r[t],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?e=i.token:n|=s:e=i}t.push(Wn(e,n))}else t.push(Wn(r))}return t}function Yn(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}const Jn=Yn(vn("Inject",e=>({token:e})),-1),Xn=Yn(vn("Optional"),8),er=Yn(vn("Self"),2),tr=Yn(vn("SkipSelf"),4),nr=Yn(vn("Host"),1);let rr,ir,sr=null;function or(e){return ar((sr=sr||new Un).parameters(e))}function ar(e){return e.map(e=>function(e){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n++){const r=e[n];if(void 0===r)continue;const i=Object.getPrototypeOf(r);if(r instanceof Xn||"Optional"===i.ngMetadataName)t.optional=!0;else if(r instanceof tr||"SkipSelf"===i.ngMetadataName)t.skipSelf=!0;else if(r instanceof er||"Self"===i.ngMetadataName)t.self=!0;else if(r instanceof nr||"Host"===i.ngMetadataName)t.host=!0;else if(r instanceof Jn)t.token=r.token;else if(r instanceof wn){if(void 0===r.attributeName)throw new Error("Attribute name must be defined.");t.attribute=r.attributeName}else t.token=r}else t.token=void 0===e||Array.isArray(e)&&0===e.length?null:e;return t}(e))}function lr(){if(void 0===rr&&(rr=null,j.trustedTypes))try{rr=j.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return rr}function cr(e){var t;return(null===(t=lr())||void 0===t?void 0:t.createHTML(e))||e}function ur(){if(void 0===ir&&(ir=null,j.trustedTypes))try{ir=j.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return ir}function hr(e){var t;return(null===(t=ur())||void 0===t?void 0:t.createHTML(e))||e}function dr(e){var t;return(null===(t=ur())||void 0===t?void 0:t.createScript(e))||e}function pr(e){var t;return(null===(t=ur())||void 0===t?void 0:t.createScriptURL(e))||e}class fr{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class gr extends fr{getTypeName(){return"HTML"}}class mr extends fr{getTypeName(){return"Style"}}class yr extends fr{getTypeName(){return"Script"}}class _r extends fr{getTypeName(){return"URL"}}class vr extends fr{getTypeName(){return"ResourceURL"}}function wr(e){return e instanceof fr?e.changingThisBreaksApplicationSecurity:e}function br(e,t){const n=Cr(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Cr(e){return e instanceof fr&&e.getTypeName()||null}function Tr(e){return new gr(e)}function Ir(e){return new mr(e)}function Er(e){return new yr(e)}function Sr(e){return new _r(e)}function kr(e){return new vr(e)}function Ar(e){const t=new Pr(e);return function(){try{return!!(new window.DOMParser).parseFromString(cr(""),"text/html")}catch(e){return!1}}()?new xr(t):t}class xr{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(cr(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Pr{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=cr(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=cr(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Or=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Nr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Rr(e){return(e=String(e)).match(Or)||e.match(Nr)?e:"unsafe:"+e}function Dr(e){return(e=String(e)).split(",").map(e=>Rr(e.trim())).join(", ")}function Lr(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Mr(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Fr=Lr("area,br,col,hr,img,wbr"),Ur=Lr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Vr=Lr("rp,rt"),qr=Mr(Vr,Ur),jr=Mr(Fr,Mr(Ur,Lr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Mr(Vr,Lr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),qr),Zr=Lr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zr=Lr("srcset"),Br=Mr(Zr,zr,Lr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Lr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Hr=Lr("script,style,template");class $r{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!jr.hasOwnProperty(t))return this.sanitizedSomething=!0,!Hr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r),t=e.name,i=t.toLowerCase();if(!Br.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=e.value;Zr[i]&&(s=Rr(s)),zr[i]&&(s=Dr(s)),this.buf.push(" ",t,'="',Kr(s),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();jr.hasOwnProperty(t)&&!Fr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Kr(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Gr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wr=/([^\#-~ |!])/g;function Kr(e){return e.replace(/&/g,"&amp;").replace(Gr,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Wr,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Qr;function Yr(e,t){let n=null;try{Qr=Qr||Ar(e);let r=t?String(t):"";n=Qr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Qr.getInertBodyElement(r)}while(r!==s);return cr((new $r).sanitizeChildren(Jr(n)||n))}finally{if(n){const e=Jr(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function Jr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Xr=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function ei(e){const t=li();return t?hr(t.sanitize(Xr.HTML,e)||""):br(e,"HTML")?hr(wr(e)):Yr(xe(),y(e))}function ti(e){const t=li();return t?t.sanitize(Xr.STYLE,e)||"":br(e,"Style")?wr(e):y(e)}function ni(e){const t=li();return t?t.sanitize(Xr.URL,e)||"":br(e,"URL")?wr(e):Rr(y(e))}function ri(e){const t=li();if(t)return pr(t.sanitize(Xr.RESOURCE_URL,e)||"");if(br(e,"ResourceURL"))return pr(wr(e));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function ii(e){const t=li();if(t)return dr(t.sanitize(Xr.SCRIPT,e)||"");if(br(e,"Script"))return dr(wr(e));throw new Error("unsafe value used in a script context")}function si(e){return cr(e[0])}function oi(e){return function(e){var t;return(null===(t=lr())||void 0===t?void 0:t.createScriptURL(e))||e}(e[0])}function ai(e,t,n){return function(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?ri:ni}(t,n)(e)}function li(){const e=Ge();return e&&e[12]}function ci(e,t){e.__ngContext__=t}function ui(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function hi(e){return e.ngDebugContext}function di(e){return e.ngOriginalError}function pi(e,...t){e.error(...t)}class fi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||pi}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?hi(e)?hi(e):this._findContext(di(e)):null}_findOriginalError(e){let t=di(e);for(;t&&di(t);)t=di(t);return t}}const gi=/^>|^->|<!--|-->|--!>|<!-$/g,mi=/(<|>)/,yi=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(j))();function _i(e){return e.ownerDocument.defaultView}function vi(e){return e.ownerDocument}function wi(e){return e.ownerDocument.body}function bi(e){return e instanceof Function?e():e}var Ci=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});let Ti;function Ii(e,t){return Ti(e,t)}function Ei(e){const t=e[3];return pe(t)?t[3]:t}function Si(e){return Ai(e[13])}function ki(e){return Ai(e[4])}function Ai(e){for(;null!==e&&!pe(e);)e=e[4];return e}function xi(e,t,n,r,i){if(null!=r){let s,o=!1;pe(r)?s=r:de(r)&&(o=!0,r=r[0]);const a=Ne(r);0===e&&null!==n?null==i?ji(t,n,a):qi(t,n,a,i||null,!0):1===e&&null!==n?qi(t,n,a,i||null,!0):2===e?Xi(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,n,r,i){const s=n[7];s!==Ne(n)&&xi(t,e,r,s,i);for(let o=he;o<n.length;o++){const i=n[o];ts(i[1],i,e,t,r,s)}}(t,e,s,n,i)}}function Pi(e,t){return Pe(e)?e.createText(t):e.createTextNode(t)}function Oi(e,t,n){Pe(e)?e.setValue(t,n):t.textContent=n}function Ni(e,t){return e.createComment(function(e){return e.replace(gi,e=>e.replace(mi,"\u200b$1\u200b"))}(t))}function Ri(e,t,n){return Pe(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Di(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Ze(i,-1)),n.splice(r,1)}function Li(e,t){if(e.length<=he)return;const n=he+t,r=e[n];if(r){const s=r[17];null!==s&&s!==e&&Di(s,r),t>0&&(e[n-1][4]=r[4]);const o=xn(e,he+t);ts(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Mi(e,t){if(!(256&t[2])){const n=t[11];Pe(n)&&n.destroyNode&&ts(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Fi(e[1],e);for(;t;){let n=null;if(de(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)de(t)&&Fi(t[1],t),t=t[3];null===t&&(t=e),de(t)&&Fi(t[1],t),n=t&&t[4]}t=n}}(t)}}function Fi(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof Mt)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const r=e[t[n]],i=t[n+1];try{i.call(r)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const e=n[s+1],o="function"==typeof e?e(t):Ne(t[e]),a=r[i=n[s+2]],l=n[s+3];"boolean"==typeof l?o.removeEventListener(n[s],a,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const e=r[i=n[s+1]];n[s].call(e)}if(null!==r){for(let e=i+1;e<r.length;e++)(0,r[e])();t[7]=null}}(e,t),1===t[1].type&&Pe(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&pe(t[3])){n!==t[3]&&Di(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function Ui(e,t,n){return Vi(e,t.parent,n)}function Vi(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const t=e.data[r.directiveStart].encapsulation;if(t===M.None||t===M.Emulated)return null}return De(r,n)}function qi(e,t,n,r,i){Pe(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function ji(e,t,n){Pe(e)?e.appendChild(t,n):t.appendChild(n)}function Zi(e,t,n,r,i){null!==r?qi(e,t,n,r,i):ji(e,t,n)}function zi(e,t){return Pe(e)?e.parentNode(t):t.parentNode}function Bi(e,t,n){return Gi(e,t,n)}function Hi(e,t,n){return 40&e.type?De(e,n):null}let $i,Gi=Hi;function Wi(e,t){Gi=e,$i=t}function Ki(e,t,n,r){const i=Ui(e,r,t),s=t[11],o=Bi(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Zi(s,i,n[a],o,!1);else Zi(s,i,n,o,!1);void 0!==$i&&$i(s,r,t,n,i)}function Qi(e,t){if(null!==t){const n=t.type;if(3&n)return De(t,e);if(4&n)return Ji(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return Qi(e,n);{const n=e[t.index];return pe(n)?Ji(-1,n):Ne(n)}}if(32&n)return Ii(t,e)()||Ne(e[t.index]);{const n=Yi(e,t);return null!==n?Array.isArray(n)?n[0]:Qi(Ei(e[16]),n):Qi(e,t.next)}}return null}function Yi(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Ji(e,t){const n=he+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return Qi(e,r)}return t[7]}function Xi(e,t,n){const r=zi(e,t);r&&function(e,t,n,r){Pe(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function es(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===t&&(a&&ci(Ne(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)es(e,t,n.child,r,i,s,!1),xi(t,e,i,a,s);else if(32&l){const o=Ii(n,r);let l;for(;l=o();)xi(t,e,i,l,s);xi(t,e,i,a,s)}else 16&l?ns(e,t,r,n,i,s):xi(t,e,i,a,s);n=o?n.projectionNext:n.next}}function ts(e,t,n,r,i,s){es(n,r,e.firstChild,t,i,s,!1)}function ns(e,t,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)xi(t,e,i,a[l],s);else es(e,t,a,o[3],i,s,!0)}function rs(e,t,n){Pe(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function is(e,t,n){Pe(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function ss(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const n=t.length;if(i+n===r||e.charCodeAt(i+n)<=32)return i}n=i+1}}const os="ng-template";function as(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==ss(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function ls(e){return 4===e.type&&e.value!==os}function cs(e,t,n){return t===(4!==e.type||n?e.value:os)}function us(e,t,n){let r=4;const i=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(Ut(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!cs(e,l,n)||""===l&&1===t.length){if(hs(r))return!1;o=!0}}else{const c=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!as(e.attrs,c,n)){if(hs(r))return!1;o=!0}continue}const u=ds(8&r?"class":l,i,ls(e),n);if(-1===u){if(hs(r))return!1;o=!0;continue}if(""!==c){let e;e=u>s?"":i[u+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==ss(t,c,0)||2&r&&c!==e){if(hs(r))return!1;o=!0}}}}else{if(!o&&!hs(r)&&!hs(l))return!1;if(o&&hs(l))continue;o=!1,r=l|1&r}}return hs(r)||o}function hs(e){return 0==(1&e)}function ds(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function ps(e,t,n=!1){for(let r=0;r<t.length;r++)if(us(e,t[r],n))return!0;return!1}function fs(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function gs(e,t){return e?":not("+t.trim()+")":t}function ms(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const t=e[++n];i+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||hs(o)||(t+=gs(s,i),i=""),r=o,s=s||!hs(r);n++}return""!==i&&(t+=gs(s,i)),t}const ys={};function _s(e){vs(We(),Ge(),Tt()+e,nt())}function vs(e,t,n,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&Pt(t,r,n)}else{const r=e.preOrderHooks;null!==r&&Ot(t,r,0,n)}It(n)}function ws(e,t){return e<<17|t<<2}function bs(e){return e>>17&32767}function Cs(e){return 2|e}function Ts(e){return(131068&e)>>2}function Is(e,t){return-131069&e|t<<2}function Es(e){return 1|e}function Ss(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=e.data[s];ft(i),n.contentQueries(2,t[s],s)}}}function ks(e,t,n,r,i,s,o,a,l,c){const u=t.blueprint.slice();return u[0]=i,u[2]=140|r,je(u),u[3]=u[15]=e,u[8]=n,u[10]=o||e&&e[10],u[11]=a||e&&e[11],u[12]=l||e&&e[12]||null,u[9]=c||e&&e[9]||null,u[6]=s,u[16]=2==t.type?e[16]:u,u}function As(e,t,n,r,i){let s=e.data[t];if(null===s)s=xs(e,t,n,r,i),ze.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const e=Je();s.injectorIndex=null===e?-1:e.injectorIndex}return Xe(s,!0),s}function xs(e,t,n,r,i){const s=Ye(),o=et(),a=e.data[t]=function(e,t,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}function Ps(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Os(e,t,n){yt(t);try{const r=e.viewQuery;null!==r&&co(1,r,n);const i=e.template;null!==i&&Ds(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ss(e,t),e.staticViewQueries&&co(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)io(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),r}finally{t[2]&=-5,Ct()}}function Ns(e,t,n,r){const i=t[2];if(256==(256&i))return;yt(t);const s=nt();try{je(t),ot(e.bindingStartIndex),null!==n&&Ds(e,t,n,2,r);const o=3==(3&i);if(!s)if(o){const n=e.preOrderCheckHooks;null!==n&&Pt(t,n,null)}else{const n=e.preOrderHooks;null!==n&&Ot(t,n,0,null),Nt(t,0)}if(function(e){for(let t=Si(e);null!==t;t=ki(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],r=n[3];0==(1024&n[2])&&Ze(r,1),n[2]|=1024}}}(t),function(e){for(let t=Si(e);null!==t;t=ki(t))for(let e=he;e<t.length;e++){const n=t[e],r=n[1];Ve(n)&&Ns(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&Ss(e,t),!s)if(o){const n=e.contentCheckHooks;null!==n&&Pt(t,n)}else{const n=e.contentHooks;null!==n&&Ot(t,n,1),Nt(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)It(~r);else{const i=r,s=n[++e],o=n[++e];ut(s,i),o(2,t[i])}}}finally{It(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)no(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&co(2,l,r),!s)if(o){const n=e.viewCheckHooks;null!==n&&Pt(t,n)}else{const n=e.viewHooks;null!==n&&Ot(t,n,2),Nt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ze(t[3],-1))}finally{Ct()}}function Rs(e,t,n,r){const i=t[10],s=!nt(),o=Ue(t);try{s&&!o&&i.begin&&i.begin(),o&&Os(e,t,r),Ns(e,t,n,r)}finally{s&&!o&&i.end&&i.end()}}function Ds(e,t,n,r,i){const s=Tt(),o=2&r;try{It(-1),o&&t.length>ue&&vs(e,t,ue,nt()),n(r,i)}finally{It(s)}}function Ls(e,t,n){if(fe(t)){const r=t.directiveEnd;for(let i=t.directiveStart;i<r;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,n[i],i)}}}function Ms(e,t,n){Be()&&(function(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||Wt(n,t),ci(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const r=e.data[a],s=ye(r);s&&Qs(t,n,r);const l=an(t,e,a,n);ci(l,t),null!==o&&Xs(0,a-i,l,r,0,o),s&&(Fe(n.index,t)[8]=l)}}(e,t,n,De(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=ze.lFrame.currentDirectiveIndex;try{It(s);for(let n=r;n<i;n++){const r=e.data[n],i=t[n];ht(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Hs(r,i)}}finally{It(-1),ht(o)}}(e,t,n))}function Fs(e,t,n=De){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function Us(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Vs(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Vs(e,t,n,r,i,s,o,a,l,c){const u=ue+r,h=u+i,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:ys);return n}(u,h),p="function"==typeof c?c():c;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function qs(e,t,n,r){const i=ho(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&po(e).push(r,i.length-1))}function js(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Zs(e,t,n,r,i,s,o,a){const l=De(t,n);let c,u=t.inputs;var h;!a&&null!=u&&(c=u[r])?(mo(e,n,c,r,i),ge(t)&&function(e,t){const n=Fe(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,t.value||"",r):i,Pe(s)?s.setProperty(l,r,i):Vt(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function zs(e,t,n,r){let i=!1;if(Be()){const s=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ps(n,o.selectors,!1)&&(i||(i=[]),Jt(Wt(n,t),e,o.type),ye(o)?($s(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Ws(n,e.data.length,s.length);for(let e=0;e<s.length;e++){const t=s[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,l=Ps(e,t,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=qt(n.mergedAttrs,c.hostAttrs),Ks(e,n,t,l,c),Gs(l,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const u=c.type.prototype;!r&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function(e,t){const n=t.directiveEnd,r=e.data,i=t.attrs,s=[];let o=null,a=null;for(let l=t.directiveStart;l<n;l++){const e=r[l],n=e.inputs,c=null===i||ls(t)?null:eo(n,i);s.push(c),o=js(n,l,o),a=js(e.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=o,t.outputs=a}(e,n)}o&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new m("301",`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(n,r,o)}return n.mergedAttrs=qt(n.mergedAttrs,n.attrs),i}function Bs(e,t,n,r,i,s){const o=s.hostBindings;if(o){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const s=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Hs(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function $s(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Gs(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ye(t)&&(n[""]=e)}}function Ws(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Ks(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=_e(i.type)),o=new Mt(s,ye(i),null);e.blueprint[r]=o,n[r]=o,Bs(e,t,0,r,Ps(e,n,i.hostVars,ys),i)}function Qs(e,t,n){const r=De(t,e),i=Us(n),s=e[10],o=so(e,ks(e,i,null,n.onPush?64:16,r,t,s,s.createRenderer(r,n),null,null));e[t.index]=o}function Ys(e,t,n,r,i,s){const o=De(e,t);Js(t[11],o,s,e.value,n,r,i)}function Js(e,t,n,r,i,s,o){if(null==s)Pe(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const a=null==o?y(s):o(s,r||"",i);Pe(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}function Xs(e,t,n,r,i,s){const o=s[t];if(null!==o){const e=r.setInput;for(let t=0;t<o.length;){const i=o[t++],s=o[t++],a=o[t++];null!==e?r.setInput(n,a,i,s):n[s]=a}}}function eo(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function to(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function no(e,t){const n=Fe(t,e);if(Ve(n)){const e=n[1];80&n[2]?Ns(e,n,e.template,n[8]):n[5]>0&&ro(n)}}function ro(e){for(let n=Si(e);null!==n;n=ki(n))for(let e=he;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];Ns(e,t,e.template,t[8])}else t[5]>0&&ro(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=Fe(t[n],e);Ve(r)&&r[5]>0&&ro(r)}}function io(e,t){const n=Fe(t,e),r=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Os(r,n,n[8])}function so(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function oo(e){for(;e;){e[2]|=64;const t=Ei(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function ao(e,t,n){const r=t[10];r.begin&&r.begin();try{Ns(e,t,e.template,n)}catch(i){throw go(t,i),i}finally{r.end&&r.end()}}function lo(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=ui(n),i=r[1];Rs(i,r,i.template,n)}}(e[8])}function co(e,t,n){ft(0),t(e,n)}const uo=(()=>Promise.resolve(null))();function ho(e){return e[7]||(e[7]=[])}function po(e){return e.cleanup||(e.cleanup=[])}function fo(e,t,n){return(null===e||ye(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function go(e,t){const n=e[9],r=n?n.get(fi,null):null;r&&r.handleError(t)}function mo(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=t[o],c=e.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function yo(e,t,n){const r=Re(t,e);Oi(e[11],r,n)}function _o(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?s=e:1==s?i=h(i,e):2==s&&(r=h(r,e+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const vo=new bn("INJECTOR",-1);class wo{get(e,t=jn){if(t===jn){const t=new Error(`NullInjectorError: No provider for ${u(e)}!`);throw t.name="NullInjectorError",t}return t}}const bo=new bn("Set Injector scope."),Co={},To={};let Io;function Eo(){return void 0===Io&&(Io=new wo),Io}function So(e,t=null,n=null,r){return new ko(e,n,t||Eo(),r)}class ko{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&kn(t,n=>this.processProvider(n,e,t)),kn([e],e=>this.processInjectorType(e,[],i)),this.records.set(vo,Po(void 0,this));const s=this.records.get(bo);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof e?null:u(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=jn,n=P.Default){this.assertNotDestroyed();const r=$n(this);try{if(!(n&P.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(i=e)||"object"==typeof i&&i instanceof bn)&&T(e);t=n&&this.injectableDefInScope(n)?Po(Ao(e),Co):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&P.Self?Eo():this.parent).get(e,t=n&P.Optional&&t===jn?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(u(e)),r)throw s;return function(e,t,n,r){const i=e.ngTempTokenPath;throw t[zn]&&i.unshift(t[zn]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=u(t);if(Array.isArray(t))i=t.map(u).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):u(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Zn,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(s,e,"R3InjectorError",this.source)}throw s}finally{$n(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(u(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=f(e)))return!1;let r=E(e);const i=null==r&&e.ngModule||void 0,s=void 0===i?e:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=E(i)),null==r)return!1;if(null!=r.imports&&!o){let e;n.push(s);try{kn(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];kn(r,e=>this.processProvider(e,n,r||z))}}this.injectorDefTypes.add(s);const a=_e(s)||(()=>new s);this.records.set(s,Po(a,Co));const l=r.providers;if(null!=l&&!o){const t=e;kn(l,e=>this.processProvider(e,t,l))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,n){let r=No(e=f(e))?e:f(e&&e.provide);const i=function(e,t,n){return Oo(e)?Po(void 0,e.useValue):Po(xo(e),Co)}(e);if(No(e)||!0!==e.multi)this.records.get(r);else{let t=this.records.get(r);t||(t=Po(void 0,Co,!0),t.factory=()=>Qn(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,i)}hydrate(e,t){var n;return t.value===Co&&(t.value=To,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=f(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Ao(e){const t=T(e),n=null!==t?t.factory:_e(e);if(null!==n)return n;if(e instanceof bn)throw new Error(`Token ${u(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=Pn(t,"?");throw new Error(`Can't resolve all parameters for ${u(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[S]||e[A]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function xo(e,t,n){let r;if(No(e)){const t=f(e);return _e(t)||Ao(t)}if(Oo(e))r=()=>f(e.useValue);else if((i=e)&&i.useFactory)r=()=>e.useFactory(...Qn(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>Wn(f(e.useExisting));else{const t=f(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return _e(t)||Ao(t);r=()=>new t(...Qn(e.deps))}var i;return r}function Po(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Oo(e){return null!==e&&"object"==typeof e&&Bn in e}function No(e){return"function"==typeof e}const Ro=function(e,t,n){return function(e,t=null,n=null,r){const i=So(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)};let Do=(()=>{class e{static create(e,t){return Array.isArray(e)?Ro(e,t,""):Ro(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=jn,e.NULL=new wo,e.\u0275prov=b({token:e,providedIn:"any",factory:()=>Wn(vo)}),e.__NG_ELEMENT_ID__=-1,e})();function Lo(e,t){xt(ui(e)[1],Qe())}function Mo(e){return Object.getPrototypeOf(e.prototype).constructor}function Fo(e){let t=Mo(e.type),n=!0;const r=[e];for(;t;){let i;if(ye(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const t=e;t.inputs=Uo(e.inputs),t.declaredInputs=Uo(e.declaredInputs),t.outputs=Uo(e.outputs);const n=i.hostBindings;n&&jo(e,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Vo(e,s),o&&qo(e,o),c(e.inputs,i.inputs),c(e.declaredInputs,i.declaredInputs),c(e.outputs,i.outputs),ye(i)&&i.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(i.data.animation)}}const t=i.features;if(t)for(let r=0;r<t.length;r++){const i=t[r];i&&i.ngInherit&&i(e),i===Fo&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=qt(i.hostAttrs,n=qt(n,i.hostAttrs))}}(r)}function Uo(e){return e===Z?{}:e===z?[]:e}function Vo(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function qo(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}function jo(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}const Zo=["providersResolver"],zo=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Bo(e){let t,n=Mo(e.type);t=ye(e)?n.\u0275cmp:n.\u0275dir;const r=e;for(const i of Zo)r[i]=t[i];if(ye(t))for(const i of zo)r[i]=t[i]}let Ho=null;function $o(){if(!Ho){const e=j.Symbol;if(e&&e.iterator)Ho=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ho=n)}}}return Ho}class Go{constructor(e){this.wrapped=e}static wrap(e){return new Go(e)}static unwrap(e){return Go.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Go}}function Wo(e){return!!Ko(e)&&(Array.isArray(e)||!(e instanceof Map)&&$o()in e)}function Ko(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Qo(e,t,n){return e[t]=n}function Yo(e,t){return e[t]}function Jo(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Xo(e,t,n,r){const i=Jo(e,t,n);return Jo(e,t+1,r)||i}function ea(e,t,n,r,i){const s=Xo(e,t,n,r);return Jo(e,t+2,i)||s}function ta(e,t,n,r,i,s){const o=Xo(e,t,n,r);return Xo(e,t+2,i,s)||o}function na(e,t,n,r){const i=Ge();return Jo(i,at(),t)&&(We(),Ys(Et(),i,e,t,n,r)),na}function ra(e,t){let n=!1,r=st();for(let s=1;s<t.length;s+=2)n=Jo(e,r++,t[s])||n;if(ot(r),!n)return ys;let i=t[0];for(let s=1;s<t.length;s+=2)i+=y(t[s])+t[s+1];return i}function ia(e,t,n,r){return Jo(e,at(),n)?t+y(n)+r:ys}function sa(e,t,n,r,i,s){const o=Xo(e,st(),n,i);return lt(2),o?t+y(n)+r+y(i)+s:ys}function oa(e,t,n,r,i,s,o,a){const l=ea(e,st(),n,i,o);return lt(3),l?t+y(n)+r+y(i)+s+y(o)+a:ys}function aa(e,t,n,r,i,s,o,a,l,c){const u=ta(e,st(),n,i,o,l);return lt(4),u?t+y(n)+r+y(i)+s+y(o)+a+y(l)+c:ys}function la(e,t,n,r,i,s,o,a,l,c,u,h){const d=st();let p=ta(e,d,n,i,o,l);return p=Jo(e,d+4,u)||p,lt(5),p?t+y(n)+r+y(i)+s+y(o)+a+y(l)+c+y(u)+h:ys}function ca(e,t,n,r,i,s,o,a,l,c,u,h,d,p){const f=st();let g=ta(e,f,n,i,o,l);return g=Xo(e,f+4,u,d)||g,lt(6),g?t+y(n)+r+y(i)+s+y(o)+a+y(l)+c+y(u)+h+y(d)+p:ys}function ua(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g){const m=st();let _=ta(e,m,n,i,o,l);return _=ea(e,m+4,u,d,f)||_,lt(7),_?t+y(n)+r+y(i)+s+y(o)+a+y(l)+c+y(u)+h+y(d)+p+y(f)+g:ys}function ha(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m,_){const v=st();let w=ta(e,v,n,i,o,l);return w=ta(e,v+4,u,d,f,m)||w,lt(8),w?t+y(n)+r+y(i)+s+y(o)+a+y(l)+c+y(u)+h+y(d)+p+y(f)+g+y(m)+_:ys}function da(e,t,n,r,i,s){const o=Ge(),a=ia(o,t,n,r);return a!==ys&&Ys(Et(),o,e,a,i,s),da}function pa(e,t,n,r,i,s,o,a){const l=Ge(),c=sa(l,t,n,r,i,s);return c!==ys&&Ys(Et(),l,e,c,o,a),pa}function fa(e,t,n,r,i,s,o,a,l,c){const u=Ge(),h=oa(u,t,n,r,i,s,o,a);return h!==ys&&Ys(Et(),u,e,h,l,c),fa}function ga(e,t,n,r,i,s,o,a,l,c,u,h){const d=Ge(),p=aa(d,t,n,r,i,s,o,a,l,c);return p!==ys&&Ys(Et(),d,e,p,u,h),ga}function ma(e,t,n,r,i,s,o,a,l,c,u,h,d,p){const f=Ge(),g=la(f,t,n,r,i,s,o,a,l,c,u,h);return g!==ys&&Ys(Et(),f,e,g,d,p),ma}function ya(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g){const m=Ge(),y=ca(m,t,n,r,i,s,o,a,l,c,u,h,d,p);return y!==ys&&Ys(Et(),m,e,y,f,g),ya}function _a(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m,y){const _=Ge(),v=ua(_,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g);return v!==ys&&Ys(Et(),_,e,v,m,y),_a}function va(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m,y,_,v){const w=Ge(),b=ha(w,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m,y);return b!==ys&&Ys(Et(),w,e,b,_,v),va}function wa(e,t,n,r){const i=Ge(),s=ra(i,t);return s!==ys&&Ys(Et(),i,e,s,n,r),wa}function ba(e,t,n,r,i,s,o,a){const l=Ge(),c=We(),u=e+ue,h=c.firstCreatePass?function(e,t,n,r,i,s,o,a,l){const c=t.consts,u=As(t,e,4,o||null,qe(c,a));zs(t,n,u,qe(c,l)),xt(t,u);const h=u.tViews=Vs(2,u,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,n,r,i,s,o):c.data[u];Xe(h,!1);const d=l[11].createComment("");Ki(c,l,d,h),ci(d,l),so(l,l[u]=to(d,l,d,h)),me(h)&&Ms(c,l,h),null!=o&&Fs(l,h,a)}function Ca(e){return Me(ze.lFrame.contextLView,ue+e)}const Ta={"\u0275\u0275defineInjectable":b,"\u0275\u0275defineInjector":C,"\u0275\u0275inject":Wn,"\u0275\u0275invalidFactoryDep":Kn,resolveForwardRef:f},Ia=l({provide:String,useValue:l});function Ea(e){return void 0!==e.useClass}function Sa(e){return void 0!==e.useFactory}const ka=yn("Injectable",void 0,void 0,void 0,(e,t)=>Aa(e,t)),Aa=function(e,t){let n=null,r=null;e.hasOwnProperty(S)||Object.defineProperty(e,S,{get:()=>(null===n&&(n=Tn().compileInjectable(Ta,`ng:///${e.name}/\u0275prov.js`,function(e,t){const n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn};return(Ea(n)||Sa(n))&&void 0!==n.deps&&(r.deps=ar(n.deps)),Ea(n)?r.useClass=n.useClass:function(e){return Ia in e}(n)?r.useValue=n.useValue:Sa(n)?r.useFactory=n.useFactory:function(e){return void 0!==e.useExisting}(n)&&(r.useExisting=n.useExisting),r}(e,t))),n)}),e.hasOwnProperty(K)||Object.defineProperty(e,K,{get:()=>{if(null===r){const t=Tn();r=t.compileFactory(Ta,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:or(e),target:t.FactoryTarget.Injectable})}return r},configurable:!0})};function xa(e,t=P.Default){const n=Ge();return null===n?Wn(e,t):tn(Qe(),n,f(e),t)}function Pa(){throw new Error("invalid")}function Oa(e,t,n){const r=Ge();return Jo(r,at(),t)&&Zs(We(),Et(),r,e,t,r[11],n,!1),Oa}function Na(e,t,n,r,i){const s=i?"class":"style";mo(e,n,t.inputs[s],s,r)}function Ra(e,t,n,r){const i=Ge(),s=We(),o=ue+e,a=i[11],l=i[o]=Ri(a,t,ze.lFrame.currentNamespace),c=s.firstCreatePass?function(e,t,n,r,i,s,o){const a=t.consts,l=As(t,e,2,i,qe(a,s));return zs(t,n,l,qe(a,o)),null!==l.attrs&&_o(l,l.attrs,!1),null!==l.mergedAttrs&&_o(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,i,0,t,n,r):s.data[o];Xe(c,!0);const u=c.mergedAttrs;null!==u&&Ft(a,l,u);const h=c.classes;null!==h&&is(a,l,h);const d=c.styles;null!==d&&rs(a,l,d),64!=(64&c.flags)&&Ki(s,i,l,c),0===ze.lFrame.elementDepthCount&&ci(l,i),ze.lFrame.elementDepthCount++,me(c)&&(Ms(s,i,c),Ls(s,c,i)),null!==r&&Fs(i,c)}function Da(){let e=Qe();et()?tt():(e=e.parent,Xe(e,!1));const t=e;ze.lFrame.elementDepthCount--;const n=We();n.firstCreatePass&&(xt(n,e),fe(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Na(n,t,Ge(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Na(n,t,Ge(),t.stylesWithoutHost,!1)}function La(e,t,n,r){Ra(e,t,n,r),Da()}function Ma(e,t,n){const r=Ge(),i=We(),s=e+ue,o=i.firstCreatePass?function(e,t,n,r,i){const s=t.consts,o=qe(s,r),a=As(t,e,8,"ng-container",o);return null!==o&&_o(a,o,!0),zs(t,n,a,qe(s,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,i,r,t,n):i.data[s];Xe(o,!0);const a=r[s]=r[11].createComment("");Ki(i,r,a,o),ci(a,r),me(o)&&(Ms(i,r,o),Ls(i,o,r)),null!=n&&Fs(r,o)}function Fa(){let e=Qe();const t=We();et()?tt():(e=e.parent,Xe(e,!1)),t.firstCreatePass&&(xt(t,e),fe(e)&&t.queries.elementEnd(e))}function Ua(e,t,n){Ma(e,t,n),Fa()}function Va(){return Ge()}function qa(e){return!!e&&"function"==typeof e.then}function ja(e){return!!e&&"function"==typeof e.subscribe}const Za=ja;function za(e,t,n,r){const i=Ge(),s=We(),o=Qe();return Ha(s,i,i[11],o,e,t,!!n,r),za}function Ba(e,t){const n=Qe(),r=Ge(),i=We();return Ha(i,r,fo(dt(i.data),n,r),n,e,t,!1),Ba}function Ha(e,t,n,r,i,s,o,a){const l=me(r),c=e.firstCreatePass&&po(e),u=ho(t);let h=!0;if(3&r.type){const d=De(r,t),p=a?a(d):d,f=u.length,g=a?e=>a(Ne(e[r.index])):r.index;if(Pe(n)){let o=null;if(!a&&l&&(o=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const e=i[s];if(e===n&&i[s+1]===r){const e=t[7],n=i[s+2];return e.length>n?e[n]:null}"string"==typeof e&&(s+=2)}return null}(e,t,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Ga(r,t,0,s,!1);const e=n.listen(p,i,s);u.push(s,e),c&&c.push(i,g,f,f+1)}}else s=Ga(r,t,0,s,!0),p.addEventListener(i,s,o),u.push(s),c&&c.push(i,g,f,o)}else s=Ga(r,t,0,s,!1);const d=r.outputs;let p;if(h&&null!==d&&(p=d[i])){const e=p.length;if(e)for(let n=0;n<e;n+=2){const e=t[p[n]][p[n+1]].subscribe(s),o=u.length;u.push(s,e),c&&c.push(i,r.index,o,-(o+1))}}}function $a(e,t,n,r){try{return!1!==n(r)}catch(i){return go(e,i),!1}}function Ga(e,t,n,r,i){return function n(s){if(s===Function)return r;const o=2&e.flags?Fe(e.index,t):t;0==(32&t[2])&&oo(o);let a=$a(t,0,r,s),l=n.__ngNextListenerFn__;for(;l;)a=$a(t,0,l,s)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Wa(e=1){return function(e){return(ze.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,ze.lFrame.contextLView))[8]}(e)}function Ka(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?ps(e,s,!0):fs(r,s))return i}else n=i}return n}function Qa(e){const t=Ge()[16][6];if(!t.projection){const n=t.projection=Pn(e?e.length:1,null),r=n.slice();let i=t.child;for(;null!==i;){const t=e?Ka(i,e):0;null!==t&&(r[t]?r[t].projectionNext=i:n[t]=i,r[t]=i),i=i.next}}}function Ya(e,t=0,n){const r=Ge(),i=We(),s=As(i,ue+e,16,null,n||null);null===s.projection&&(s.projection=t),tt(),64!=(64&s.flags)&&function(e,t,n){ns(t[11],0,t,n,Ui(e,n,t),Bi(n.parent||t[6],n,t))}(i,r,s)}function Ja(e,t,n){return Xa(e,"",t,"",n),Ja}function Xa(e,t,n,r,i){const s=Ge(),o=ia(s,t,n,r);return o!==ys&&Zs(We(),Et(),s,e,o,s[11],i,!1),Xa}function el(e,t,n,r,i,s,o){const a=Ge(),l=sa(a,t,n,r,i,s);return l!==ys&&Zs(We(),Et(),a,e,l,a[11],o,!1),el}function tl(e,t,n,r,i,s,o,a,l){const c=Ge(),u=oa(c,t,n,r,i,s,o,a);return u!==ys&&Zs(We(),Et(),c,e,u,c[11],l,!1),tl}function nl(e,t,n,r,i,s,o,a,l,c,u){const h=Ge(),d=aa(h,t,n,r,i,s,o,a,l,c);return d!==ys&&Zs(We(),Et(),h,e,d,h[11],u,!1),nl}function rl(e,t,n,r,i,s,o,a,l,c,u,h,d){const p=Ge(),f=la(p,t,n,r,i,s,o,a,l,c,u,h);return f!==ys&&Zs(We(),Et(),p,e,f,p[11],d,!1),rl}function il(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f){const g=Ge(),m=ca(g,t,n,r,i,s,o,a,l,c,u,h,d,p);return m!==ys&&Zs(We(),Et(),g,e,m,g[11],f,!1),il}function sl(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m){const y=Ge(),_=ua(y,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g);return _!==ys&&Zs(We(),Et(),y,e,_,y[11],m,!1),sl}function ol(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m,y,_){const v=Ge(),w=ha(v,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m,y);return w!==ys&&Zs(We(),Et(),v,e,w,v[11],_,!1),ol}function al(e,t,n){const r=Ge(),i=ra(r,t);return i!==ys&&Zs(We(),Et(),r,e,i,r[11],n,!1),al}function ll(e,t,n,r,i){const s=e[n+1],o=null===t;let a=r?bs(s):Ts(s),l=!1;for(;0!==a&&(!1===l||o);){const n=e[a+1];cl(e[a],t)&&(l=!0,e[a+1]=r?Es(n):Cs(n)),a=r?bs(n):Ts(n)}l&&(e[n+1]=r?Cs(s):Es(s))}function cl(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Rn(e,t)>=0}const ul={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hl(e){return e.substring(ul.key,ul.keyEnd)}function dl(e){return e.substring(ul.value,ul.valueEnd)}function pl(e,t){const n=ul.textEnd;return n===t?-1:(t=ul.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,ul.key=t,n),ml(e,t,n))}function fl(e,t){const n=ul.textEnd;let r=ul.key=ml(e,t,n);return n===r?-1:(r=ul.keyEnd=function(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=yl(e,r,n),r=ul.value=ml(e,r,n),r=ul.valueEnd=function(e,t,n){let r=-1,i=-1,s=-1,o=t,a=o;for(;o<n;){const l=e.charCodeAt(o++);if(59===l)return a;34===l||39===l?a=o=_l(e,l,o,n):t===o-4&&85===s&&82===i&&76===r&&40===l?a=o=_l(e,41,o,n):l>32&&(a=o),s=i,i=r,r=-33&l}return a}(e,r,n),yl(e,r,n))}function gl(e){ul.key=0,ul.keyEnd=0,ul.value=0,ul.valueEnd=0,ul.textEnd=e.length}function ml(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function yl(e,t,n,r){return(t=ml(e,t,n))<n&&t++,t}function _l(e,t,n,r){let i=-1,s=n;for(;s<r;){const n=e.charCodeAt(s++);if(n==t&&92!==i)return s;i=92==n&&92===i?0:n}throw new Error}function vl(e,t,n){return El(e,t,n,!1),vl}function wl(e,t){return El(e,t,null,!0),wl}function bl(e){Sl(Ol,Cl,e,!1)}function Cl(e,t){for(let n=function(e){return gl(e),fl(e,ml(e,0,ul.textEnd))}(t);n>=0;n=fl(t,n))Ol(e,hl(t),dl(t))}function Tl(e){Sl(On,Il,e,!0)}function Il(e,t){for(let n=function(e){return gl(e),pl(e,ml(e,0,ul.textEnd))}(t);n>=0;n=pl(t,n))On(e,hl(t),!0)}function El(e,t,n,r){const i=Ge(),s=We(),o=lt(2);s.firstUpdatePass&&Al(s,e,o,r),t!==ys&&Jo(i,o,t)&&Nl(s,s.data[Tt()],i,i[11],e,i[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=u(wr(e)))),e}(t,n),r,o)}function Sl(e,t,n,r){const i=We(),s=lt(2);i.firstUpdatePass&&Al(i,null,s,r);const o=Ge();if(n!==ys&&Jo(o,s,n)){const a=i.data[Tt()];if(Ll(a,r)&&!kl(i,s)){let e=r?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(n=h(e,n||"")),Na(i,a,o,n,r)}else!function(e,t,n,r,i,s,o,a){i===ys&&(i=z);let l=0,c=0,u=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==u||null!==h;){const d=l<i.length?i[l+1]:void 0,p=c<s.length?s[c+1]:void 0;let f,g=null;u===h?(l+=2,c+=2,d!==p&&(g=h,f=p)):null===h||null!==u&&u<h?(l+=2,g=u):(c+=2,g=h,f=p),null!==g&&Nl(e,t,n,r,g,f,o,a),u=l<i.length?i[l]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(e,t,n){if(null==n||""===n)return z;const r=[],i=wr(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)e(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&e(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,s)}}function kl(e,t){return t>=e.expandoStartIndex}function Al(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[Tt()],o=kl(e,n);Ll(s,r)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){const i=dt(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Pl(n=xl(null,e,t,n,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=xl(i,e,t,n,r),null===s){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Ts(r))return e[bs(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=xl(null,e,t,n[1],r),n=Pl(n,t.attrs,r),function(e,t,n,r){e[bs(n?t.classBindings:t.styleBindings)]=r}(e,t,r,n))}else s=function(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=Pl(r,e[s].hostAttrs,n);return Pl(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function(e,t,n,r,i,s){let o=s?t.classBindings:t.styleBindings,a=bs(o),l=Ts(o);e[r]=n;let c,u=!1;if(Array.isArray(n)){const e=n;c=e[1],(null===c||Rn(e,c)>0)&&(u=!0)}else c=n;if(i)if(0!==l){const t=bs(e[a+1]);e[r+1]=ws(t,a),0!==t&&(e[t+1]=Is(e[t+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=ws(a,0),0!==a&&(e[a+1]=Is(e[a+1],r)),a=r;else e[r+1]=ws(l,0),0===a?a=r:e[l+1]=Is(e[l+1],r),l=r;u&&(e[r+1]=Cs(e[r+1])),ll(e,c,r,!0),ll(e,c,r,!1),function(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Rn(s,t)>=0&&(n[r+1]=Es(n[r+1]))}(t,c,e,r,s),o=ws(a,l),s?t.classBindings=o:t.styleBindings=o}(i,s,t,n,o,r)}}function xl(e,t,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],r=Pl(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Pl(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),On(e,o,!!n||t[++s]))}return void 0===e?null:e}function Ol(e,t,n){On(e,t,wr(n))}function Nl(e,t,n,r,i,s,o,a){if(!(3&t.type))return;const l=e.data,c=l[a+1];Dl(1==(1&c)?Rl(l,t,n,i,Ts(c),o):void 0)||(Dl(s)||2==(2&c)&&(s=Rl(l,null,n,i,a,o)),function(e,t,n,r,i){const s=Pe(e);if(t)i?s?e.addClass(n,r):n.classList.add(r):s?e.removeClass(n,r):n.classList.remove(r);else{let t=-1===r.indexOf("-")?void 0:Ci.DashCase;if(null==i)s?e.removeStyle(n,r,t):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),t|=Ci.Important),s?e.setStyle(n,r,i,t):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Re(Tt(),n),i,s))}function Rl(e,t,n,r,i,s){const o=null===t;let a;for(;i>0;){const t=e[i],s=Array.isArray(t),l=s?t[1]:t,c=null===l;let u=n[i+1];u===ys&&(u=c?z:void 0);let h=c?Nn(u,r):l===r?u:void 0;if(s&&!Dl(h)&&(h=Nn(t,r)),Dl(h)&&(a=h,o))return a;const d=e[i+1];i=o?bs(d):Ts(d)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(a=Nn(e,r))}return a}function Dl(e){return void 0!==e}function Ll(e,t){return 0!=(e.flags&(t?16:32))}function Ml(e,t=""){const n=Ge(),r=We(),i=e+ue,s=r.firstCreatePass?As(r,i,1,t,null):r.data[i],o=n[i]=Pi(n[11],t);Ki(r,n,o,s),Xe(s,!1)}function Fl(e){return Ul("",e,""),Fl}function Ul(e,t,n){const r=Ge(),i=ia(r,e,t,n);return i!==ys&&yo(r,Tt(),i),Ul}function Vl(e,t,n,r,i){const s=Ge(),o=sa(s,e,t,n,r,i);return o!==ys&&yo(s,Tt(),o),Vl}function ql(e,t,n,r,i,s,o){const a=Ge(),l=oa(a,e,t,n,r,i,s,o);return l!==ys&&yo(a,Tt(),l),ql}function jl(e,t,n,r,i,s,o,a,l){const c=Ge(),u=aa(c,e,t,n,r,i,s,o,a,l);return u!==ys&&yo(c,Tt(),u),jl}function Zl(e,t,n,r,i,s,o,a,l,c,u){const h=Ge(),d=la(h,e,t,n,r,i,s,o,a,l,c,u);return d!==ys&&yo(h,Tt(),d),Zl}function zl(e,t,n,r,i,s,o,a,l,c,u,h,d){const p=Ge(),f=ca(p,e,t,n,r,i,s,o,a,l,c,u,h,d);return f!==ys&&yo(p,Tt(),f),zl}function Bl(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f){const g=Ge(),m=ua(g,e,t,n,r,i,s,o,a,l,c,u,h,d,p,f);return m!==ys&&yo(g,Tt(),m),Bl}function Hl(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m){const y=Ge(),_=ha(y,e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m);return _!==ys&&yo(y,Tt(),_),Hl}function $l(e){const t=Ge(),n=ra(t,e);return n!==ys&&yo(t,Tt(),n),$l}function Gl(e,t,n){Sl(On,Il,ia(Ge(),e,t,n),!0)}function Wl(e,t,n,r,i){Sl(On,Il,sa(Ge(),e,t,n,r,i),!0)}function Kl(e,t,n,r,i,s,o){Sl(On,Il,oa(Ge(),e,t,n,r,i,s,o),!0)}function Ql(e,t,n,r,i,s,o,a,l){Sl(On,Il,aa(Ge(),e,t,n,r,i,s,o,a,l),!0)}function Yl(e,t,n,r,i,s,o,a,l,c,u){Sl(On,Il,la(Ge(),e,t,n,r,i,s,o,a,l,c,u),!0)}function Jl(e,t,n,r,i,s,o,a,l,c,u,h,d){Sl(On,Il,ca(Ge(),e,t,n,r,i,s,o,a,l,c,u,h,d),!0)}function Xl(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f){Sl(On,Il,ua(Ge(),e,t,n,r,i,s,o,a,l,c,u,h,d,p,f),!0)}function ec(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m){Sl(On,Il,ha(Ge(),e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m),!0)}function tc(e){Sl(On,Il,ra(Ge(),e),!0)}function nc(e,t,n){bl(ia(Ge(),e,t,n))}function rc(e,t,n,r,i){bl(sa(Ge(),e,t,n,r,i))}function ic(e,t,n,r,i,s,o){bl(oa(Ge(),e,t,n,r,i,s,o))}function sc(e,t,n,r,i,s,o,a,l){bl(aa(Ge(),e,t,n,r,i,s,o,a,l))}function oc(e,t,n,r,i,s,o,a,l,c,u){bl(la(Ge(),e,t,n,r,i,s,o,a,l,c,u))}function ac(e,t,n,r,i,s,o,a,l,c,u,h,d){bl(ca(Ge(),e,t,n,r,i,s,o,a,l,c,u,h,d))}function lc(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f){bl(ua(Ge(),e,t,n,r,i,s,o,a,l,c,u,h,d,p,f))}function cc(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m){bl(ha(Ge(),e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m))}function uc(e){bl(ra(Ge(),e))}function hc(e,t,n,r,i){return El(e,ia(Ge(),t,n,r),i,!1),hc}function dc(e,t,n,r,i,s,o){return El(e,sa(Ge(),t,n,r,i,s),o,!1),dc}function pc(e,t,n,r,i,s,o,a,l){return El(e,oa(Ge(),t,n,r,i,s,o,a),l,!1),pc}function fc(e,t,n,r,i,s,o,a,l,c,u){return El(e,aa(Ge(),t,n,r,i,s,o,a,l,c),u,!1),fc}function gc(e,t,n,r,i,s,o,a,l,c,u,h,d){return El(e,la(Ge(),t,n,r,i,s,o,a,l,c,u,h),d,!1),gc}function mc(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f){return El(e,ca(Ge(),t,n,r,i,s,o,a,l,c,u,h,d,p),f,!1),mc}function yc(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m){return El(e,ua(Ge(),t,n,r,i,s,o,a,l,c,u,h,d,p,f,g),m,!1),yc}function _c(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m,y,_){return El(e,ha(Ge(),t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m,y),_,!1),_c}function vc(e,t,n){return El(e,ra(Ge(),t),n,!1),vc}function wc(e,t,n){const r=Ge();return Jo(r,at(),t)&&Zs(We(),Et(),r,e,t,r[11],n,!0),wc}function bc(e,t,n){const r=Ge();if(Jo(r,at(),t)){const i=We(),s=Et();Zs(i,s,r,e,t,fo(dt(i.data),s,r),n,!0)}return bc}const Cc=void 0;var Tc=["en",[["a","p"],["AM","PM"],Cc],[["AM","PM"],Cc,Cc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cc,"{1} 'at' {0}",Cc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Ic={};function Ec(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=kc(t);if(n)return n;const r=t.split("-")[0];if(n=kc(r),n)return n;if("en"===r)return Tc;throw new Error(`Missing locale data for the locale "${e}".`)}function Sc(e){return Ec(e)[Ac.PluralCase]}function kc(e){return e in Ic||(Ic[e]=j.ng&&j.ng.common&&j.ng.common.locales&&j.ng.common.locales[e]),Ic[e]}var Ac=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});const xc=["zero","one","two","few","many"],Pc="en-US",Oc={marker:"element"},Nc={marker:"ICU"};var Rc=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}({});let Dc=Pc;function Lc(e){var t;null==(t=e)&&w("Expected localeId to be defined",t,null,"!="),"string"==typeof e&&(Dc=e.toLowerCase().replace(/_/g,"-"))}function Mc(e,t,n){const r=t.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?Hi(e,0,n):Ne(n[i])}function Fc(e,t,n,r,i){const s=t.insertBeforeIndex;if(Array.isArray(s)){let o=r,a=null;if(3&t.type||(a=o,o=i),null!==o&&0==(2&t.flags))for(let t=1;t<s.length;t++)qi(e,o,n[s[t]],a,!1)}}function Uc(e,t){if(e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const r=e[n];Vc(r)||qc(r,t)&&null===jc(r)&&Zc(r,t.index)}}function Vc(e){return!(64&e.type)}function qc(e,t){return Vc(t)||e.index>t.index}function jc(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function Zc(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(Wi(Mc,Fc),e.insertBeforeIndex=t)}function zc(e,t){const n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Bc(e,t,n){const r=xs(e,n,64,null,null);return Uc(t,r),r}function Hc(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let $c=0,Gc=0;function Wc(e,t,n,r){const i=n[11];let s,o=null;for(let a=0;a<t.length;a++){const l=t[a];if("string"==typeof l){const e=t[++a];null===n[e]&&(n[e]=Pi(i,l))}else if("number"==typeof l)switch(1&l){case 0:const c=l>>>17;let u,h;if(null===o&&(o=c,s=zi(i,r)),c===o?(u=r,h=s):(u=null,h=Ne(n[c])),null!==h){const t=(131070&l)>>>1;qi(i,h,n[t],u,!1);const r=zc(e,t);if(null!==r&&"object"==typeof r){const t=Hc(r,n);null!==t&&Wc(e,r.create[t],n,n[r.anchorIdx])}}break;case 1:const d=t[++a],p=t[++a];Js(i,Re(l>>>1,n),null,null,d,p,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${l}"`)}else switch(l){case Nc:const e=t[++a],r=t[++a];null===n[r]&&ci(n[r]=Ni(i,e),n);break;case Oc:const s=t[++a],o=t[++a];null===n[o]&&ci(n[o]=Ri(i,s,null),n)}}}function Kc(e,t,n,r,i){for(let s=0;s<n.length;s++){const o=n[s],a=n[++s];if(o&i){let i="";for(let o=s+1;o<=s+a;o++){const s=n[o];if("string"==typeof s)i+=s;else if("number"==typeof s)if(s<0)i+=y(t[r-s]);else{const a=s>>>2;switch(3&s){case 1:const s=n[++o],l=n[++o],c=e.data[a];"string"==typeof c?Js(t[11],t[a],null,c,s,i,l):Zs(e,c,t,s,i,t[11],l,!1);break;case 0:const u=t[a];null!==u&&Oi(t[11],u,i);break;case 2:Yc(e,zc(e,a),t,i);break;case 3:Qc(e,zc(e,a),r,t)}}}}else{const i=n[s+1];if(i>0&&3==(3&i)){const n=zc(e,i>>>2);t[n.currentCaseLViewIndex]<0&&Qc(e,n,r,t)}}s+=a}}function Qc(e,t,n,r){let i=r[t.currentCaseLViewIndex];if(null!==i){let s=$c;i<0&&(i=r[t.currentCaseLViewIndex]=~i,s=-1),Kc(e,r,t.update[i],n,s)}}function Yc(e,t,n,r){const i=function(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const r=function(e,t){const n=Sc(t)(parseInt(e,10)),r=xc[n];return void 0!==r?r:"other"}(t,Dc);n=e.cases.indexOf(r),-1===n&&"other"!==r&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,r);if(Hc(t,n)!==i&&(Jc(e,t,n),n[t.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[t.anchorIdx];r&&Wc(e,t.create[i],n,r)}}function Jc(e,t,n){let r=Hc(t,n);if(null!==r){const i=t.remove[r];for(let t=0;t<i.length;t++){const r=i[t];if(r>0){const e=Re(r,n);null!==e&&Xi(n[11],e)}else Jc(e,zc(e,~r),n)}}}const Xc=/\ufffd(\d+):?\d*\ufffd/gi,eu=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,tu=/\ufffd(\d+)\ufffd/,nu=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ru=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,iu=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,su=/\uE500/g;function ou(e,t,n,r,i,s,o){const a=Ps(e,r,1,null);let l=a<<Rc.SHIFT,c=Je();t===c&&(c=null),null===c&&(l|=Rc.APPEND_EAGERLY),o&&(l|=Rc.COMMENT,void 0===Ti&&(Ti=function(){const e=[];let t,n,r=-1;function i(e,t){r=0;const i=Hc(e,t);n=null!==i?e.remove[i]:z}function s(){if(r<n.length){const o=n[r++];return o>0?t[o]:(e.push(r,n),i(t[1].data[~o],t),s())}return 0===e.length?null:(n=e.pop(),r=e.pop(),s())}return function(n,r){for(t=r;e.length;)e.pop();return i(n.value,r),s}}())),i.push(l,null===s?"":s);const u=xs(e,a,o?32:1,null===s?"":s,null);Uc(n,u);const h=u.index;return Xe(u,!1),null!==c&&t!==c&&function(e,t){let n=e.insertBeforeIndex;var r;null===n?(Wi(Mc,Fc),n=e.insertBeforeIndex=[null,t]):("Expecting array here",(r=Array.isArray(n))!=!0&&w("Expecting array here",r,true,"=="),n.push(t))}(c,h),u}function au(e,t,n,r,i,s,o){const a=o.match(Xc),l=ou(e,t,n,s,r,a?null:o,!1);a&&lu(i,o,l.index,null,0,null)}function lu(e,t,n,r,i,s){const o=e.length,a=o+1;e.push(null,null);const l=o+2,c=t.split(Xc);let u=0;for(let h=0;h<c.length;h++){const t=c[h];if(1&h){const n=i+parseInt(t,10);e.push(-1-n),u|=uu(n)}else""!==t&&e.push(t)}return e.push(n<<2|(r?1:0)),r&&e.push(r,s),e[o]=u,e[a]=e.length-l,u}function cu(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];"number"==typeof r&&r<0&&t++}return t}function uu(e){return 1<<Math.min(e,31)}function hu(e){let t,n,r="",i=0,s=!1;for(;null!==(t=ru.exec(e));)s?t[0]===`\ufffd/*${n}\ufffd`&&(i=t.index,s=!1):(r+=e.substring(i,t.index+t[0].length),n=t[1],s=!0);return r+=e.substr(i),r}function du(e,t,n,r,i,s){let o=0;const a={type:i.type,currentCaseLViewIndex:Ps(e,t,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};!function(e,t,n){e.push(uu(t.mainBinding),2,-1-t.mainBinding,n<<2|2)}(n,i,s),function(e,t,n){const r=e.data[t];null===r?e.data[t]=n:r.value=n}(e,s,a);const l=i.values;for(let c=0;c<l.length;c++){const s=l[c],u=[];for(let e=0;e<s.length;e++){const t=s[e];if("string"!=typeof t){const n=u.push(t)-1;s[e]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}o=gu(e,a,t,n,r,i.cases[c],s.join(""),u)|o}o&&function(e,t,n){e.push(t,1,n<<2|3)}(n,o,s)}function pu(e){const t=[],n=[];let r=1,i=0;const s=fu(e=e.replace(nu,function(e,t,n){return r="select"===n?0:1,i=parseInt(t.substr(1),10),""}));for(let o=0;o<s.length;){let e=s[o++].trim();1===r&&(e=e.replace(/\s*(?:=)?(\w+)\s*/,"$1")),e.length&&t.push(e);const i=fu(s[o++]);t.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:t,values:n}}function fu(e){if(!e)return[];let t=0;const n=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(e);){const i=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=e.substring(t,i);nu.test(n)?r.push(pu(n)):r.push(n),t=i+1}}else{if(0==n.length){const n=e.substring(t,i);r.push(n),t=i+1}n.push("{")}}const o=e.substring(t);return r.push(o),r}function gu(e,t,n,r,i,s,o,a){const l=[],c=[],u=[];t.cases.push(s),t.create.push(l),t.remove.push(c),t.update.push(u);const h=Ar(xe()).getInertBodyElement(o),d=Jr(h)||h;return d?mu(e,t,n,r,l,c,u,d,i,a,0):0}function mu(e,t,n,r,i,s,o,a,l,c,u){let h=0,d=a.firstChild;for(;d;){const a=Ps(e,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const p=d,f=p.tagName.toLowerCase();if(jr.hasOwnProperty(f)){vu(i,Oc,f,l,a),e.data[a]=f;const g=p.attributes;for(let e=0;e<g.length;e++){const t=g.item(e),n=t.name.toLowerCase();t.value.match(Xc)?Br.hasOwnProperty(n)&&lu(o,t.value,a,t.name,0,Zr[n]?Rr:zr[n]?Dr:null):wu(i,a,t)}h=mu(e,t,n,r,i,s,o,d,a,c,u+1)|h,yu(s,a,u)}break;case Node.TEXT_NODE:const g=d.textContent||"",m=g.match(Xc);vu(i,null,m?"":g,l,a),yu(s,a,u),m&&(h=lu(o,g,a,null,0,null)|h);break;case Node.COMMENT_NODE:const y=tu.exec(d.textContent||"");if(y){const t=c[parseInt(y[1],10)];vu(i,Nc,"",l,a),du(e,n,r,l,t,a),_u(s,a,u)}}d=d.nextSibling}return h}function yu(e,t,n){0===n&&e.push(t)}function _u(e,t,n){0===n&&(e.push(~t),e.push(t))}function vu(e,t,n,r,i){null!==t&&e.push(t),e.push(n,i,0|r<<17|i<<1)}function wu(e,t,n){e.push(t<<1|1,n.name,n.value)}const bu=/\[(\ufffd.+?\ufffd?)\]/,Cu=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Tu=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Iu=/{([A-Z0-9_]+)}/g,Eu=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Su=/\/\*/,ku=/\d+\:(\d+)/;function Au(e,t,n=-1){const r=We(),i=Ge(),s=ue+e,o=qe(r.consts,t),a=Je();r.firstCreatePass&&function(e,t,n,r,i,s){const o=Je(),a=[],l=[],c=[[]],u=(h=i=function(e,t){if(function(e){return-1===e}(t))return hu(e);{const n=e.indexOf(`:${t}\ufffd`)+2+t.toString().length,r=e.search(new RegExp(`\ufffd\\/\\*\\d+:${t}\ufffd`));return hu(e.substring(n,r))}}(i,s),h.replace(su," ")).split(iu);var h;for(let d=0;d<u.length;d++){let r=u[d];if(0==(1&d)){const s=fu(r);for(let r=0;r<s.length;r++){let u=s[r];if(0==(1&r)){const t=u;""!==t&&au(e,o,c[0],a,l,n,t)}else{const r=u;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);du(e,n,l,t,r,ou(e,o,c[0],n,a,"",!0).index)}}}else{const t=47===r.charCodeAt(0),n=(r.charCodeAt(t?1:0),ue+Number.parseInt(r.substring(t?2:1)));if(t)c.shift(),Xe(Je(),!1);else{const t=Bc(e,c[0],n);c.unshift([]),Xe(t,!0)}}}e.data[r]={create:a,update:l}}(r,null===a?0:a.index,i,s,o,n);const l=r.data[s],c=Vi(r,a===i[6]?null:a,i);!function(e,t,n,r){const i=e[11];for(let s=0;s<t.length;s++){const o=t[s++],a=t[s],l=(o&Rc.COMMENT)===Rc.COMMENT,c=(o&Rc.APPEND_EAGERLY)===Rc.APPEND_EAGERLY,u=o>>>Rc.SHIFT;let h=e[u];null===h&&(h=e[u]=l?i.createComment(a):Pi(i,a)),c&&null!==n&&qi(i,n,h,r,!1)}}(i,l.create,c,a&&8&a.type?i[a.index]:null),ct(!0)}function xu(){ct(!1)}function Pu(e,t,n){Au(e,t,n),xu()}function Ou(e,t){const n=We(),r=qe(n.consts,t);!function(e,t,n){const r=Qe().index,i=[];if(e.firstCreatePass&&null===e.data[t]){for(let e=0;e<n.length;e+=2){const t=n[e],s=n[e+1];if(""!==s){if(eu.test(s))throw new Error(`ICU expressions are not supported in attributes. Message: "${s}".`);lu(i,s,r,t,cu(i),null)}}e.data[t]=i}}(n,e+ue,r)}function Nu(e){return Jo(Ge(),at(),e)&&($c|=1<<Math.min(Gc,31)),Gc++,Nu}function Ru(e){!function(e,t,n){if(Gc>0){const r=e.data[n];Kc(e,t,Array.isArray(r)?r:r.update,st()-Gc-1,$c)}$c=0,Gc=0}(We(),Ge(),e+ue)}function Du(e,t={}){return function(e,t={}){let n=e;if(bu.test(e)){const e={},t=[0];n=n.replace(Cu,(n,r,i)=>{const s=r||i,o=e[s]||[];if(o.length||(s.split("|").forEach(e=>{const t=e.match(ku),n=t?parseInt(t[1],10):0,r=Su.test(e);o.push([n,r,e])}),e[s]=o),!o.length)throw new Error(`i18n postprocess: unmatched placeholder - ${s}`);const a=t[t.length-1];let l=0;for(let e=0;e<o.length;e++)if(o[e][0]===a){l=e;break}const[c,u,h]=o[l];return u?t.pop():a!==c&&t.push(c),o.splice(l,1),h})}return Object.keys(t).length?(n=n.replace(Tu,(e,n,r,i,s,o)=>t.hasOwnProperty(r)?`${n}${t[r]}${o}`:e),n=n.replace(Iu,(e,n)=>t.hasOwnProperty(n)?t[n]:e),n=n.replace(Eu,(e,n)=>{if(t.hasOwnProperty(n)){const r=t[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${e} with key: ${n}`);return r.shift()}return e}),n):n}(e,t)}function Lu(e,t,n,r,i){if(e=f(e),Array.isArray(e))for(let s=0;s<e.length;s++)Lu(e[s],t,n,r,i);else{const s=We(),o=Ge();let a=No(e)?e:f(e.provide),l=xo(e);const c=Qe(),u=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(No(e)||!e.multi){const r=new Mt(l,i,xa),p=Uu(a,t,i?u:u+d,h);-1===p?(Jt(Wt(c,o),s,a),Mu(s,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[p]=r,o[p]=r)}else{const p=Uu(a,t,u+d,h),f=Uu(a,t,u,u+d),g=p>=0&&n[p],m=f>=0&&n[f];if(i&&!m||!i&&!g){Jt(Wt(c,o),s,a);const u=function(e,t,n,r,i){const s=new Mt(e,n,xa);return s.multi=[],s.index=t,s.componentProviders=0,Fu(s,i,r&&!n),s}(i?qu:Vu,n.length,i,r,l);!i&&m&&(n[f].providerFactory=u),Mu(s,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(u),o.push(u)}else Mu(s,e,p>-1?p:f,Fu(n[i?f:p],l,!i&&r));!i&&r&&m&&n[f].componentProviders++}}}function Mu(e,t,n,r){const i=No(t);if(i||t.useClass){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const o=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const e=o.indexOf(n);-1===e?o.push(n,[r,s]):o[e+1].push(r,s)}else o.push(n,s)}}}function Fu(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Uu(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function Vu(e,t,n,r){return ju(this.multi,[])}function qu(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=an(n,n[1],this.providerFactory.index,r);s=t.slice(0,e),ju(i,s);for(let n=e;n<t.length;n++)s.push(t[n])}else s=[],ju(i,s);return s}function ju(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Zu(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=We();if(r.firstCreatePass){const i=ye(e);Lu(n,r.data,r.blueprint,i,!0),Lu(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}class zu{}class Bu{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${u(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let Hu=(()=>{class e{}return e.NULL=new Bu,e})();function $u(...e){}function Gu(e,t){return new Ku(De(e,t))}const Wu=function(){return Gu(Qe(),Ge())};let Ku=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=Wu,e})();function Qu(e){return e instanceof Ku?e.nativeElement:e}class Yu{}let Ju=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Xu(),e})();const Xu=function(){const e=Ge(),t=Fe(Qe().index,e);return function(e){return e[11]}(de(t)?t:e)};let eh=(()=>{class e{}return e.\u0275prov=b({token:e,providedIn:"root",factory:()=>null}),e})();class th{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const nh=new th("12.0.0");class rh{constructor(){}supports(e){return Wo(e)}create(e){return new sh(e)}}const ih=(e,t)=>t;class sh{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ih}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const s=!n||t&&t.currentIndex<ch(n,r,i)?t:n,o=ch(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{i||(i=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;t<=s&&s<e&&(i[n]=r+1)}i[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Wo(e))throw new Error(`Error trying to diff '${u(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,t)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),s=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[$o()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,e,r,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),s=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new oh(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new lh),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class oh{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ah{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class lh{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new ah,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ch(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class uh{constructor(){}supports(e){return e instanceof Map||Ko(e)}create(){return new hh}}class hh{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Ko(e)))throw new Error(`Error trying to diff '${u(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new dh(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class dh{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ph(){return new fh([new rh])}let fh=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||ph()),deps:[[e,new tr,new Xn]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=b({token:e,providedIn:"root",factory:ph}),e})();function gh(){return new mh([new uh])}let mh=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||gh()),deps:[[e,new tr,new Xn]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=b({token:e,providedIn:"root",factory:gh}),e})();function yh(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(Ne(s)),pe(s))for(let e=he;e<s.length;e++){const t=s[e],n=t[1].firstChild;null!==n&&yh(t[1],t,n,r)}const o=n.type;if(8&o)yh(e,t,n.child,r);else if(32&o){const e=Ii(n,t);let i;for(;i=e();)r.push(i)}else if(16&o){const e=Yi(t,n);if(Array.isArray(e))r.push(...e);else{const n=Ei(t[16]);yh(n[1],n,e,r,!0)}}n=i?n.projectionNext:n.next}return r}class _h{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return yh(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(pe(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Li(e,n),xn(t,n))}this._attachedToViewContainer=!1}Mi(this._lView[1],this._lView)}onDestroy(e){qs(this._lView[1],this._lView,null,e)}markForCheck(){oo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ao(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){rt(!0);try{ao(e,t,n)}finally{rt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,ts(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class vh extends _h{constructor(e){super(e),this._view=e}detectChanges(){lo(this._view)}checkNoChanges(){!function(e){rt(!0);try{lo(e)}finally{rt(!1)}}(this._view)}get context(){return null}}const wh=function(e){return function(e,t,n){if(ge(e)&&!n){const n=Fe(e.index,t);return new _h(n,n)}return 47&e.type?new _h(t[16],t):null}(Qe(),Ge(),16==(16&e))};let bh=(()=>{class e{}return e.__NG_ELEMENT_ID__=wh,e})();const Ch=[new uh],Th=new fh([new rh]),Ih=new mh(Ch),Eh=function(){return xh(Qe(),Ge())};let Sh=(()=>{class e{}return e.__NG_ELEMENT_ID__=Eh,e})();const kh=Sh,Ah=class extends kh{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=ks(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Os(t,n,e),new _h(n)}};function xh(e,t){return 4&e.type?new Ah(t,e,Gu(e,t)):null}class Ph{}class Oh{}const Nh=function(){return Uh(Qe(),Ge())};let Rh=(()=>{class e{}return e.__NG_ELEMENT_ID__=Nh,e})();const Dh=Rh,Lh=class extends Dh{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return Gu(this._hostTNode,this._hostLView)}get injector(){return new un(this._hostTNode,this._hostLView)}get parentInjector(){const e=Yt(this._hostTNode,this._hostLView);if(Zt(e)){const t=Bt(e,this._hostLView),n=zt(e);return new un(t[1].data[n+8],t)}return new un(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Mh(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-he}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const s=n||this.parentInjector;if(!i&&null==e.ngModule&&s){const e=s.get(Ph,null);e&&(i=e)}const o=e.create(s,r,void 0,i);return this.insert(o.hostView,t),o}insert(e,t){const n=e._lView,r=n[1];if(pe(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new Lh(t,t[6],t[3]);r.detach(r.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function(e,t,n,r){const i=he+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-he?(t[4]=n[i],An(n,he+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,s,i);const o=Ji(i,s),a=n[11],l=zi(a,s[7]);return null!==l&&function(e,t,n,r,i,s){r[0]=i,r[6]=t,ts(e,r,n,1,i,s)}(r,s[6],a,n,l,o),e.attachToViewContainerRef(),An(Fh(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Mh(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=Li(this._lContainer,t);n&&(xn(Fh(this._lContainer),t),Mi(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=Li(this._lContainer,t);return n&&null!=xn(Fh(this._lContainer),t)?new _h(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Mh(e){return e[8]}function Fh(e){return e[8]||(e[8]=[])}function Uh(e,t){let n;const r=t[e.index];if(pe(r))n=r;else{let i;if(8&e.type)i=Ne(r);else{const n=t[11];i=n.createComment("");const r=De(e,t);qi(n,zi(n,r),i,function(e,t){return Pe(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=to(r,t,i,e),so(t,n)}return new Lh(n,e,t)}const Vh={};class qh extends Hu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=le(e);return new zh(t,this.ngModule)}}function jh(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const Zh=new bn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>yi});class zh extends zu{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(ms).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return jh(this.componentDef.inputs)}get outputs(){return jh(this.componentDef.outputs)}create(e,t,n,r){const i=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const s=e.get(n,Vh,i);return s!==Vh||r===Vh?s:t.get(n,r,i)}}}(e,r.injector):e,s=i.get(Yu,Oe),o=i.get(eh,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(e,t,n){if(Pe(e))return e.selectRootElement(t,n===M.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ri(s.createRenderer(null,this.componentDef),l,function(e){const t=e.toLowerCase();return"svg"===t?Ee:"math"===t?Se:null}(l)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:yi,clean:uo,playerHandler:null,flags:0},d=Vs(0,null,null,1,0,null,null,null,null,null),p=ks(null,d,h,u,null,null,s,a,o,i);let f,g;yt(p);try{const e=function(e,t,n,r,i,s){const o=n[1];n[20]=e;const a=As(o,20,2,"#host",null),l=a.mergedAttrs=t.hostAttrs;null!==l&&(_o(a,l,!0),null!==e&&(Ft(i,e,l),null!==a.classes&&is(i,e,a.classes),null!==a.styles&&rs(i,e,a.styles)));const c=r.createRenderer(e,t),u=ks(n,Us(t),null,t.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(Jt(Wt(a,n),o,t.type),$s(o,a),Ws(a,n.length,1)),so(n,u),n[20]=u}(c,this.componentDef,p,s,a);if(c)if(n)Ft(a,c,["ng-version",nh.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!hs(i))break;i=s}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Ft(a,c,e),t&&t.length>0&&is(a,c,t.join(" "))}if(g=Le(d,ue),void 0!==t){const e=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}f=function(e,t,n,r,i){const s=n[1],o=function(e,t,n){const r=Qe();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ks(e,r,t,Ps(e,t,1,null),n));const i=an(t,e,r.directiveStart,r);ci(i,t);const s=De(r,t);return s&&ci(s,t),i}(s,n,t);if(r.components.push(o),e[8]=o,i&&i.forEach(e=>e(o,t)),t.contentQueries){const e=Qe();t.contentQueries(1,o,e.directiveStart)}const a=Qe();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(It(a.index),Bs(n[1],a,0,a.directiveStart,a.directiveEnd,t),Hs(t,o)),o}(e,this.componentDef,p,h,[Lo]),Os(d,p,null)}finally{Ct()}return new Bh(this.componentType,f,Gu(g,p),p,g)}}class Bh extends class{}{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new vh(r),this.componentType=e}get injector(){return new un(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Hh(e,t,n,r){return D(()=>{const i=e;null!==t&&(i.hasOwnProperty("decorators")&&void 0!==i.decorators?i.decorators.push(...t):i.decorators=t),null!==n&&(i.ctorParameters=n),null!==r&&(i.propDecorators=i.hasOwnProperty("propDecorators")&&void 0!==i.propDecorators?Object.assign(Object.assign({},i.propDecorators),r):r)})}const $h=new Map;class Gh extends Ph{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new qh(this);const n=ce(e),r=e[W]||null;r&&Lc(r),this._bootstrapComponents=bi(n.bootstrap),this._r3Injector=So(e,t,[{provide:Ph,useValue:this},{provide:Hu,useValue:this.componentFactoryResolver}],u(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Do.THROW_IF_NOT_FOUND,n=P.Default){return e===Do||e===Ph||e===vo?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Wh extends Oh{constructor(e){super(),this.moduleType=e,null!==ce(e)&&function(e){const t=new Set;!function e(n){const r=ce(n,!0),i=r.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${u(t)} vs ${u(t.name)}`)}(i,$h.get(i),n),$h.set(i,n));const s=bi(r.imports);for(const o of s)t.has(o)||(t.add(o),e(o))}(e)}(e)}create(e){return new Gh(this.moduleType,e)}}function Kh(e,t,n){const r=it()+e,i=Ge();return i[r]===ys?Qo(i,r,n?t.call(n):t()):Yo(i,r)}function Qh(e,t,n,r){return od(Ge(),it(),e,t,n,r)}function Yh(e,t,n,r,i){return ad(Ge(),it(),e,t,n,r,i)}function Jh(e,t,n,r,i,s){return ld(Ge(),it(),e,t,n,r,i,s)}function Xh(e,t,n,r,i,s,o){return cd(Ge(),it(),e,t,n,r,i,s,o)}function ed(e,t,n,r,i,s,o,a){const l=it()+e,c=Ge(),u=ta(c,l,n,r,i,s);return Jo(c,l+4,o)||u?Qo(c,l+5,a?t.call(a,n,r,i,s,o):t(n,r,i,s,o)):Yo(c,l+5)}function td(e,t,n,r,i,s,o,a,l){const c=it()+e,u=Ge(),h=ta(u,c,n,r,i,s);return Xo(u,c+4,o,a)||h?Qo(u,c+6,l?t.call(l,n,r,i,s,o,a):t(n,r,i,s,o,a)):Yo(u,c+6)}function nd(e,t,n,r,i,s,o,a,l,c){const u=it()+e,h=Ge();let d=ta(h,u,n,r,i,s);return ea(h,u+4,o,a,l)||d?Qo(h,u+7,c?t.call(c,n,r,i,s,o,a,l):t(n,r,i,s,o,a,l)):Yo(h,u+7)}function rd(e,t,n,r,i,s,o,a,l,c,u){const h=it()+e,d=Ge(),p=ta(d,h,n,r,i,s);return ta(d,h+4,o,a,l,c)||p?Qo(d,h+8,u?t.call(u,n,r,i,s,o,a,l,c):t(n,r,i,s,o,a,l,c)):Yo(d,h+8)}function id(e,t,n,r){return ud(Ge(),it(),e,t,n,r)}function sd(e,t){const n=e[t];return n===ys?void 0:n}function od(e,t,n,r,i,s){const o=t+n;return Jo(e,o,i)?Qo(e,o+1,s?r.call(s,i):r(i)):sd(e,o+1)}function ad(e,t,n,r,i,s,o){const a=t+n;return Xo(e,a,i,s)?Qo(e,a+2,o?r.call(o,i,s):r(i,s)):sd(e,a+2)}function ld(e,t,n,r,i,s,o,a){const l=t+n;return ea(e,l,i,s,o)?Qo(e,l+3,a?r.call(a,i,s,o):r(i,s,o)):sd(e,l+3)}function cd(e,t,n,r,i,s,o,a,l){const c=t+n;return ta(e,c,i,s,o,a)?Qo(e,c+4,l?r.call(l,i,s,o,a):r(i,s,o,a)):sd(e,c+4)}function ud(e,t,n,r,i,s){let o=t+n,a=!1;for(let l=0;l<i.length;l++)Jo(e,o++,i[l])&&(a=!0);return a?Qo(e,o,r.apply(s,i)):sd(e,o)}function hd(e,t){const n=We();let r;const i=e+ue;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new m("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=_e(r.type)),o=N(xa);try{const e=$t(!1),t=s();return $t(e),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,Ge(),i,t),t}finally{N(o)}}function dd(e,t,n){const r=e+ue,i=Ge(),s=Me(i,r);return _d(i,yd(i,r)?od(i,it(),t,s.transform,n,s):s.transform(n))}function pd(e,t,n,r){const i=e+ue,s=Ge(),o=Me(s,i);return _d(s,yd(s,i)?ad(s,it(),t,o.transform,n,r,o):o.transform(n,r))}function fd(e,t,n,r,i){const s=e+ue,o=Ge(),a=Me(o,s);return _d(o,yd(o,s)?ld(o,it(),t,a.transform,n,r,i,a):a.transform(n,r,i))}function gd(e,t,n,r,i,s){const o=e+ue,a=Ge(),l=Me(a,o);return _d(a,yd(a,o)?cd(a,it(),t,l.transform,n,r,i,s,l):l.transform(n,r,i,s))}function md(e,t,n){const r=e+ue,i=Ge(),s=Me(i,r);return _d(i,yd(i,r)?ud(i,it(),t,s.transform,n,s):s.transform.apply(s,n))}function yd(e,t){return e[1].data[t].pure}function _d(e,t){return Go.isWrapped(t)&&(t=Go.unwrap(t),e[st()]=ys),t}function vd(e){return t=>{setTimeout(e,void 0,t)}}const wd=class extends r.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,s,o;let a=e,l=t||(()=>null),c=n;if(e&&"object"==typeof e){const t=e;a=null===(r=t.next)||void 0===r?void 0:r.bind(t),l=null===(s=t.error)||void 0===s?void 0:s.bind(t),c=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}this.__isAsync&&(l=vd(l),a&&(a=vd(a)),c&&(c=vd(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof i.w&&e.add(u),u}};function bd(){return this._results[$o()]()}class Cd{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=$o(),n=Cd.prototype;n[t]||(n[t]=bd)}get changes(){return this._changes||(this._changes=new wd)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=Sn(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Td{constructor(e){this.queryList=e,this.matches=null}clone(){return new Td(this.queryList)}setDirty(){this.queryList.setDirty()}}class Id{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);r.push(this.queries[n.indexInDeclarationView].clone())}return new Id(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Ud(e,t).matches&&this.queries[t].setDirty()}}class Ed{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class Sd{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,i=this.getByIndex(n).embeddedTView(e,r);i&&(i.indexInDeclarationView=n,null!==t?t.push(i):t=[i])}return null!==t?new Sd(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class kd{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new kd(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(e,t,Ad(t,i)),this.matchTNodeWithReadOption(e,t,on(t,e,i,!1,!1))}else n===Sh?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,on(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ku||r===Rh||r===Sh&&4&t.type)this.addMatch(t.index,-2);else{const n=on(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Ad(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function xd(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Gu(e,t):4&e.type?xh(e,t):null}(t,e):-2===n?function(e,t,n){return n===Ku?Gu(t,e):n===Sh?xh(t,e):n===Rh?Uh(t,e):void 0}(e,t,r):an(e,e[1],n,t)}function Pd(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const r=e.data,s=n.matches,o=[];for(let e=0;e<s.length;e+=2){const i=s[e];o.push(i<0?null:xd(t,r[i],s[e+1],n.metadata.read))}i.matches=o}return i.matches}function Od(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Pd(e,t,i,n);for(let e=0;e<s.length;e+=2){const n=s[e];if(n>0)r.push(o[e/2]);else{const i=s[e+1],o=t[-n];for(let e=he;e<o.length;e++){const t=o[e];t[17]===t[3]&&Od(t[1],t,i,r)}if(null!==o[9]){const e=o[9];for(let t=0;t<e.length;t++){const n=e[t];Od(n[1],n,i,r)}}}}}return r}function Nd(e){const t=Ge(),n=We(),r=pt();ft(r+1);const i=Ud(n,r);if(e.dirty&&Ue(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?Od(n,t,r,[]):Pd(n,t,i,r);e.reset(s,Qu),e.notifyOnChanges()}return!0}return!1}function Rd(e,t,n){const r=We();r.firstCreatePass&&(Fd(r,new Ed(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),Md(r,Ge(),t)}function Dd(e,t,n,r){const i=We();if(i.firstCreatePass){const s=Qe();Fd(i,new Ed(t,n,r),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}Md(i,Ge(),n)}function Ld(){return e=Ge(),t=pt(),e[19].queries[t].queryList;var e,t}function Md(e,t,n){const r=new Cd(4==(4&n));qs(e,t,r,r.destroy),null===t[19]&&(t[19]=new Id),t[19].queries.push(new Td(r))}function Fd(e,t,n){null===e.queries&&(e.queries=new Sd),e.queries.track(new kd(t,n))}function Ud(e,t){return e.queries.getByIndex(t)}function Vd(e,t){return xh(e,t)}const qd=(()=>({"\u0275\u0275attribute":na,"\u0275\u0275attributeInterpolate1":da,"\u0275\u0275attributeInterpolate2":pa,"\u0275\u0275attributeInterpolate3":fa,"\u0275\u0275attributeInterpolate4":ga,"\u0275\u0275attributeInterpolate5":ma,"\u0275\u0275attributeInterpolate6":ya,"\u0275\u0275attributeInterpolate7":_a,"\u0275\u0275attributeInterpolate8":va,"\u0275\u0275attributeInterpolateV":wa,"\u0275\u0275defineComponent":J,"\u0275\u0275defineDirective":oe,"\u0275\u0275defineInjectable":b,"\u0275\u0275defineInjector":C,"\u0275\u0275defineNgModule":re,"\u0275\u0275definePipe":ae,"\u0275\u0275directiveInject":xa,"\u0275\u0275getInheritedFactory":hn,"\u0275\u0275inject":Wn,"\u0275\u0275injectAttribute":pn,"\u0275\u0275invalidFactory":Pa,"\u0275\u0275invalidFactoryDep":Kn,"\u0275\u0275templateRefExtractor":Vd,"\u0275\u0275NgOnChangesFeature":we,"\u0275\u0275ProvidersFeature":Zu,"\u0275\u0275CopyDefinitionFeature":Bo,"\u0275\u0275InheritDefinitionFeature":Fo,"\u0275\u0275nextContext":Wa,"\u0275\u0275namespaceHTML":At,"\u0275\u0275namespaceMathML":kt,"\u0275\u0275namespaceSVG":St,"\u0275\u0275enableBindings":He,"\u0275\u0275disableBindings":$e,"\u0275\u0275elementStart":Ra,"\u0275\u0275elementEnd":Da,"\u0275\u0275element":La,"\u0275\u0275elementContainerStart":Ma,"\u0275\u0275elementContainerEnd":Fa,"\u0275\u0275elementContainer":Ua,"\u0275\u0275pureFunction0":Kh,"\u0275\u0275pureFunction1":Qh,"\u0275\u0275pureFunction2":Yh,"\u0275\u0275pureFunction3":Jh,"\u0275\u0275pureFunction4":Xh,"\u0275\u0275pureFunction5":ed,"\u0275\u0275pureFunction6":td,"\u0275\u0275pureFunction7":nd,"\u0275\u0275pureFunction8":rd,"\u0275\u0275pureFunctionV":id,"\u0275\u0275getCurrentView":Va,"\u0275\u0275restoreView":Ke,"\u0275\u0275listener":za,"\u0275\u0275projection":Ya,"\u0275\u0275syntheticHostProperty":bc,"\u0275\u0275syntheticHostListener":Ba,"\u0275\u0275pipeBind1":dd,"\u0275\u0275pipeBind2":pd,"\u0275\u0275pipeBind3":fd,"\u0275\u0275pipeBind4":gd,"\u0275\u0275pipeBindV":md,"\u0275\u0275projectionDef":Qa,"\u0275\u0275hostProperty":wc,"\u0275\u0275property":Oa,"\u0275\u0275propertyInterpolate":Ja,"\u0275\u0275propertyInterpolate1":Xa,"\u0275\u0275propertyInterpolate2":el,"\u0275\u0275propertyInterpolate3":tl,"\u0275\u0275propertyInterpolate4":nl,"\u0275\u0275propertyInterpolate5":rl,"\u0275\u0275propertyInterpolate6":il,"\u0275\u0275propertyInterpolate7":sl,"\u0275\u0275propertyInterpolate8":ol,"\u0275\u0275propertyInterpolateV":al,"\u0275\u0275pipe":hd,"\u0275\u0275queryRefresh":Nd,"\u0275\u0275viewQuery":Rd,"\u0275\u0275loadQuery":Ld,"\u0275\u0275contentQuery":Dd,"\u0275\u0275reference":Ca,"\u0275\u0275classMap":Tl,"\u0275\u0275classMapInterpolate1":Gl,"\u0275\u0275classMapInterpolate2":Wl,"\u0275\u0275classMapInterpolate3":Kl,"\u0275\u0275classMapInterpolate4":Ql,"\u0275\u0275classMapInterpolate5":Yl,"\u0275\u0275classMapInterpolate6":Jl,"\u0275\u0275classMapInterpolate7":Xl,"\u0275\u0275classMapInterpolate8":ec,"\u0275\u0275classMapInterpolateV":tc,"\u0275\u0275styleMap":bl,"\u0275\u0275styleMapInterpolate1":nc,"\u0275\u0275styleMapInterpolate2":rc,"\u0275\u0275styleMapInterpolate3":ic,"\u0275\u0275styleMapInterpolate4":sc,"\u0275\u0275styleMapInterpolate5":oc,"\u0275\u0275styleMapInterpolate6":ac,"\u0275\u0275styleMapInterpolate7":lc,"\u0275\u0275styleMapInterpolate8":cc,"\u0275\u0275styleMapInterpolateV":uc,"\u0275\u0275styleProp":vl,"\u0275\u0275stylePropInterpolate1":hc,"\u0275\u0275stylePropInterpolate2":dc,"\u0275\u0275stylePropInterpolate3":pc,"\u0275\u0275stylePropInterpolate4":fc,"\u0275\u0275stylePropInterpolate5":gc,"\u0275\u0275stylePropInterpolate6":mc,"\u0275\u0275stylePropInterpolate7":yc,"\u0275\u0275stylePropInterpolate8":_c,"\u0275\u0275stylePropInterpolateV":vc,"\u0275\u0275classProp":wl,"\u0275\u0275advance":_s,"\u0275\u0275template":ba,"\u0275\u0275text":Ml,"\u0275\u0275textInterpolate":Fl,"\u0275\u0275textInterpolate1":Ul,"\u0275\u0275textInterpolate2":Vl,"\u0275\u0275textInterpolate3":ql,"\u0275\u0275textInterpolate4":jl,"\u0275\u0275textInterpolate5":Zl,"\u0275\u0275textInterpolate6":zl,"\u0275\u0275textInterpolate7":Bl,"\u0275\u0275textInterpolate8":Hl,"\u0275\u0275textInterpolateV":$l,"\u0275\u0275i18n":Pu,"\u0275\u0275i18nAttributes":Ou,"\u0275\u0275i18nExp":Nu,"\u0275\u0275i18nStart":Au,"\u0275\u0275i18nEnd":xu,"\u0275\u0275i18nApply":Ru,"\u0275\u0275i18nPostprocess":Du,"\u0275\u0275resolveWindow":_i,"\u0275\u0275resolveDocument":vi,"\u0275\u0275resolveBody":wi,"\u0275\u0275setComponentScope":X,"\u0275\u0275setNgModuleScope":ie,"\u0275\u0275sanitizeHtml":ei,"\u0275\u0275sanitizeStyle":ti,"\u0275\u0275sanitizeResourceUrl":ri,"\u0275\u0275sanitizeScript":ii,"\u0275\u0275sanitizeUrl":ni,"\u0275\u0275sanitizeUrlOrResourceUrl":ai,"\u0275\u0275trustConstantHtml":si,"\u0275\u0275trustConstantResourceUrl":oi,forwardRef:p,resolveForwardRef:f}))(),jd=[];function Zd(e){return function(e){return void 0!==e.ngModule}(e)?e.ngModule:e}const zd=yn("NgModule",e=>e,void 0,void 0,(e,t)=>Bd(e,t)),Bd=function(e,t={}){!function(e,t,n=!1){const r=Sn(t.declarations||z);let i=null;Object.defineProperty(e,G,{configurable:!0,get:()=>(null===i&&(i=Tn().compileNgModule(qd,`ng:///${e.name}/\u0275mod.js`,{type:e,bootstrap:Sn(t.bootstrap||z).map(f),declarations:r.map(f),imports:Sn(t.imports||z).map(f).map(Zd),exports:Sn(t.exports||z).map(f).map(Zd),schemas:t.schemas?Sn(t.schemas):null,id:t.id||null}),i.schemas||(i.schemas=[])),i)});let s=null;Object.defineProperty(e,K,{get:()=>{if(null===s){const t=Tn();s=t.compileFactory(qd,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,deps:or(e),target:t.FactoryTarget.NgModule,typeArgumentCount:0})}return s},configurable:!1});let o=null;Object.defineProperty(e,k,{get:()=>{if(null===o){const n={name:e.name,type:e,providers:t.providers||z,imports:[(t.imports||z).map(f),(t.exports||z).map(f)]};o=Tn().compileInjector(qd,`ng:///${e.name}/\u0275inj.js`,n)}return o},configurable:!1})}(e,t),function(e,t){jd.push({moduleType:e,ngModule:t})}(e,t)},Hd=new bn("Application Initializer");let $d=(()=>{class e{constructor(e){this.appInits=e,this.resolve=$u,this.reject=$u,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();if(qa(t))e.push(t);else if(Za(t)){const n=new Promise((e,n)=>{t.subscribe({complete:e,error:n})});e.push(n)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(Wn(Hd,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();const Gd=new bn("AppId"),Wd={provide:Gd,useFactory:function(){return`${Kd()}${Kd()}${Kd()}`},deps:[]};function Kd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Qd=new bn("Platform Initializer"),Yd=new bn("Platform ID"),Jd=new bn("appBootstrapListener");let Xd=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();const ep=new bn("LocaleId"),tp=new bn("DefaultCurrencyCode");class np{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const rp=function(e){return new Wh(e)},ip=rp,sp=function(e){return Promise.resolve(rp(e))},op=function(e){const t=rp(e),n=bi(ce(e).declarations).reduce((e,t)=>{const n=le(t);return n&&e.push(new zh(n)),e},[]);return new np(t,n)},ap=op,lp=function(e){return Promise.resolve(op(e))};let cp=(()=>{class e{constructor(){this.compileModuleSync=ip,this.compileModuleAsync=sp,this.compileModuleAndAllComponentsSync=ap,this.compileModuleAndAllComponentsAsync=lp}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();const up=(()=>Promise.resolve(0))();function hp(e){"undefined"==typeof Zone?up.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class dp{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wd(!1),this.onMicrotaskEmpty=new wd(!1),this.onStable=new wd(!1),this.onError=new wd(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=j.requestAnimationFrame,t=j.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(j,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,gp(e),e.isCheckStableRunning=!0,fp(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),gp(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return mp(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),yp(e)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return mp(e),n.invoke(i,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),yp(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,gp(e),fp(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dp.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(dp.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,pp,$u,$u);try{return i.runTask(s,t,n)}finally{i.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const pp={};function fp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function gp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function mp(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function yp(e){e._nesting--,fp(e)}class _p{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wd,this.onMicrotaskEmpty=new wd,this.onStable=new wd,this.onError=new wd}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let vp=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dp.assertNotInAngularZone(),hp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hp(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(Wn(dp))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})(),wp=(()=>{class e{constructor(){this._applications=new Map,Ip.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Ip.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();class bp{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function Cp(e){Ip=e}let Tp,Ip=new bp,Ep=!0,Sp=!1;function kp(){return Sp=!0,Ep}function Ap(){if(Sp)throw new Error("Cannot enable prod mode after platform setup.");Ep=!1}const xp=new bn("AllowMultipleToken");class Pp{constructor(e,t){this.name=e,this.token=t}}function Op(e,t,n=[]){const r=`Platform: ${t}`,i=new bn(r);return(t=[])=>{let s=Np();if(!s||s.injector.get(xp,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0},{provide:bo,useValue:"platform"});!function(e){if(Tp&&!Tp.destroyed&&!Tp.injector.get(xp,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Tp=e.get(Rp);const t=e.get(Qd,null);t&&t.forEach(e=>e())}(Do.create({providers:e,name:r}))}return function(e){const t=Np();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Np(){return Tp&&!Tp.destroyed?Tp:null}let Rp=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new _p:("zone.js"===e?void 0:e)||new dp({enableLongStackTrace:kp(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:dp,useValue:n}];return n.run(()=>{const t=Do.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),s=i.injector.get(fi,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{s.handleError(e)}});i.onDestroy(()=>{Mp(this._modules,i),e.unsubscribe()})}),function(e,t,n){try{const r=n();return qa(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,n,()=>{const e=i.injector.get($d);return e.runInitializers(),e.donePromise.then(()=>(Lc(i.injector.get(ep,Pc)||Pc),this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=Dp({},t);return function(e,t,n){const r=new Wh(n);return Promise.resolve(r)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Lp);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${u(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Wn(Do))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();function Dp(e,t){return Array.isArray(t)?t.reduce(Dp,e):Object.assign(Object.assign({},e),t)}let Lp=(()=>{class e{constructor(e,t,n,r,i){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),c=new s.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{dp.assertNotInAngularZone(),hp(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{dp.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(l,c.pipe((0,a.B)()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof zu?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Ph),i=n.create(Do.NULL,[],t||n.selector,r),s=i.location.nativeElement,o=i.injector.get(vp,null),a=o&&i.injector.get(wp);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Mp(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Mp(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Jd,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(Wn(dp),Wn(Do),Wn(fi),Wn(Hu),Wn($d))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();function Mp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Fp{}class Up{}const Vp={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let qp=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||Vp}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n(8255)(t).then(e=>e[r]).then(e=>jp(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>jp(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)(Wn(cp),Wn(Up,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();function jp(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const Zp=function(e){return null},zp=Op(null,"core",[{provide:Yd,useValue:"unknown"},{provide:Rp,deps:[Do]},{provide:wp,deps:[]},{provide:Xd,deps:[]}]),Bp=[{provide:Lp,useClass:Lp,deps:[dp,Do,fi,Hu,$d]},{provide:Zh,deps:[dp],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:$d,useClass:$d,deps:[[new Xn,Hd]]},{provide:cp,useClass:cp,deps:[]},Wd,{provide:fh,useFactory:function(){return Th},deps:[]},{provide:mh,useFactory:function(){return Ih},deps:[]},{provide:ep,useFactory:function(e){return Lc(e=e||"undefined"!=typeof $localize&&$localize.locale||Pc),e},deps:[[new Jn(ep),new Xn,new tr]]},{provide:tp,useValue:"USD"}];let Hp=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(Wn(Lp))},e.\u0275mod=re({type:e}),e.\u0275inj=C({providers:Bp}),e})()},9748:(e,t,n)=>{"use strict";n.d(t,{hO:()=>g,xv:()=>h,Dh:()=>u,GT:()=>l,on:()=>d,pX:()=>a});var r=n(5366),i=n(9001),s=n(5271);e=n.hmd(e);const o=["ngOnDestroy"],a=(e,t,n,r={})=>new Proxy(e,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(e[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,e[s]),e[s];if(o.indexOf(s)>-1)return()=>{};const a=t.toPromise().then(e=>{const t=e&&e[s];return"function"==typeof t?t.bind(e):t&&t.then?t.then(e=>n.run(()=>e)):n.run(()=>t)});return new Proxy(()=>{},{get:(e,t)=>a[t],apply:(e,t,n)=>a.then(e=>{var t;const i=e&&e(...n);return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(s,n,i),i})})})}),l=(e,t)=>{t.forEach(t=>{Object.getOwnPropertyNames(t.prototype||t).forEach(n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})};class c{constructor(e){return e}}const u=new r.OlP("angularfire2.app.options"),h=new r.OlP("angularfire2.app.name");function d(t,n,r){const s="object"==typeof r&&r||{};s.name=s.name||"string"==typeof r&&r||"[DEFAULT]";const o=i.Z.apps.filter(e=>e&&e.name===s.name)[0]||n.runOutsideAngular(()=>i.Z.initializeApp(t,s));try{JSON.stringify(t)!==JSON.stringify(o.options)&&p("error",`${o.name} Firebase App already initialized with different options${e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new c(o)}const p=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)},f={provide:c,useFactory:d,deps:[u,r.R0b,[new r.FiY,h]]};let g=(()=>{class e{constructor(e){i.Z.registerVersion("angularfire",s.q4.full,"core"),i.Z.registerVersion("angularfire",s.q4.full,"app-compat"),i.Z.registerVersion("angular",r.q4F.full,e.toString())}static initializeApp(t,n){return{ngModule:e,providers:[{provide:u,useValue:t},{provide:h,useValue:n}]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[f]}),e})()},5271:(e,t,n)=>{"use strict";n.d(t,{q4:()=>c,iC:()=>_,HU:()=>m,cc:()=>d});var r=n(5366);(0,n(7092).registerVersion)("firebase","9.1.0","app");var i=n(8489),s=n(8569),o=n(4019),a=n(2893),l=n(45);e=n.hmd(e);const c=new r.GfV("7.0.4"),u=!!e.hot,h=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)};function d(e,t,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(t=>t[0]===e)||[];if(s)return function(e,t){try{return e.toString()===t.toString()}catch(n){return e===t}}(i,o)||(h("error",`${t} was already initialized on the ${n} Firebase App with different settings.${u?" You may need to reload as Firebase is not HMR aware.":""}`),h("warn",{is:i,was:o})),s;{const t=r();return globalThis.\u0275AngularfireInstanceCache.push([e,t,i]),t}}function p(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class f{constructor(e,t=i.N){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule(function(t){r.runGuarded(()=>{e.apply(this,[t])})},t,n)}}class g{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",p,{},p,p)),t.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let m=(()=>{class e{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new f(Zone.current)),this.insideAngular=e.run(()=>new f(Zone.current,s.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function y(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("AngularFireModule has not been provided");return e}function _(e){return y(),(t=y(),function(e){return(e=e.lift(new g(t.ngZone))).pipe((0,a.R)(t.outsideAngular),(0,l.QV)(t.insideAngular))})(e);var t}},1932:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(5725),i=n(5119),s=n(7092),o=n(2134);class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,s._addComponent)(e,new i.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(e,t=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,s._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,s._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const l=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),c=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(i,o={}){const a=s.initializeApp(i,o);if((0,r.r3)(t,a.name))return t[a.name];const l=new e(a,n);return t[a.name]=l,l},app:i,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(t){const o=t.name,a=o.replace("-compat","");if(s._registerComponent(t)&&"PUBLIC"===t.type){const s=(e=i())=>{if("function"!=typeof e[a])throw l.create("invalid-app-argument",{appName:o});return e[a]()};void 0!==t.serviceProps&&(0,r.ZB)(s,t.serviceProps),n[a]=s,e.prototype[a]=function(...e){return this._getService.bind(this,o).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:s}};function i(e){if(!(0,r.r3)(t,e=e||s._DEFAULT_ENTRY_NAME))throw l.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),i.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.ZB)(t,e)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),t}(),u=new o.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){u.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&u.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=c;(0,s.registerVersion)("@firebase/app-compat","0.1.2",void 0)},7092:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FirebaseError:()=>o.ZR,SDK_VERSION:()=>C,_DEFAULT_ENTRY_NAME:()=>u,_addComponent:()=>f,_addOrOverwriteComponent:()=>g,_apps:()=>d,_clearComponents:()=>v,_components:()=>p,_getProvider:()=>y,_registerComponent:()=>m,_removeServiceInstance:()=>_,deleteApp:()=>S,getApp:()=>I,getApps:()=>E,initializeApp:()=>T,onLog:()=>x,registerVersion:()=>A,setLogLevel:()=>P});var r=n(6304),i=n(5119),s=n(2134),o=n(5725);class a{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const l="@firebase/app",c=new s.Yd("@firebase/app"),u="[DEFAULT]",h={[l]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},d=new Map,p=new Map;function f(e,t){try{e.container.addComponent(t)}catch(n){c.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function g(e,t){e.container.addOrOverwriteComponent(t)}function m(e){const t=e.name;if(p.has(t))return c.debug(`There were multiple attempts to register component ${t}.`),!1;p.set(t,e);for(const n of d.values())f(n,e);return!0}function y(e,t){return e.container.getProvider(t)}function _(e,t,n=u){y(e,t).clearInstance(n)}function v(){p.clear()}const w=new o.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class b{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw w.create("app-deleted",{appName:this._name})}}const C="9.1.0";function T(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:u,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw w.create("bad-app-name",{appName:String(r)});const s=d.get(r);if(s){if((0,o.vZ)(e,s.options)&&(0,o.vZ)(n,s.config))return s;throw w.create("duplicate-app",{appName:r})}const a=new i.H0(r);for(const i of p.values())a.addComponent(i);const l=new b(e,n,a);return d.set(r,l),l}function I(e=u){const t=d.get(e);if(!t)throw w.create("no-app",{appName:e});return t}function E(){return Array.from(d.values())}function S(e){return k.apply(this,arguments)}function k(){return(k=(0,r.Z)(function*(e){const t=e.name;d.has(t)&&(d.delete(t),yield Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)})).apply(this,arguments)}function A(e,t,n){var r;let s=null!==(r=h[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void c.warn(e.join(" "))}m(new i.wA(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}function x(e,t){if(null!==e&&"function"!=typeof e)throw w.create("invalid-log-argument");(0,s.Am)(e,t)}function P(e){(0,s.Ub)(e)}m(new i.wA("platform-logger",e=>new a(e),"PRIVATE")),A(l,"0.7.1",void 0),A("fire-js","")},5119:(e,t,n)=>{"use strict";n.d(t,{wA:()=>s,H0:()=>l,zt:()=>a});var r=n(4762),i=n(5725),s=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),o="[DEFAULT]",a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=(0,r.CR)(s.value,2),l=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var u=this.getOrInitializeService({instanceIdentifier:c});l.resolve(u)}catch(h){}}}catch(d){t={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=o),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var e;return(0,r.Jh)(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))),(0,r.CR)(e.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))))];case 1:return t.sent(),[2]}})})},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=o),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=o),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var l=(0,r.XA)(this.instancesDeferred.entries()),c=l.next();!c.done;c=l.next()){var u=(0,r.CR)(c.value,2),h=u[1];o===this.normalizeInstanceIdentifier(u[0])&&h.resolve(a)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&e(s,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,s=this.onInitCallbacks.get(t);if(s)try{for(var o=(0,r.XA)(s),a=o.next();!a.done;a=o.next()){var l=a.value;try{l(e,t)}catch(c){}}}catch(u){n={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===o?void 0:t),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=o),this.component?this.component.multipleInstances?e:o:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),l=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},2134:(e,t,n)=>{"use strict";n.d(t,{in:()=>i,Yd:()=>c,Ub:()=>u,Am:()=>h});const r=[];var i=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({});const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class c{constructor(e){this.name=e,this._logLevel=o,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}function u(e){r.forEach(t=>{t.setLogLevel(e)})}function h(e,t){for(const n of r){let r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:(t,n,...s)=>{const o=s.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(e=>e).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:o,args:s,type:t.name})}}}},5725:(e,t,n)=>{"use strict";n.d(t,{BH:()=>d,LL:()=>k,ZR:()=>S,gQ:()=>z,hu:()=>r,g5:()=>i,US:()=>o,tV:()=>c,h$:()=>a,r3:()=>D,Sg:()=>p,ne:()=>B,p$:()=>u,vZ:()=>U,ZB:()=>h,gK:()=>W,pd:()=>Z,m9:()=>X,z$:()=>f,GJ:()=>R,jU:()=>y,ru:()=>_,d:()=>w,xb:()=>M,w1:()=>b,hl:()=>E,uI:()=>g,UG:()=>m,Yr:()=>T,b$:()=>v,G6:()=>I,Mn:()=>C,w9:()=>N,cI:()=>x,UI:()=>F,xO:()=>q,zd:()=>j,DV:()=>L,ug:()=>J,dS:()=>Y,Pz:()=>P,Dv:()=>G,Wj:()=>K,lb:()=>Q});const r=function(e,t){if(!e)throw i(t)},i=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},s=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0;let c=(15&o)<<2|l>>6,u=63&l;a||(u=64,s||(c=64)),r.push(n[t>>2],n[(3&t)<<4|o>>4],n[c],n[u])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw Error();r.push(t<<2|s>>4),64!==o&&(r.push(s<<4&240|o>>2),64!==a&&r.push(o<<6&192|a))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},a=function(e){const t=s(e);return o.encodeByteArray(t,!0)},l=function(e){return a(e).replace(/\./g,"")},c=function(e){try{return o.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function u(e){return h(void 0,e)}function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=h(e[n],t[n]));return e}class d{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function p(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(s)),""].join(".")}function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())}function m(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function y(){return"object"==typeof self&&self.self===self}function _(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function v(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function w(){return f().indexOf("Electron/")>=0}function b(){const e=f();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function C(){return f().indexOf("MSAppHost/")>=0}function T(){return!1}function I(){return!m()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E(){return"object"==typeof indexedDB}class S extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,S.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,k.prototype.create)}}class k{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(A,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error";return new S(r,`${this.serviceName}: ${s} (${r}).`,n)}}const A=/\{\$([^}]+)}/g;function x(e){return JSON.parse(e)}function P(e){return JSON.stringify(e)}const O=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=x(c(s[0])||""),n=x(c(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:r,signature:i}},N=function(e){const t=O(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},R=function(e){const t=O(e).claims;return"object"==typeof t&&!0===t.admin};function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function M(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function F(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function U(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(V(n)&&V(s)){if(!U(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function V(e){return null!==e&&"object"==typeof e}function q(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function j(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Z(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class z{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^o&(a^l),i=1518500249):(r=o^a^l,i=1859775393):u<60?(r=o&a|l&(o|a),i=2400959708):(r=o^a^l,i=3395469782);const e=(s<<5|s>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(o<<30|o>>>2),o=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function B(e,t){const n=new H(e,t);return n.subscribe.bind(n)}class H{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of["next","error","complete"])if(n in e&&"function"==typeof e[n])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=$),void 0===r.error&&(r.error=$),void 0===r.complete&&(r.complete=$);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $(){}const G=function(e,t,n,r){let i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function W(e,t){return`${e} failed: ${t} argument `}function K(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(W(e,t)+"must be a valid function.")}function Q(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(W(e,t)+"must be a valid context object.")}const Y=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);if(s>=55296&&s<=56319){const t=s-55296;i++,r(i<e.length,"Surrogate pair missing trail surrogate."),s=65536+(t<<10)+(e.charCodeAt(i)-56320)}s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):s<65536?(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},J=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function X(e){return e&&e._delegate?e._delegate:e}},9001:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(1932);r.Z.registerVersion("firebase","9.1.0","app-compat")},6427:(e,t,n)=>{"use strict";n.r(t);var r=n(6304),i=n(1932),s=n(5725),o=n(7092),a=n(4762),l=n(2134),c=n(5119);const u=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},h=new s.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d=new l.Yd("@firebase/auth");function p(e,...t){d.logLevel<=l.in.ERROR&&d.error(`Auth (${o.SDK_VERSION}): ${e}`,...t)}function f(e,...t){throw _(e,...t)}function g(e,...t){return _(e,...t)}function m(e,t,n){const r=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),{[t]:n});return new s.LL("auth","Firebase",r).create(t,{appName:e.name})}function y(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&f(e,"argument-error"),m(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return h.create(e,...t)}function v(e,t,...n){if(!e)throw _(t,...n)}function w(e){const t="INTERNAL ASSERTION FAILED: "+e;throw p(t),new Error(t)}function b(e,t){e||w(t)}const C=new Map;function T(e){b(e instanceof Function,"Expected a class definition");let t=C.get(e);return t?(b(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,C.set(e,t),t)}function I(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function E(){return"http:"===S()||"https:"===S()}function S(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class k{constructor(e,t){this.shortDelay=e,this.longDelay=t,b(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,s.uI)()||(0,s.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(E()||(0,s.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function A(e,t){b(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class x{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void w("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void w("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void w("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const P={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},O=new k(3e4,6e4);function N(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function R(e,t,n,r){return D.apply(this,arguments)}function D(){return(D=(0,r.Z)(function*(e,t,n,r,i={}){return L(e,i,()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=(0,s.xO)(Object.assign({key:e.config.apiKey},o)).slice(1),l=new(x.headers());return l.set("Content-Type","application/json"),l.set("X-Client-Version",e._getSdkClientVersion()),e.languageCode&&l.set("X-Firebase-Locale",e.languageCode),x.fetch()(V(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},i))})})).apply(this,arguments)}function L(e,t,n){return M.apply(this,arguments)}function M(){return(M=(0,r.Z)(function*(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},P),t);try{const t=new q(e),i=yield Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=yield i.json();if("needConfirmation"in s)throw j(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw j(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw j(e,"email-already-in-use",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw m(e,a,o);f(e,a)}}catch(i){if(i instanceof s.ZR)throw i;f(e,"network-request-failed")}})).apply(this,arguments)}function F(e,t,n,r){return U.apply(this,arguments)}function U(){return(U=(0,r.Z)(function*(e,t,n,r,i={}){const s=yield R(e,t,n,r,i);return"mfaPendingCredential"in s&&f(e,"multi-factor-auth-required",{serverResponse:s}),s})).apply(this,arguments)}function V(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?A(e.config,i):`${e.config.apiScheme}://${i}`}class q{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(g(this.auth,"timeout")),O.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function j(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=g(e,t,r);return i.customData._tokenResponse=n,i}function Z(){return(Z=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function z(e,t){return B.apply(this,arguments)}function B(){return(B=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function H(e,t){return $.apply(this,arguments)}function $(){return($=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function G(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function W(){return(W=(0,r.Z)(function*(e,t=!1){const n=(0,s.m9)(e),r=yield n.getIdToken(t),i=Q(r);v(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:G(K(i.auth_time)),issuedAtTime:G(K(i.iat)),expirationTime:G(K(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}})).apply(this,arguments)}function K(e){return 1e3*Number(e)}function Q(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return p("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,s.tV)(n);return e?JSON.parse(e):(p("Failed to decode base64 JWT payload"),null)}catch(i){return p("Caught error parsing JWT payload as JSON",i),null}}function Y(e,t){return J.apply(this,arguments)}function J(){return(J=(0,r.Z)(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof s.ZR&&X(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}function X({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}class ee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout((0,r.Z)(function*(){yield t.iteration()}),n)}iteration(){var e=this;return(0,r.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class te{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=G(this.lastLoginAt),this.creationTime=G(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ne(e){return re.apply(this,arguments)}function re(){return(re=(0,r.Z)(function*(e){var t;const n=e.auth,r=yield e.getIdToken(),i=yield Y(e,H(n,{idToken:r}));v(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?oe(s.providerUserInfo):[],a=se(e.providerData,o),l=!!e.isAnonymous&&!(e.email&&s.passwordHash||(null==a?void 0:a.length)),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new te(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(e,c)})).apply(this,arguments)}function ie(){return(ie=(0,r.Z)(function*(e){const t=(0,s.m9)(e);yield ne(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function se(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function oe(e){return e.map(e=>{var{providerId:t}=e,n=(0,a._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function ae(){return(ae=(0,r.Z)(function*(e,t){const n=yield L(e,{},()=>{const n=(0,s.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=V(e,r,"/v1/token",`key=${i}`);return x.fetch()(o,{method:"POST",headers:{"X-Client-Version":e._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class le{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){v(e.idToken,"internal-error"),v(void 0!==e.idToken,"internal-error"),v(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Q(e);return v(t,"internal-error"),v(void 0!==t.exp,"internal-error"),v(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var n=this;return(0,r.Z)(function*(){return v(!n.accessToken||n.refreshToken,e,"user-token-expired"),t||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(e,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var n=this;return(0,r.Z)(function*(){const{accessToken:r,refreshToken:i,expiresIn:s}=yield function(e,t){return ae.apply(this,arguments)}(e,t);n.updateTokensAndExpiration(r,i,Number(s))})()}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new le;return n&&(v("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(v("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(v("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new le,this.toJSON())}_performRefresh(){return w("not implemented")}}function ce(e,t){v("string"==typeof e||void 0===e,"internal-error",{appName:t})}class ue{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=(0,a._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new ee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.metadata=new te(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,r.Z)(function*(){const n=yield Y(t,t.stsTokenManager.getToken(t.auth,e));return v(n,t.auth,"internal-error"),t.accessToken!==n&&(t.accessToken=n,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),n})()}getIdTokenResult(e){return function(e){return W.apply(this,arguments)}(this,e)}reload(){return function(e){return ie.apply(this,arguments)}(this)}_assign(e){this!==e&&(v(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ue(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var n=this;return(0,r.Z)(function*(){let r=!1;e.idToken&&e.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield ne(n)),yield n.auth._persistUserIfCurrent(n),r&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var e=this;return(0,r.Z)(function*(){const t=yield e.getIdToken();return yield Y(e,function(e,t){return Z.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,f=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:_,emailVerified:w,isAnonymous:b,providerData:C,stsTokenManager:T}=t;v(_&&T,e,"internal-error");const I=le.fromJSON(this.name,T);v("string"==typeof _,e,"internal-error"),ce(u,e.name),ce(h,e.name),v("boolean"==typeof w,e,"internal-error"),v("boolean"==typeof b,e,"internal-error"),ce(d,e.name),ce(p,e.name),ce(f,e.name),ce(g,e.name),ce(m,e.name),ce(y,e.name);const E=new ue({uid:_,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:f,stsTokenManager:I,createdAt:m,lastLoginAt:y});return C&&Array.isArray(C)&&(E.providerData=C.map(e=>Object.assign({},e))),g&&(E._redirectEventId=g),E}static _fromIdTokenResponse(e,t,n=!1){return(0,r.Z)(function*(){const r=new le;r.updateFromServerResponse(t);const i=new ue({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return yield ne(i),i})()}}const he=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(e,t){var n=this;return(0,r.Z)(function*(){n.storage[e]=t})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=t.storage[e];return void 0===n?null:n})()}_remove(e){var t=this;return(0,r.Z)(function*(){delete t.storage[e]})()}_addListener(e,t){}_removeListener(e,t){}}return e.type="NONE",e})();function de(e,t,n){return`firebase:${e}:${t}:${n}`}class pe{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=de(this.userKey,r.apiKey,i),this.fullPersistenceKey=de("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,r.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?ue._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,r.Z)(function*(){if(t.persistence===e)return;const n=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,n?t.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,n="authUser"){return(0,r.Z)(function*(){if(!t.length)return new pe(T(he),e,n);const i=(yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(yield e._isAvailable())return e});return function(t){return e.apply(this,arguments)}}()))).filter(e=>e);let s=i[0]||T(he);const o=de(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=yield n._get(o);if(t){const r=ue._fromJSON(e,t);n!==s&&(a=r),s=n;break}}catch(c){}const l=i.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(e!==s)try{yield e._remove(o)}catch(c){}});return function(t){return e.apply(this,arguments)}}())),new pe(s,e,n)):new pe(s,e,n)})()}}function fe(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_e(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ge(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(we(t))return"Blackberry";if(be(t))return"Webos";if(me(t))return"Safari";if((t.includes("chrome/")||ye(t))&&!t.includes("edge/"))return"Chrome";if(ve(t))return"Android";{const t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==t?void 0:t.length))return t[1]}return"Other"}function ge(e=(0,s.z$)()){return/firefox\//i.test(e)}function me(e=(0,s.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ye(e=(0,s.z$)()){return/crios\//i.test(e)}function _e(e=(0,s.z$)()){return/iemobile/i.test(e)}function ve(e=(0,s.z$)()){return/android/i.test(e)}function we(e=(0,s.z$)()){return/blackberry/i.test(e)}function be(e=(0,s.z$)()){return/webos/i.test(e)}function Ce(e=(0,s.z$)()){return/iphone|ipad|ipod/i.test(e)}function Te(e=(0,s.z$)()){return Ce(e)||ve(e)||be(e)||we(e)||/windows phone/i.test(e)||_e(e)}function Ie(e,t=[]){let n;switch(e){case"Browser":n=fe((0,s.z$)());break;case"Worker":n=`${fe((0,s.z$)())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${o.SDK_VERSION}/${r}`}class Ee{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ke(this),this.idTokenSubscription=new ke(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){var n=this;return t&&(this._popupRedirectResolver=T(t)),this._initializationPromise=this.queue((0,r.Z)(function*(){var r;n._deleted||(n.persistenceManager=yield pe.create(n,e),n._deleted||((null===(r=n._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)&&(yield n._popupRedirectResolver._initialize(n)),yield n.initializeCurrentUser(t),n._deleted||(n._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,r.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();return e.currentUser||t?e.currentUser&&t&&e.currentUser.uid===t.uid?(e._currentUser._assign(t),void(yield e.currentUser.getIdToken())):void(yield e._updateCurrentUser(t)):void 0})()}initializeCurrentUser(e){var t=this;return(0,r.Z)(function*(){var n;let r=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const i=null===(n=t.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null==r?void 0:r._redirectEventId,o=yield t.tryRedirectSignIn(e);i&&i!==s||!(null==o?void 0:o.user)||(r=o.user)}return r?r._redirectEventId?(v(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===r._redirectEventId?t.directlySetCurrentUser(r):t.reloadAndSetCurrentUserOrClear(r)):t.reloadAndSetCurrentUserOrClear(r):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return(0,r.Z)(function*(){let n=null;try{n=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(r){yield t._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,r.Z)(function*(){try{yield ne(e)}catch(n){if("auth/network-request-failed"!==n.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var e=this;return(0,r.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){const n=e?(0,s.m9)(e):null;return n&&v(n.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(n&&n._clone(t))})()}_updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){if(!t._deleted)return e&&v(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue((0,r.Z)(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,r.Z)(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue((0,r.Z)(function*(){yield t.assertedPersistence.setPersistence(T(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new s.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var n=this;return(0,r.Z)(function*(){const r=yield n.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,r.Z)(function*(){if(!t.redirectPersistenceManager){const n=e&&T(e)||t._popupRedirectResolver;v(n,t,"argument-error"),t.redirectPersistenceManager=yield pe.create(t,[T(n._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,r.Z)(function*(){var n,i;return t._isInitialized&&(yield t.queue((0,r.Z)(function*(){}))),(null===(n=t._currentUser)||void 0===n?void 0:n._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,r.Z)(function*(){if(e===t.currentUser)return t.queue((0,r.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return v(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,r.Z)(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ie(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Se(e){return(0,s.m9)(e)}class ke{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,s.ne)(e=>this.observer=e)}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ae(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function xe(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Pe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return w("not implemented")}_getIdTokenResponse(e){return w("not implemented")}_linkToIdToken(e,t){return w("not implemented")}_getReauthenticationResolver(e){return w("not implemented")}}function Oe(e,t){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:resetPassword",N(e,t))})).apply(this,arguments)}function Re(e,t){return De.apply(this,arguments)}function De(){return(De=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Le(e,t){return Me.apply(this,arguments)}function Me(){return(Me=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:update",N(e,t))})).apply(this,arguments)}function Fe(){return(Fe=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithPassword",N(e,t))})).apply(this,arguments)}function Ue(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:sendOobCode",N(e,t))})).apply(this,arguments)}function qe(e,t){return je.apply(this,arguments)}function je(){return(je=(0,r.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function Ze(e,t){return ze.apply(this,arguments)}function ze(){return(ze=(0,r.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function Be(e,t){return He.apply(this,arguments)}function He(){return(He=(0,r.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function $e(e,t){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,r.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function We(){return(We=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))})).apply(this,arguments)}function Ke(){return(Ke=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))})).apply(this,arguments)}class Qe extends Pe{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Qe(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Qe(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,r.Z)(function*(){switch(t.signInMethod){case"password":return function(e,t){return Fe.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function(e,t){return We.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:f(e,"internal-error")}})()}_linkToIdToken(e,t){var n=this;return(0,r.Z)(function*(){switch(n.signInMethod){case"password":return Re(e,{idToken:t,returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(e,t){return Ke.apply(this,arguments)}(e,{idToken:t,email:n._email,oobCode:n._password});default:f(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Ye(e,t){return Je.apply(this,arguments)}function Je(){return(Je=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithIdp",N(e,t))})).apply(this,arguments)}class Xe extends Pe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xe(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):f("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,a._T)(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Xe(n,r);return Object.assign(s,i),s}_getIdTokenResponse(e){return Ye(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ye(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ye(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,s.xO)(t)}return e}}function et(e,t){return tt.apply(this,arguments)}function tt(){return(tt=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:sendVerificationCode",N(e,t))})).apply(this,arguments)}function nt(){return(nt=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,t))})).apply(this,arguments)}function rt(){return(rt=(0,r.Z)(function*(e,t){const n=yield F(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,t));if(n.temporaryProof)throw j(e,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const it={USER_NOT_FOUND:"user-not-found"};function st(){return(st=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),it)})).apply(this,arguments)}class ot extends Pe{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ot({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ot({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function(e,t){return nt.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function(e,t){return rt.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function(e,t){return st.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ot({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class at{constructor(e){var t,n,r,i,o,a;const l=(0,s.zd)((0,s.pd)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);v(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=null!==(i=l.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,s.zd)((0,s.pd)(e)).link,n=t?(0,s.zd)((0,s.pd)(t)).deep_link_id:null,r=(0,s.zd)((0,s.pd)(e)).deep_link_id;return(r?(0,s.zd)((0,s.pd)(r)).link:null)||r||n||t||e}(e);try{return new at(t)}catch(n){return null}}}let lt=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return Qe._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=at.parseLink(t);return v(n,"argument-error"),Qe._fromEmailAndCode(e,n.code,n.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class ct{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ut extends ct{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ht extends ut{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return v("providerId"in t&&"signInMethod"in t,"argument-error"),Xe._fromParams(t)}credential(e){return this._credential(e)}_credential(e){return v(e.idToken||e.accessToken,"argument-error"),Xe._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ht.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ht.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!(n||r||t||i))return null;if(!o)return null;try{return new ht(o)._credential({idToken:t,accessToken:n,rawNonce:s,pendingToken:i})}catch(a){return null}}}let dt=(()=>{class e extends ut{constructor(){super("facebook.com")}static credential(t){return Xe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(),pt=(()=>{class e extends ut{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Xe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(),ft=(()=>{class e extends ut{constructor(){super("github.com")}static credential(t){return Xe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})();class gt extends Pe{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Ye(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ye(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ye(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new gt(n,i):null}static _create(e,t){return new gt(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let mt=(()=>{class e extends ut{constructor(){super("twitter.com")}static credential(t,n){return Xe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})();function yt(e,t){return _t.apply(this,arguments)}function _t(){return(_t=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signUp",N(e,t))})).apply(this,arguments)}class vt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,n,i=!1){return(0,r.Z)(function*(){const r=yield ue._fromIdTokenResponse(e,n,i),s=wt(n);return new vt({user:r,providerId:s,_tokenResponse:n,operationType:t})})()}static _forOperation(e,t,n){return(0,r.Z)(function*(){yield e._updateTokensIfNecessary(n,!0);const r=wt(n);return new vt({user:e,providerId:r,_tokenResponse:n,operationType:t})})()}}function wt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function bt(){return(bt=(0,r.Z)(function*(e){var t;const n=Se(e);if(yield n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new vt({user:n.currentUser,providerId:null,operationType:"signIn"});const r=yield yt(n,{returnSecureToken:!0}),i=yield vt._fromIdTokenResponse(n,"signIn",r,!0);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class Ct extends s.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ct.prototype),this.appName=e.name,this.code=t.code,this.tenantId=null!==(i=e.tenantId)&&void 0!==i?i:void 0,this.serverResponse=t.customData.serverResponse}static _fromErrorAndOperation(e,t,n,r){return new Ct(e,t,n,r)}}function Tt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Ct._fromErrorAndOperation(e,n,t,r);throw n})}function It(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}function Et(){return(Et=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);yield At(!0,n,t);const{providerUserInfo:r}=yield z(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[t]}),i=It(r||[]);return n.providerData=n.providerData.filter(e=>i.has(e.providerId)),i.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})).apply(this,arguments)}function St(e,t){return kt.apply(this,arguments)}function kt(){return(kt=(0,r.Z)(function*(e,t,n=!1){const r=yield Y(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return vt._forOperation(e,"link",r)})).apply(this,arguments)}function At(e,t,n){return xt.apply(this,arguments)}function xt(){return(xt=(0,r.Z)(function*(e,t,n){yield ne(t);const r=!1===e?"provider-already-linked":"no-such-provider";v(It(t.providerData).has(n)===e,t.auth,r)})).apply(this,arguments)}function Pt(e,t){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,r.Z)(function*(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=yield Y(e,Tt(r,i,t,e),n);v(s.idToken,r,"internal-error");const o=Q(s.idToken);v(o,r,"internal-error");const{sub:a}=o;return v(e.uid===a,r,"user-mismatch"),vt._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&f(r,"user-mismatch"),s}})).apply(this,arguments)}function Nt(e,t){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,r.Z)(function*(e,t,n=!1){const r="signIn",i=yield Tt(e,r,t),s=yield vt._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Dt(e,t){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,r.Z)(function*(e,t){return Nt(Se(e),t)})).apply(this,arguments)}function Mt(e,t){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);return yield At(!1,n,t.providerId),St(n,t)})).apply(this,arguments)}function Ut(e,t){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,r.Z)(function*(e,t){return Pt((0,s.m9)(e),t)})).apply(this,arguments)}function qt(e,t){return jt.apply(this,arguments)}function jt(){return(jt=(0,r.Z)(function*(e,t){return F(e,"POST","/v1/accounts:signInWithCustomToken",N(e,t))})).apply(this,arguments)}function Zt(){return(Zt=(0,r.Z)(function*(e,t){const n=Se(e),r=yield qt(n,{token:t,returnSecureToken:!0}),i=yield vt._fromIdTokenResponse(n,"signIn",r);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class zt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Bt._fromServerResponse(e,t):f(e,"internal-error")}}class Bt extends zt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Bt(t)}}function Ht(e,t,n){var r;v((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),v(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(v(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iosBundleId=n.iOS.bundleId),n.android&&(v(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function $t(){return($t=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"PASSWORD_RESET",email:t};n&&Ht(r,i,n),yield Ze(r,i)})).apply(this,arguments)}function Gt(){return(Gt=(0,r.Z)(function*(e,t,n){yield Oe((0,s.m9)(e),{oobCode:t,newPassword:n})})).apply(this,arguments)}function Wt(){return(Wt=(0,r.Z)(function*(e,t){yield Le((0,s.m9)(e),{oobCode:t})})).apply(this,arguments)}function Kt(e,t){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r=yield Oe(n,{oobCode:t}),i=r.requestType;switch(v(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":v(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":v(r.mfaInfo,n,"internal-error");default:v(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=zt._fromServerResponse(Se(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}})).apply(this,arguments)}function Yt(){return(Yt=(0,r.Z)(function*(e,t){const{data:n}=yield Kt((0,s.m9)(e),t);return n.email})).apply(this,arguments)}function Jt(){return(Jt=(0,r.Z)(function*(e,t,n){const r=Se(e),i=yield yt(r,{returnSecureToken:!0,email:t,password:n}),s=yield vt._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function Xt(){return(Xt=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"EMAIL_SIGNIN",email:t};v(n.handleCodeInApp,r,"argument-error"),n&&Ht(r,i,n),yield Be(r,i)})).apply(this,arguments)}function en(){return(en=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=lt.credentialWithLink(t,n||I());return v(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Dt(r,i)})).apply(this,arguments)}function tn(e,t){return nn.apply(this,arguments)}function nn(){return(nn=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:createAuthUri",N(e,t))})).apply(this,arguments)}function rn(){return(rn=(0,r.Z)(function*(e,t){const n={identifier:t,continueUri:E()?I():"http://localhost"},{signinMethods:r}=yield tn((0,s.m9)(e),n);return r||[]})).apply(this,arguments)}function sn(){return(sn=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r={requestType:"VERIFY_EMAIL",idToken:yield e.getIdToken()};t&&Ht(n.auth,r,t);const{email:i}=yield qe(n.auth,r);i!==e.email&&(yield e.reload())})).apply(this,arguments)}function on(){return(on=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield e.getIdToken(),newEmail:t};n&&Ht(r.auth,i,n);const{email:o}=yield $e(r.auth,i);o!==e.email&&(yield e.reload())})).apply(this,arguments)}function an(e,t){return ln.apply(this,arguments)}function ln(){return(ln=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function cn(){return(cn=(0,r.Z)(function*(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=(0,s.m9)(e),i={idToken:yield r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=yield Y(r,an(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}function un(e,t,n){return hn.apply(this,arguments)}function hn(){return(hn=(0,r.Z)(function*(e,t,n){const{auth:r}=e,i={idToken:yield e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=yield Y(e,Re(r,i));yield e._updateTokensIfNecessary(s,!0)})).apply(this,arguments)}class dn{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class pn extends dn{constructor(e,t,n,r){super(e,t,n),this.username=r}}class fn extends dn{constructor(e,t){super(e,"facebook.com",t)}}class gn extends pn{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class mn extends dn{constructor(e,t){super(e,"google.com",t)}}class yn extends pn{constructor(e,t,n){super(e,"twitter.com",t,n)}}function _n(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=Q(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new dn(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new fn(s,i);case"github.com":return new gn(s,i);case"google.com":return new mn(s,i);case"twitter.com":return new yn(s,i,e.screenName||null);case"custom":case"anonymous":return new dn(s,null);default:return new dn(s,r,i)}}(n)}class vn{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new vn("enroll",e)}static _fromMfaPendingCredential(e){return new vn("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return vn._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return vn._fromIdtoken(e.multiFactorSession.idToken)}return null}}class wn{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Se(e),i=(t.serverResponse.mfaInfo||[]).map(e=>zt._fromServerResponse(n,e));v(t.serverResponse.mfaPendingCredential,n,"internal-error");const s=vn._fromMfaPendingCredential(t.serverResponse.mfaPendingCredential);return new wn(s,i,function(){var e=(0,r.Z)(function*(e){const r=yield e._process(n,s);delete t.serverResponse.mfaInfo,delete t.serverResponse.mfaPendingCredential;const i=Object.assign(Object.assign({},t.serverResponse),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=yield vt._fromIdTokenResponse(n,t.operationType,i);return yield n._updateCurrentUser(e.user),e;case"reauthenticate":return v(t.user,n,"internal-error"),vt._forOperation(t.user,t.operationType,i);default:f(n,"internal-error")}});return function(t){return e.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,r.Z)(function*(){return t.signInResolver(e)})()}}function bn(e,t){return R(e,"POST","/v2/accounts/mfaEnrollment:start",N(e,t))}class Cn{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>zt._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new Cn(e)}getSession(){var e=this;return(0,r.Z)(function*(){return vn._fromIdtoken(yield e.user.getIdToken())})()}enroll(e,t){var n=this;return(0,r.Z)(function*(){const r=e,i=yield n.getSession(),s=yield Y(n.user,r._process(n.user.auth,i,t));return yield n.user._updateTokensIfNecessary(s),n.user.reload()})()}unenroll(e){var t=this;return(0,r.Z)(function*(){const n="string"==typeof e?e:e.uid,r=yield t.user.getIdToken(),i=yield Y(t.user,(s=t.user.auth,o={idToken:r,mfaEnrollmentId:n},R(s,"POST","/v2/accounts/mfaEnrollment:withdraw",N(s,o))));var s,o;t.enrolledFactors=t.enrolledFactors.filter(({uid:e})=>e!==n),yield t.user._updateTokensIfNecessary(i);try{yield t.user.reload()}catch(a){if("auth/user-token-expired"!==a.code)throw a}})()}}const Tn=new WeakMap,In="__sak";class En{constructor(e,t){this.storage=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(In,"1"),this.storage.removeItem(In),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}}const Sn=(()=>{class e extends En{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,s.z$)();return me(e)||Ce(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Te(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,s.w1)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,t){var n=()=>super._set,i=this;return(0,r.Z)(function*(){yield n().call(i,e,t),i.localCache[e]=JSON.stringify(t)})()}_get(e){var t=()=>super._get,n=this;return(0,r.Z)(function*(){const r=yield t().call(n,e);return n.localCache[e]=JSON.stringify(r),r})()}_remove(e){var t=()=>super._remove,n=this;return(0,r.Z)(function*(){yield t().call(n,e),delete n.localCache[e]})()}}return e.type="LOCAL",e})(),kn=(()=>{class e extends En{constructor(){super(window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}return e.type="SESSION",e})();let An=(()=>{class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;const r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){var t=this;return(0,r.Z)(function*(){const n=e,{eventId:i,eventType:s,data:o}=n.data,a=t.handlersMap[s];if(!(null==a?void 0:a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(a).map(function(){var e=(0,r.Z)(function*(e){return e(n.origin,o)});return function(t){return e.apply(this,arguments)}}()),c=yield function(e){return Promise.all(e.map(function(){var e=(0,r.Z)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}});return function(t){return e.apply(this,arguments)}}()))}(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})()}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function xn(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class Pn{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,n=50){var i=this;return(0,r.Z)(function*(){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=xn("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"))}}},i.handlers.add(o),r.port1.addEventListener("message",o.onMessage),i.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{o&&i.removeMessageHandler(o)})})()}}function On(){return window}function Nn(){return void 0!==On().WorkerGlobalScope&&"function"==typeof On().importScripts}function Rn(){return(Rn=(0,r.Z)(function*(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(e){return null}})).apply(this,arguments)}const Dn="firebaseLocalStorageDb",Ln="firebaseLocalStorage",Mn="fbase_key";class Fn{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Un(e,t){return e.transaction([Ln],t?"readwrite":"readonly").objectStore(Ln)}function Vn(){const e=indexedDB.open(Dn,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Ln,{keyPath:Mn})}catch(r){n(r)}}),e.addEventListener("success",(0,r.Z)(function*(){const n=e.result;n.objectStoreNames.contains(Ln)?t(n):(n.close(),yield function(){const e=indexedDB.deleteDatabase(Dn);return new Fn(e).toPromise()}(),t(yield Vn()))}))})}function qn(e,t,n){return jn.apply(this,arguments)}function jn(){return(jn=(0,r.Z)(function*(e,t,n){const r=Un(e,!0).put({[Mn]:t,value:n});return new Fn(r).toPromise()})).apply(this,arguments)}function Zn(){return(Zn=(0,r.Z)(function*(e,t){const n=Un(e,!1).get(t),r=yield new Fn(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function zn(e,t){const n=Un(e,!0).delete(t);return new Fn(n).toPromise()}const Bn=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,r.Z)(function*(){return e.db||(e.db=yield Vn()),e.db})()}_withRetries(e){var t=this;return(0,r.Z)(function*(){let n=0;for(;;)try{const n=yield t._openDb();return yield e(n)}catch(r){if(n++>3)throw r;t.db&&(t.db.close(),t.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,r.Z)(function*(){return Nn()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,r.Z)(function*(){e.receiver=An._getInstance(Nn()?self:null),e.receiver._subscribe("keyChanged",function(){var t=(0,r.Z)(function*(t,n){return{keyProcessed:(yield e._poll()).includes(n.key)}});return function(e,n){return t.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var e=(0,r.Z)(function*(e,t){return["keyChanged"]});return function(t,n){return e.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,r.Z)(function*(){var t,n;if(e.activeServiceWorker=yield function(){return Rn.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new Pn(e.activeServiceWorker);const r=yield e.sender._send("ping",{},800);r&&(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var t=this;return(0,r.Z)(function*(){var n;if(t.sender&&t.activeServiceWorker&&((null===(n=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null)===t.activeServiceWorker)try{yield t.sender._send("keyChanged",{key:e},t.serviceWorkerReceiverAvailable?800:50)}catch(n){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const e=yield Vn();return yield qn(e,In,"1"),yield zn(e,In),!0}catch(e){}return!1})()}_withPendingWrite(e){var t=this;return(0,r.Z)(function*(){t.pendingWrites++;try{yield e()}finally{t.pendingWrites--}})()}_set(e,t){var n=this;return(0,r.Z)(function*(){return n._withPendingWrite((0,r.Z)(function*(){return yield n._withRetries(n=>qn(n,e,t)),n.localCache[e]=t,n.notifyServiceWorker(e)}))})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=yield t._withRetries(t=>function(e,t){return Zn.apply(this,arguments)}(t,e));return t.localCache[e]=n,n})()}_remove(e){var t=this;return(0,r.Z)(function*(){return t._withPendingWrite((0,r.Z)(function*(){return yield t._withRetries(t=>zn(t,e)),delete t.localCache[e],t.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,r.Z)(function*(){const t=yield e._withRetries(e=>{const t=Un(e,!1).getAll();return new Fn(t).toPromise()});if(!t)return[];if(0!==e.pendingWrites)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(e.localCache[i])!==JSON.stringify(s)&&(e.notifyListeners(i,s),n.push(i));for(const i of Object.keys(e.localCache))e.localCache[i]&&!r.has(i)&&(e.notifyListeners(i,null),n.push(i));return n})()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();function Hn(e,t){return R(e,"POST","/v2/accounts/mfaSignIn:start",N(e,t))}function $n(){return($n=(0,r.Z)(function*(e){return(yield R(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Gn(e){return new Promise((t,n)=>{const r=document.createElement("script");var i,s;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=g("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(s=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==s?s:document).appendChild(r)})}function Wn(e){return`__${e}${Math.floor(1e6*Math.random())}`}const Kn=1e12;class Qn{constructor(e){this.auth=e,this.counter=Kn,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Yn(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Kn;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;return(null===(t=this._widgets.get(e||Kn))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,r.Z)(function*(){var n;return null===(n=t._widgets.get(e||Kn))||void 0===n||n.execute(),""})()}}class Yn{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;v(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<50;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Jn=Wn("rcb"),Xn=new k(3e4,6e4);class er{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!On().grecaptcha}load(e,t=""){return v(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(On().grecaptcha):new Promise((n,r)=>{const i=On().setTimeout(()=>{r(g(e,"network-request-failed"))},Xn.get());On()[Jn]=()=>{On().clearTimeout(i),delete On()[Jn];const s=On().grecaptcha;if(!s)return void r(g(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)},Gn(`https://www.google.com/recaptcha/api.js??${(0,s.xO)({onload:Jn,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(i),r(g(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!On().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class tr{load(e){return(0,r.Z)(function*(){return new Qn(e)})()}clearedOneInstance(){}}const nr="recaptcha",rr={theme:"light",type:"image"};class ir{constructor(e,t=Object.assign({},rr),n){this.parameters=t,this.type=nr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Se(n),this.isInvisible="invisible"===this.parameters.size,v("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;v(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new tr:new er,this.validateStartingState()}verify(){var e=this;return(0,r.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),n=e.getAssertedRecaptcha();return n.getResponse(t)||new Promise(r=>{const i=t=>{t&&(e.tokenChangeListeners.delete(i),r(t))};e.tokenChangeListeners.add(i),e.isInvisible&&n.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){v(!this.parameters.sitekey,this.auth,"argument-error"),v(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),v("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=On()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){v(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,r.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const e=document.createElement("div");t.appendChild(e),t=e}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,r.Z)(function*(){v(E()&&!Nn(),e.auth,"internal-error"),yield function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function(e){return $n.apply(this,arguments)}(e.auth);v(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return v(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class sr{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ot._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function or(){return(or=(0,r.Z)(function*(e,t,n){const r=Se(e),i=yield cr(r,t,(0,s.m9)(n));return new sr(i,e=>Dt(r,e))})).apply(this,arguments)}function ar(){return(ar=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);yield At(!1,r,"phone");const i=yield cr(r.auth,t,(0,s.m9)(n));return new sr(i,e=>Mt(r,e))})).apply(this,arguments)}function lr(){return(lr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=yield cr(r.auth,t,(0,s.m9)(n));return new sr(i,e=>Ut(r,e))})).apply(this,arguments)}function cr(e,t,n){return ur.apply(this,arguments)}function ur(){return(ur=(0,r.Z)(function*(e,t,n){var r;const i=yield n.verify();try{let s;if(v("string"==typeof i,e,"argument-error"),v(n.type===nr,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s)return v("enroll"===t.type,e,"internal-error"),(yield bn(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{v("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return v(n,e,"missing-multi-factor-info"),(yield Hn(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=yield et(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}})).apply(this,arguments)}function hr(){return(hr=(0,r.Z)(function*(e,t){yield St((0,s.m9)(e),t)})).apply(this,arguments)}let dr=(()=>{class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=Se(t)}verifyPhoneNumber(e,t){return cr(this.auth,e,(0,s.m9)(t))}static credential(e,t){return ot._fromVerification(e,t)}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?ot._fromTokenResponse(t,n):null}}return e.PROVIDER_ID="phone",e.PHONE_SIGN_IN_METHOD="phone",e})();function pr(e,t){return t?T(t):(v(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class fr extends Pe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ye(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ye(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ye(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function gr(e){return Nt(e.auth,new fr(e),e.bypassAuthState)}function mr(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),Pt(n,new fr(e),e.bypassAuthState)}function yr(e){return _r.apply(this,arguments)}function _r(){return(_r=(0,r.Z)(function*(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),St(n,new fr(e),e.bypassAuthState)})).apply(this,arguments)}class vr{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,r.Z)(function*(t,n){e.pendingPromise={resolve:t,reject:n};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(r){e.reject(r)}});return function(e,n){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,r.Z)(function*(){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o)return void t.reject(o);const l={auth:t.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(a)(l))}catch(c){t.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gr;case"linkViaPopup":case"linkViaRedirect":return yr;case"reauthViaPopup":case"reauthViaRedirect":return mr;default:f(this.auth,"internal-error")}}resolve(e){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wr=new k(2e3,1e4);function br(){return(br=(0,r.Z)(function*(e,t,n){const r=Se(e);y(e,t,ct);const i=pr(r,n);return new Ir(r,"signInViaPopup",t,i).executeNotNull()})).apply(this,arguments)}function Cr(){return(Cr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(r.auth,t,ct);const i=pr(r.auth,n);return new Ir(r.auth,"reauthViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}function Tr(){return(Tr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(r.auth,t,ct);const i=pr(r.auth,n);return new Ir(r.auth,"linkViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}let Ir=(()=>{class e extends vr{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}executeNotNull(){var e=this;return(0,r.Z)(function*(){const t=yield e.execute();return v(t,e.auth,"internal-error"),t})()}onExecution(){var e=this;return(0,r.Z)(function*(){b(1===e.filter.length,"Popup operations only handle one event");const t=xn();e.authWindow=yield e.resolver._openPopup(e.auth,e.provider,e.filter[0],t),e.authWindow.associatedEvent=t,e.resolver._originValidation(e.auth).catch(t=>{e.reject(t)}),e.resolver._isIframeWebStorageSupported(e.auth,t=>{t||e.reject(g(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation()})()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(g(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;this.pollId=(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(g(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(e,wr.get())};e()}}return e.currentPopupAction=null,e})();const Er=new Map;class Sr extends vr{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,r.Z)(function*(){let n=Er.get(t.auth._key());if(!n){try{const r=(yield function(e,t){return kr.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;n=()=>Promise.resolve(r)}catch(r){n=()=>Promise.reject(r)}Er.set(t.auth._key(),n)}return n()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,n=this;return(0,r.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(n,e);if("unknown"!==e.type){if(e.eventId){const r=yield n.auth._redirectUserForId(e.eventId);if(r)return n.user=r,t().call(n,e);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function kr(){return(kr=(0,r.Z)(function*(e,t){const n=Or(t),r="true"===(yield Pr(e)._get(n));return yield Pr(e)._remove(n),r})).apply(this,arguments)}function Ar(e,t){return xr.apply(this,arguments)}function xr(){return(xr=(0,r.Z)(function*(e,t){return Pr(e)._set(Or(t),"true")})).apply(this,arguments)}function Pr(e){return T(e._redirectPersistence)}function Or(e){return de("pendingRedirect",e.config.apiKey,e.name)}function Nr(){return(Nr=(0,r.Z)(function*(e,t,n){const r=Se(e);y(e,t,ct);const i=pr(r,n);return yield Ar(i,r),i._openRedirect(r,t,"signInViaRedirect")})).apply(this,arguments)}function Rr(){return(Rr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(r.auth,t,ct);const i=pr(r.auth,n);yield Ar(i,r.auth);const o=yield Ur(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)})).apply(this,arguments)}function Dr(){return(Dr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(r.auth,t,ct);const i=pr(r.auth,n);yield At(!1,r,t.providerId),yield Ar(i,r.auth);const o=yield Ur(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)})).apply(this,arguments)}function Lr(){return(Lr=(0,r.Z)(function*(e,t){return yield Se(e)._initializationPromise,Mr(e,t,!1)})).apply(this,arguments)}function Mr(e,t){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,r.Z)(function*(e,t,n=!1){const r=Se(e),i=pr(r,t),s=new Sr(r,i,n),o=yield s.execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,t)),o})).apply(this,arguments)}function Ur(e){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,r.Z)(function*(e){const t=xn(`${e.uid}:::`);return e._redirectEventId=t,yield e.auth._setRedirectUser(e),yield e.auth._persistUserIfCurrent(e),t})).apply(this,arguments)}class qr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Zr(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(g(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jr(e))}saveEventToCache(e){this.cachedEventUids.add(jr(e)),this.lastProcessedEventTime=Date.now()}}function jr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Zr({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}function zr(e){return Br.apply(this,arguments)}function Br(){return(Br=(0,r.Z)(function*(e,t={}){return R(e,"GET","/v1/projects",t)})).apply(this,arguments)}const Hr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$r=/^https?/;function Gr(){return(Gr=(0,r.Z)(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield zr(e);for(const r of t)try{if(Wr(r))return}catch(n){}f(e,"unauthorized-domain")})).apply(this,arguments)}function Wr(e){const t=I(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!$r.test(n))return!1;if(Hr.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Kr=new k(3e4,6e4);function Qr(){const e=On().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Yr=null;function Jr(e){return Yr=Yr||function(e){return new Promise((t,n)=>{var r,i,s;function o(){Qr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Qr(),n(g(e,"network-request-failed"))},timeout:Kr.get()})}if(null===(i=null===(r=On().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=On().gapi)||void 0===s?void 0:s.load)){const t=Wn("iframefcb");return On()[t]=()=>{gapi.load?o():n(g(e,"network-request-failed"))},Gn(`https://apis.google.com/js/api.js?onload=${t}`)}o()}}).catch(e=>{throw Yr=null,e})}(e),Yr}const Xr=new k(5e3,15e3),ei={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},ti=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ni(e){const t=e.config;v(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?A(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:o.SDK_VERSION},i=ti.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,s.xO)(r).slice(1)}`}function ri(){return(ri=(0,r.Z)(function*(e){const t=yield Jr(e),n=On().gapi;return v(n,e,"internal-error"),t.open({where:document.body,url:ni(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ei,dontclear:!0},t=>new Promise(function(){var n=(0,r.Z)(function*(n,r){yield t.restyle({setHideOnLeave:!1});const i=g(e,"network-request-failed"),s=On().setTimeout(()=>{r(i)},Xr.get());function o(){On().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})});return function(e,t){return n.apply(this,arguments)}}()))})).apply(this,arguments)}const ii={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class si{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function oi(e,t,n,r,i,a){v(e.config.authDomain,e,"auth-domain-config-required"),v(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:o.SDK_VERSION,eventId:i};if(t instanceof ct){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,s.xb)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))l[e]=t}if(t instanceof ut){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const s of Object.keys(c))void 0===c[s]&&delete c[s];return`${function({config:e}){return e.emulator?A(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,s.xO)(c).slice(1)}`}const ai="webStorageSupport";class li extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return w("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new li(e)}_finalizeEnroll(e,t,n){return function(e,t){return R(e,"POST","/v2/accounts/mfaEnrollment:finalize",N(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return R(e,"POST","/v2/accounts/mfaSignIn:finalize",N(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ci=(()=>{class e{constructor(){}static assertion(e){return li._fromCredential(e)}}return e.FACTOR_ID="phone",e})();var ui;class hi{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,r.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function di(){return window}function pi(){return(pi=(0,r.Z)(function*(e,t,n){var r;const{BuildInfo:i}=di();b(t.sessionId,"AuthEvent did not contain a session ID");const s=yield mi(t.sessionId),o={};return Ce()?o.ibi=i.packageName:ve()?o.apn=i.packageName:f(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,oi(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)})).apply(this,arguments)}function fi(){return(fi=(0,r.Z)(function*(e){const{BuildInfo:t}=di(),n={};Ce()?n.iosBundleId=t.packageName:ve()?n.androidPackageName=t.packageName:f(e,"operation-not-supported-in-this-environment"),yield zr(e,n)})).apply(this,arguments)}function gi(){return(gi=(0,r.Z)(function*(e,t,n){const{cordova:r}=di();let i=()=>{};try{yield new Promise((s,o)=>{let a=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout(()=>{o(g(e,"redirect-cancelled-by-user"))},2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),ve()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{i()}})).apply(this,arguments)}function mi(e){return yi.apply(this,arguments)}function yi(){return(yi=(0,r.Z)(function*(e){const t=_i(e),n=yield crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function _i(e){if(b(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}ui="Browser",(0,o._registerComponent)(new c.wA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{v(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),v(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:ui,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ie(ui)},s=new Ee(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(T);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,o._registerComponent)(new c.wA("auth-internal",e=>{return t=Se(e.getProvider("auth").getImmediate()),new hi(t);var t},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)("@firebase/auth","0.18.0",void 0);class vi extends qr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,r.Z)(function*(){yield e.initPromise})()}}function wi(e){return bi.apply(this,arguments)}function bi(){return(bi=(0,r.Z)(function*(e){const t=yield Ti()._get(Ii(e));return t&&(yield Ti()._remove(Ii(e))),t})).apply(this,arguments)}function Ci(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function Ti(){return T(Sn)}function Ii(e){return de("authEvent",e.config.apiKey,e.name)}function Ei(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,s.zd)(n.join("?"))}function Si(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:g("no-auth-event")}}function ki(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ai(e=(0,s.z$)()){return!("file:"!==ki()&&"ionic:"!==ki()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function xi(){try{const e=self.localStorage,t=xn();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=(0,s.z$)()){return(0,s.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=(0,s.z$)()){return/Edge\/\d+/.test(e)}(e)}()||(0,s.hl)()}catch(e){return Pi()&&(0,s.hl)()}return!1}function Pi(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Oi(){return("http:"===ki()||"https:"===ki()||(0,s.ru)()||Ai())&&!((0,s.b$)()||(0,s.UG)())&&xi()&&!Pi()}function Ni(){return Ai()&&"undefined"!=typeof document}function Ri(){return(Ri=(0,r.Z)(function*(){return!!Ni()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})})).apply(this,arguments)}const Di={LOCAL:"local",NONE:"none",SESSION:"session"},Li=v,Mi="persistence";function Fi(e){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,r.Z)(function*(e){yield e._initializationPromise;const t=Vi(),n=de(Mi,e.config.apiKey,e.name);(null==t?void 0:t.sessionStorage)&&t.sessionStorage.setItem(n,e._getPersistence())})).apply(this,arguments)}function Vi(){return"undefined"!=typeof window?window:null}const qi=v;class ji{constructor(){this.browserResolver=T(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kn,this._completeRedirectFn=Mr}_openPopup(e,t,n,i){var o=this;return(0,r.Z)(function*(){var r;b(null===(r=o.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const a=oi(e,t,n,I(),i);return function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},ii),{width:r.toString(),height:i.toString(),top:o,left:a}),u=(0,s.z$)().toLowerCase();n&&(l=ye(u)?"_blank":n),ge(u)&&(t=t||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,s.z$)()){var t;return Ce(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new si(null);const d=window.open(t||"",l,h);v(d,e,"popup-blocked");try{d.focus()}catch(p){}return new si(d)}(e,a,xn())})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){var r;return yield s._originValidation(e),r=oi(e,t,n,I(),i),On().location.href=r,new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(b(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n}initAndGetManager(e){var t=this;return(0,r.Z)(function*(){const n=yield function(e){return ri.apply(this,arguments)}(e),r=new qr(e);return n.register("authEvent",t=>(v(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=n,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ai,{type:ai},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),f(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Gr.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Te()||me()||Ce()}}),this.cordovaResolver=T(class{constructor(){this._redirectPersistence=kn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Mr}_initialize(e){var t=this;return(0,r.Z)(function*(){const n=e._key();let r=t.eventManagers.get(n);return r||(r=new vi(e),t.eventManagers.set(n,r),t.attachCallbackListeners(e,r)),r})()}_openPopup(e){f(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,n,i){var o=this;return(0,r.Z)(function*(){!function(e){var t,n,r,i,s,o,a,l,c,u;const h=di();v("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),v(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),v("function"==typeof(null===(s=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),v("function"==typeof(null===(l=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),v("function"==typeof(null===(u=null===(c=null==h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const r=yield o._initialize(e);yield r.initialized(),r.resetRedirect(),Er.clear(),yield o._originValidation(e);const a=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:Ci(),postBody:null,tenantId:e.tenantId,error:g(e,"no-auth-event")}}(e,n,i);yield function(e,t){return Ti()._set(Ii(e),t)}(e,a);const l=yield function(e,t,n){return pi.apply(this,arguments)}(e,a,t),c=yield function(e){const{cordova:t}=di();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=(0,s.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}(l);return function(e,t,n){return gi.apply(this,arguments)}(e,r,c)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return fi.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:s}=di(),o=setTimeout((0,r.Z)(function*(){yield wi(e),t.onEvent(Si())}),500),a=function(){var n=(0,r.Z)(function*(n){clearTimeout(o);const r=yield wi(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=Ei(e),n=t.link?decodeURIComponent(t.link):void 0,r=Ei(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Ei(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Ei(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null==s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?g(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||Si())});return function(e){return n.apply(this,arguments)}}();void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,a);const l=i,c=`${s.packageName.toLowerCase()}://`;di().handleOpenURL=function(){var e=(0,r.Z)(function*(e){if(e.toLowerCase().startsWith(c)&&a({url:e}),"function"==typeof l)try{l(e)}catch(t){console.error(t)}});return function(t){return e.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=kn,this._completeRedirectFn=Mr}_initialize(e){var t=this;return(0,r.Z)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(e,t,n,i)})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(e,t,n,i)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Ni()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return qi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,r.Z)(function*(){if(e.underlyingResolver)return;const t=yield function(){return Ri.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function Zi(e){return e.unwrap()}function zi(e){return Hi(e)}function Bi(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Qi(e,function(e,t){var n;const r=(0,s.m9)(e),i=t;return v(t.operationType,r,"argument-error"),v(null===(n=i.serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),wn._fromError(r,i)}(e,t));else if(r){const e=Hi(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Hi(e){const{_tokenResponse:t}=e instanceof s.ZR?e.customData:e;if(!t)return null;if(!(e instanceof s.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return dr.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=pt;break;case"facebook.com":r=dt;break;case"github.com":r=ft;break;case"twitter.com":r=mt;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?gt._create(n,o):Xe._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new ht(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof s.ZR?r.credentialFromError(e):r.credentialFromResult(e)}function $i(e,t){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,r.Z)(function*(e,t){let n;try{n=yield t}catch(o){throw o instanceof s.ZR&&Bi(e,o),o}const{operationType:r,user:i}=n;return{operationType:r,credential:zi(n),additionalUserInfo:_n(n),user:Yi.getOrCreate(i)}})).apply(this,arguments)}function Wi(e,t){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,r.Z)(function*(e,t){const n=yield t;return{verificationId:n.verificationId,confirm:t=>$i(e,n.confirm(t))}})).apply(this,arguments)}class Qi{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return $i(Zi(this.auth),this.resolver.resolveSignIn(e))}}let Yi=(()=>{class e{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=(0,s.m9)(e);return Tn.has(t)||Tn.set(t,Cn._fromUser(t)),Tn.get(t)}(e)}static getOrCreate(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,r.Z)(function*(){return $i(t.auth,Mt(t._delegate,e))})()}linkWithPhoneNumber(e,t){var n=this;return(0,r.Z)(function*(){return Wi(n.auth,function(e,t,n){return ar.apply(this,arguments)}(n._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,r.Z)(function*(){return $i(t.auth,function(e,t,n){return Tr.apply(this,arguments)}(t._delegate,e,ji))})()}linkWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield Fi(Se(t.auth)),function(e,t,n){return function(e,t,n){return Dr.apply(this,arguments)}(e,t,n)}(t._delegate,e,ji)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,r.Z)(function*(){return $i(t.auth,Ut(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return Wi(this.auth,function(e,t,n){return lr.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return $i(this.auth,function(e,t,n){return Cr.apply(this,arguments)}(this._delegate,e,ji))}reauthenticateWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield Fi(Se(t.auth)),function(e,t,n){return function(e,t,n){return Rr.apply(this,arguments)}(e,t,n)}(t._delegate,e,ji)})()}sendEmailVerification(e){return function(e,t){return sn.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return(0,r.Z)(function*(){return yield function(e,t){return Et.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function(e,t){return un((0,s.m9)(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return un((0,s.m9)(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return function(e,t){return hr.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function(e,t){return cn.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function(e,t,n){return on.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}return e.USER_MAP=new WeakMap,e})();const Ji=v;let Xi=(()=>{class e{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Ji(n,"invalid-api-key",{appName:e.name});let r=[he];if("undefined"!=typeof window){r=function(e,t){const n=Vi();if(!(null==n?void 0:n.sessionStorage))return[];const r=de(Mi,e,t);switch(n.sessionStorage.getItem(r)){case Di.NONE:return[he];case Di.LOCAL:return[Bn,kn];case Di.SESSION:return[kn];default:return[]}}(n,e.name);for(const e of[Bn,Sn,kn])r.includes(e)||r.push(e)}Ji(n,"invalid-api-key",{appName:e.name});const i="undefined"!=typeof window?ji:void 0;this._delegate=t.initialize({options:{persistence:r,popupRedirectResolver:i}}),this._delegate._updateErrorMap(u),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Yi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=Se(e);v(r._canInitEmulator,r,"emulator-config-failed"),v(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=Ae(t),{host:o,port:a}=function(e){const t=Ae(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:xe(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:xe(t)}}}(t);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),function(e){function t(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"==typeof window||"undefined"==typeof document||e||("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}(i)}(this._delegate,e,t)}applyActionCode(e){return function(e,t){return Wt.apply(this,arguments)}(this._delegate,e)}checkActionCode(e){return Kt(this._delegate,e)}confirmPasswordReset(e,t){return function(e,t,n){return Gt.apply(this,arguments)}(this._delegate,e,t)}createUserWithEmailAndPassword(e,t){var n=this;return(0,r.Z)(function*(){return $i(n._delegate,function(e,t,n){return Jt.apply(this,arguments)}(n._delegate,e,t))})()}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return function(e,t){return rn.apply(this,arguments)}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=at.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,e)}getRedirectResult(){var e=this;return(0,r.Z)(function*(){Ji(Oi(),e._delegate,"operation-not-supported-in-this-environment");const t=yield function(e,t){return Lr.apply(this,arguments)}(e._delegate,ji);return t?$i(e._delegate,Promise.resolve(t)):{credential:null,user:null}})()}addFrameworkForLogging(e){!function(e,t){Se(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=es(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=es(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return function(e,t,n){return Xt.apply(this,arguments)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return function(e,t,n){return $t.apply(this,arguments)}(this._delegate,e,t||void 0)}setPersistence(e){var t=this;return(0,r.Z)(function*(){let n;switch(function(e,t){Li(Object.values(Di).includes(t),e,"invalid-persistence-type"),(0,s.b$)()?Li(t!==Di.SESSION,e,"unsupported-persistence-type"):(0,s.UG)()?Li(t===Di.NONE,e,"unsupported-persistence-type"):Pi()?Li(t===Di.NONE||t===Di.LOCAL&&(0,s.hl)(),e,"unsupported-persistence-type"):Li(t===Di.NONE||xi(),e,"unsupported-persistence-type")}(t._delegate,e),e){case Di.SESSION:n=kn;break;case Di.LOCAL:n=(yield T(Bn)._isAvailable())?Bn:Sn;break;case Di.NONE:n=he;break;default:return f("argument-error",{appName:t._delegate.name})}return t._delegate.setPersistence(n)})()}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return $i(this._delegate,function(e){return bt.apply(this,arguments)}(this._delegate))}signInWithCredential(e){return $i(this._delegate,Dt(this._delegate,e))}signInWithCustomToken(e){return $i(this._delegate,function(e,t){return Zt.apply(this,arguments)}(this._delegate,e))}signInWithEmailAndPassword(e,t){return $i(this._delegate,function(e,t,n){return Dt((0,s.m9)(e),lt.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return $i(this._delegate,function(e,t,n){return en.apply(this,arguments)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Wi(this._delegate,function(e,t,n){return or.apply(this,arguments)}(this._delegate,e,t))}signInWithPopup(e){var t=this;return(0,r.Z)(function*(){return Ji(Oi(),t._delegate,"operation-not-supported-in-this-environment"),$i(t._delegate,function(e,t,n){return br.apply(this,arguments)}(t._delegate,e,ji))})()}signInWithRedirect(e){var t=this;return(0,r.Z)(function*(){return Ji(Oi(),t._delegate,"operation-not-supported-in-this-environment"),yield Fi(t._delegate),function(e,t,n){return function(e,t,n){return Nr.apply(this,arguments)}(e,t,n)}(t._delegate,e,ji)})()}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return function(e,t){return Yt.apply(this,arguments)}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return e.Persistence=Di,e})();function es(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Yi.getOrCreate(e)),error:t,complete:n}}let ts=(()=>{class e{constructor(){this.providerId="phone",this._delegate=new dr(Zi(i.Z.auth()))}static credential(e,t){return dr.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}return e.PHONE_SIGN_IN_METHOD=dr.PHONE_SIGN_IN_METHOD,e.PROVIDER_ID=dr.PROVIDER_ID,e})();const ns=v;var rs;(rs=i.Z).INTERNAL.registerComponent(new c.wA("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Xi(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:lt,FacebookAuthProvider:dt,GithubAuthProvider:ft,GoogleAuthProvider:pt,OAuthProvider:ht,PhoneAuthProvider:ts,PhoneMultiFactorGenerator:ci,RecaptchaVerifier:class{constructor(e,t,n=i.Z.app()){var r;ns(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new ir(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:mt,Auth:Xi,AuthCredential:Pe,Error:s.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),rs.registerVersion("@firebase/auth-compat","0.1.3")},8861:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var r=n(653),i=n(878),s=n(8318);let o=(()=>{class e{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return(0,i.of)(this.value);case"E":return e=this.error,new s.y(t=>t.error(e));case"C":return(0,r.c)()}var e;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})()},8318:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});var r=n(6673),i=n(5331),s=n(7498),o=n(6197),a=n(3392),l=n(1484);let c=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:o}=this,a=function(e,t,n){if(e){if(e instanceof r.L)return e;if(e[i.b])return e[i.b]()}return e||t||n?new r.L(e,t,n):new r.L(s.c)}(e,t,n);if(a.add(o?o.call(a,this.source):this.source||l.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){l.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof r.L?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=u(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[o.L](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?a.y:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=u(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function u(e){if(e||(e=l.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},7498:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var r=n(1484),i=n(4294);const s={closed:!0,next(e){},error(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete(){}}},5959:(e,t,n)=>{"use strict";n.d(t,{Yc:()=>c,xQ:()=>u});var r=n(8318),i=n(6673),s=n(7570),o=n(3895),a=n(9291),l=n(5331);class c extends i.L{constructor(e){super(e),this.destination=e}}let u=(()=>{class e extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.b](){return new c(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new o.N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new o.N;return this.hasError?(e.error(this.thrownError),s.w.EMPTY):this.isStopped?(e.complete(),s.w.EMPTY):(this.observers.push(e),new a.W(this,e))}asObservable(){const e=new r.y;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends u{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):s.w.EMPTY}}},9291:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var r=n(7570);class i extends r.w{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},6673:(e,t,n)=>{"use strict";n.d(t,{L:()=>c});var r=n(5024),i=n(7498),s=n(7570),o=n(5331),a=n(1484),l=n(4294);class c extends s.w{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!e){this.destination=i.c;break}if("object"==typeof e){e instanceof c?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,e,t,n)}}[o.b](){return this}static create(e,t,n){const r=new c(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class u extends c{constructor(e,t,n,s){let o;super(),this._parentSubscriber=e;let a=this;(0,r.m)(t)?o=t:t&&(o=t.next,n=t.error,s=t.complete,t!==i.c&&(a=Object.create(t),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,l.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,l.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,l.z)(n)}}__tryOrSetError(e,t,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,l.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},7570:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(8470),i=n(2056),s=n(5024);const o=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let a=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(let e=0;e<n.length;++e)n[e].remove(this);if((0,s.m)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){t=h instanceof o?l(h.errors):[h]}}if((0,r.k)(u)){let e=-1,n=u.length;for(;++e<n;){const n=u[e];if((0,i.K)(n))try{n.unsubscribe()}catch(h){t=t||[],h instanceof o?t=t.concat(l(h.errors)):t.push(h)}}}if(t)throw new o(t)}add(t){let n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;n=new e,n._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var t;return e.EMPTY=((t=new e).closed=!0,t),e})();function l(e){return e.reduce((e,t)=>e.concat(t instanceof o?t.errors:t),[])}},1484:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},6882:(e,t,n)=>{"use strict";n.d(t,{IY:()=>o,Ds:()=>a,ft:()=>l});var r=n(6673),i=n(8318),s=n(6015);class o extends r.L{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function l(e,t){if(t.closed)return;if(e instanceof i.y)return e.subscribe(t);let n;try{n=(0,s.s)(e)(t)}catch(r){t.error(r)}return n}},2875:(e,t,n)=>{"use strict";n.d(t,{c:()=>a,N:()=>l});var r=n(5959),i=n(8318),s=n(7570),o=n(1564);class a extends i.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new s.w,e.add(this.source.subscribe(new c(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.w.EMPTY)),e}refCount(){return(0,o.x)()(this)}}const l=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class c extends r.Yc{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},653:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,c:()=>s});var r=n(8318);const i=new r.y(e=>e.complete());function s(e){return e?function(e){return new r.y(t=>e.schedule(()=>t.complete()))}(e):i}},9764:(e,t,n)=>{"use strict";n.d(t,{D:()=>h});var r=n(8318),i=n(6015),s=n(7570),o=n(6197),a=n(2570),l=n(5686),c=n(5168),u=n(9653);function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.L]}(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>{const i=e[o.L]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if((0,c.t)(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if((0,u.z)(e))return(0,a.r)(e,t);if(function(e){return e&&"function"==typeof e[l.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new s.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[l.hZ](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.y?e:new r.y((0,i.s)(e))}},9342:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var r=n(8318),i=n(625),s=n(2570);function o(e,t){return t?(0,s.r)(e,t):new r.y((0,i.V)(e))}},1906:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var r=n(8318),i=n(6163),s=n(7471),o=n(9342);function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return(0,i.K)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof r.y?e[0]:(0,s.J)(t)((0,o.n)(e,n))}},878:(e,t,n)=>{"use strict";n.d(t,{of:()=>o});var r=n(6163),i=n(9342),s=n(2570);function o(...e){let t=e[e.length-1];return(0,r.K)(t)?(e.pop(),(0,s.r)(e,t)):(0,i.n)(e)}},9996:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(6673);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}class s{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.project,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},7471:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var r=n(3982),i=n(3392);function s(e=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,e)}},3982:(e,t,n)=>{"use strict";n.d(t,{zg:()=>o});var r=n(9996),i=n(9764),s=n(6882);function o(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?s=>s.pipe(o((n,s)=>(0,i.D)(e(n,s)).pipe((0,r.U)((e,r)=>t(n,e,s,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new a(e,n)))}class a{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new l(e,this.project,this.concurrent))}}class l extends s.Ds{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new s.IY(this),n=this.destination;n.add(t);const r=(0,s.ft)(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},45:(e,t,n)=>{"use strict";n.d(t,{QV:()=>s,ht:()=>a});var r=n(6673),i=n(8861);function s(e,t=0){return function(n){return n.lift(new o(e,t))}}class o{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new a(e,this.scheduler,this.delay))}}class a extends r.L{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new l(e,this.destination)))}_next(e){this.scheduleMessage(i.P.createNext(e))}_error(e){this.scheduleMessage(i.P.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(i.P.createComplete()),this.unsubscribe()}}class l{constructor(e,t){this.notification=e,this.destination=t}}},1564:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(6673);function i(){return function(e){return e.lift(new s(e))}}class s{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new o(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},1055:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});var r=n(2875),i=n(1564),s=n(5959);function o(){return new s.xQ}function a(){return e=>{return(0,i.x)()((t=o,function(e){let n;n="function"==typeof t?t:function(){return t};const i=Object.create(e,r.N);return i.source=e,i.subjectFactory=n,i})(e));var t}}},2893:(e,t,n)=>{"use strict";n.d(t,{R:()=>m});var r=n(8318);let i=1;const s=(()=>Promise.resolve())(),o={};function a(e){return e in o&&(delete o[e],!0)}const l={setImmediate(e){const t=i++;return o[t]=!0,s.then(()=>a(t)&&e()),t},clearImmediate(e){a(e)}};var c=n(8277);class u extends c.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=l.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(l.clearImmediate(t),e.scheduled=void 0)}}var h=n(1098);class d extends h.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}const p=new d(u);var f=n(2293);class g extends r.y{constructor(e,t=0,n=p){super(),this.source=e,this.delayTime=t,this.scheduler=n,(!(0,f.k)(t)||t<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=p)}static create(e,t=0,n=p){return new g(e,t,n)}static dispatch(e){const{source:t,subscriber:n}=e;return this.add(t.subscribe(n))}_subscribe(e){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function m(e,t=0){return function(n){return n.lift(new y(e,t))}}class y{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new g(t,this.delay,this.scheduler).subscribe(e)}}},4019:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(6673),i=n(6054),s=n(5024);function o(e,t,n){return function(r){return r.lift(new a(e,t,n))}}class a{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new l(e,this.nextOrObserver,this.error,this.complete))}}class l extends r.L{constructor(e,t,n,r){super(e),this._tapNext=i.Z,this._tapError=i.Z,this._tapComplete=i.Z,this._tapError=n||i.Z,this._tapComplete=r||i.Z,(0,s.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||i.Z,this._tapError=t.error||i.Z,this._tapComplete=t.complete||i.Z)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},2570:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var r=n(8318),i=n(7570);function s(e,t){return new r.y(n=>{const r=new i.w;let s=0;return r.add(t.schedule(function(){s!==e.length?(n.next(e[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},8277:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});var r=n(7570);class i extends r.w{constructor(e,t){super()}schedule(e,t=0){return this}}class s extends i{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},1098:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let r=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class i extends r{constructor(e,t=r.now){super(e,()=>i.delegate&&i.delegate!==this?i.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},8569:(e,t,n)=>{"use strict";n.d(t,{z:()=>i,P:()=>s});var r=n(8277);const i=new(n(1098).v)(r.o),s=i},8489:(e,t,n)=>{"use strict";n.d(t,{c:()=>l,N:()=>a});var r=n(8277);class i extends r.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}var s=n(1098);class o extends s.v{}const a=new o(i),l=a},5686:(e,t,n)=>{"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,{hZ:()=>i});const i=r()},6197:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},5331:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},3895:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},4294:(e,t,n)=>{"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,{z:()=>r})},3392:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{y:()=>r})},8470:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});const r=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))()},9653:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},5024:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},2293:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(8470);function i(e){return!(0,r.k)(e)&&e-parseFloat(e)+1>=0}},2056:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:()=>r})},5168:(e,t,n)=>{"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:()=>r})},6163:(e,t,n)=>{"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:()=>r})},6054:(e,t,n)=>{"use strict";function r(){}n.d(t,{Z:()=>r})},6015:(e,t,n)=>{"use strict";n.d(t,{s:()=>u});var r=n(625),i=n(4294),s=n(5686),o=n(6197),a=n(9653),l=n(5168),c=n(2056);const u=e=>{if(e&&"function"==typeof e[o.L])return u=e,e=>{const t=u[o.L]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((0,a.z)(e))return(0,r.V)(e);if((0,l.t)(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,i.z),e);if(e&&"function"==typeof e[s.hZ])return t=e,e=>{const n=t[s.hZ]();for(;;){let t;try{t=n.next()}catch(r){return e.error(r),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=(0,c.K)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,u}},625:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},2864:(e,t,n)=>{"use strict";var r=n(5366);let i=null;function s(){return i}const o=new r.OlP("DocumentToken");let a=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:l,token:e,providedIn:"platform"}),e})();function l(){return(0,r.LFG)(u)}const c=new r.OlP("Location Initialized");let u=(()=>{class e extends a{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){h()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){h()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=(0,r.Yz7)({factory:d,token:e,providedIn:"platform"}),e})();function h(){return!!window.history.pushState}function d(){return new u((0,r.LFG)(o))}function p(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function f(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function g(e){return e&&"?"!==e[0]?"?"+e:e}let m=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:y,token:e,providedIn:"root"}),e})();function y(e){const t=(0,r.LFG)(o).location;return new v((0,r.LFG)(a),t&&t.origin||"")}const _=new r.OlP("appBaseHref");let v=(()=>{class e extends m{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return p(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a),r.LFG(_,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),w=(()=>{class e extends m{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=p(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a),r.LFG(_,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),b=(()=>{class e{constructor(e,t){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=f(T(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+g(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,T(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformStrategy).historyGo)||void 0===n||n.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(m),r.LFG(a))},e.normalizeQueryParams=g,e.joinWithSlash=p,e.stripTrailingSlash=f,e.\u0275prov=(0,r.Yz7)({factory:C,token:e,providedIn:"root"}),e})();function C(){return new b((0,r.LFG)(m),(0,r.LFG)(a))}function T(e){return e.replace(/\/index.html$/,"")}var I=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({});const E=r.kL8;class S{}let k=(()=>{class e extends S{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(E(t||this.locale)(e)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.soG))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function A(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}let x=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:S,useClass:k}]}),e})();function P(e){return"server"===e}let O=(()=>{class e{}return e.\u0275prov=(0,r.Yz7)({token:e,providedIn:"root",factory:()=>new N((0,r.LFG)(o),window)}),e})();class N{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const e=r.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=R(this.window.history)||R(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(Ky){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Ky){return!1}}}function R(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class D{}class L extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var e;e=new L,i||(i=e)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(F=F||document.querySelector("base"),F?F.getAttribute("href"):null);return null==t?null:function(e){M=M||document.createElement("a"),M.setAttribute("href",e);const t=M.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){F=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return A(document.cookie,e)}}let M,F=null;const U=new r.OlP("TRANSITION_ID"),V=[{provide:r.ip1,useFactory:function(e,t,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[U,o,r.zs3],multi:!0}];class q{static init(){(0,r.VLi)(new q)}addToWindow(e){r.dqk.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(e=>{const t=r.dqk.getAllAngularTestabilities();let n=t.length,i=!1;const s=function(t){i=i||t,n--,0==n&&e(i)};t.forEach(function(e){e.whenStable(s)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?s().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let j=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const Z=new r.OlP("EventManagerPlugins");let z=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Z),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class B{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=s().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}let H=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),$=(()=>{class e extends H{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const r=this._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(G),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(G))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function G(e){s().remove(e)}const W={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},K=/%COMP%/g;function Q(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Q(e,i,n):(i=i.replace(K,e),n.push(i))}return n}function Y(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let J=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new X(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new ee(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case r.ifc.ShadowDom:return new te(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Q(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(z),r.LFG($),r.LFG(r.AFp))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class X{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(W[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=W[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=W[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&(r.JOm.DashCase|r.JOm.Important)?e.style.setProperty(t,n,i&r.JOm.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&r.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Y(n)):this.eventManager.addEventListener(e,t,Y(n))}}class ee extends X{constructor(e,t,n,r){super(e),this.component=n;const i=Q(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(K,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(K,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class te extends X{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Q(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const e=document.createElement("style");e.textContent=i[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ne=(()=>{class e extends B{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const re=["alt","control","meta","shift"],ie={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},se={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},oe={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let ae=(()=>{class e extends B{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,r){const i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(t,i.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=e._normalizeKey(n.pop());let s="";if(re.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),s+=e+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&se.hasOwnProperty(t)&&(t=se[t]))}return ie[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),re.forEach(r=>{r!=n&&(0,oe[r])(e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return i=>{e.getEventFullKey(i)===t&&r.runGuarded(()=>n(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const le=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){L.makeCurrent(),q.init()},multi:!0},{provide:o,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),ce=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:Z,useClass:ne,multi:!0,deps:[o,r.R0b,r.Lbi]},{provide:Z,useClass:ae,multi:!0,deps:[o]},[],{provide:J,useClass:J,deps:[z,$,r.AFp]},{provide:r.FYo,useExisting:J},{provide:H,useExisting:$},{provide:$,useClass:$,deps:[o]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:z,useClass:z,deps:[Z,r.R0b]},{provide:D,useClass:j,deps:[]},[]];let ue=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:r.AFp,useValue:t.appId},{provide:U,useExisting:r.AFp},V]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(e,12))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:ce,imports:[x,r.hGG]}),e})();"undefined"!=typeof window&&window;var he=n(9764),de=n(8318),pe=n(8470),fe=n(9996),ge=n(2056);function me(e,t){return new de.y(n=>{const r=e.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const l=(0,he.D)(e[a]);let c=!1;n.add(l.subscribe({next:e=>{c||(c=!0,o++),i[a]=e},error:e=>n.error(e),complete:()=>{s++,s!==r&&c||(o===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=i[n],e),{}):i),n.complete())}}))}})}let ye=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e}),e})(),_e=(()=>{class e extends ye{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();const ve=new r.OlP("NgValueAccessor"),we={provide:ve,useExisting:(0,r.Gpc)(()=>Ce),multi:!0},be=new r.OlP("CompositionEventMode");let Ce=(()=>{class e extends ye{constructor(e,t,n){super(e,t),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=s()?s().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(be,8))},e.\u0275dir=r.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&r.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[r._Bn([we]),r.qOj]}),e})();const Te=new r.OlP("NgValidators"),Ie=new r.OlP("NgAsyncValidators");function Ee(e){return null!=e}function Se(e){const t=(0,r.QGY)(e)?(0,he.D)(e):e;return(0,r.CqO)(t),t}function ke(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Ae(e,t){return t.map(t=>t(e))}function xe(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function Pe(e){return null!=e?function(e){if(!e)return null;const t=e.filter(Ee);return 0==t.length?null:function(e){return ke(Ae(e,t))}}(xe(e)):null}function Oe(e){return null!=e?function(e){if(!e)return null;const t=e.filter(Ee);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if((0,pe.k)(t))return me(t,null);if((0,ge.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return me(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return me(e=1===e.length&&(0,pe.k)(e[0])?e[0]:e,null).pipe((0,fe.U)(e=>t(...e)))}return me(e,null)}(Ae(e,t).map(Se)).pipe((0,fe.U)(ke))}}(xe(e)):null}function Ne(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Re(e){return e._rawValidators}function De(e){return e._rawAsyncValidators}let Le=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Pe(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Oe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e}),e})(),Me=(()=>{class e extends Le{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();class Fe extends Le{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ue{constructor(e){this._cd=e}is(e){var t,n;return!!(null===(n=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===n?void 0:n[e])}}let Ve=(()=>{class e extends Ue{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Fe,2))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[r.qOj]}),e})(),qe=(()=>{class e extends Ue{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Me,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[r.qOj]}),e})();function je(e,t){Be(e,t,!0),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&$e(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&$e(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function Ze(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),He(e,t,!0),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function ze(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Be(e,t,n){const r=Re(e);null!==t.validator?e.setValidators(Ne(r,t.validator)):"function"==typeof r&&e.setValidators([r]);const i=De(e);if(null!==t.asyncValidator?e.setAsyncValidators(Ne(i,t.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]),n){const n=()=>e.updateValueAndValidity();ze(t._rawValidators,n),ze(t._rawAsyncValidators,n)}}function He(e,t,n){let r=!1;if(null!==e){if(null!==t.validator){const n=Re(e);if(Array.isArray(n)&&n.length>0){const i=n.filter(e=>e!==t.validator);i.length!==n.length&&(r=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const n=De(e);if(Array.isArray(n)&&n.length>0){const i=n.filter(e=>e!==t.asyncValidator);i.length!==n.length&&(r=!0,e.setAsyncValidators(i))}}}if(n){const e=()=>{};ze(t._rawValidators,e),ze(t._rawAsyncValidators,e)}return r}function $e(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Ge(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const We="VALID",Ke="INVALID",Qe="PENDING",Ye="DISABLED";function Je(e){return(nt(e)?e.validators:e)||null}function Xe(e){return Array.isArray(e)?Pe(e):e||null}function et(e,t){return(nt(t)?t.asyncValidators:e)||null}function tt(e){return Array.isArray(e)?Oe(e):e||null}function nt(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class rt{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Xe(this._rawValidators),this._composedAsyncValidatorFn=tt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===We}get invalid(){return this.status===Ke}get pending(){return this.status==Qe}get disabled(){return this.status===Ye}get enabled(){return this.status!==Ye}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Xe(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=tt(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Qe,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ye,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=We,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==We&&this.status!==Qe||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ye:We}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Qe,this._hasOwnPendingAsyncValidator=!0;const t=Se(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let r=e;return t.forEach(e=>{r=r instanceof st?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof ot&&r.at(e)||null}),r}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?Ye:this.errors?Ke:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qe)?Qe:this._anyControlsHaveStatus(Ke)?Ke:We}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){nt(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class it extends rt{constructor(e=null,t,n){super(Je(t),et(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ge(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ge(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class st extends rt{constructor(e,t,n){super(Je(t),et(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof it?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class ot extends rt{constructor(e,t,n){super(Je(t),et(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof it?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let at=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),lt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const ct=new r.OlP("NgModelWithFormControlWarning"),ut={provide:Me,useExisting:(0,r.Gpc)(()=>ht)};let ht=(()=>{class e extends Me{constructor(e,t){super(),this.validators=e,this.asyncValidators=t,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(He(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return je(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){Ze(e.control||null,e,!1),Ge(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,t=this.directives,this.form._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=e.control,n=this.form.get(e.path);t!==n&&(Ze(t||null,e),n instanceof it&&(je(n,e),e.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const t=this.form.get(e.path);(function(e,t){Be(e,t,!1)})(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const t=this.form.get(e.path);t&&function(e,t){return He(e,t,!1)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Be(this.form,this,!1),this._oldForm&&He(this._oldForm,this,!1)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Te,10),r.Y36(Ie,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&r.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([ut]),r.qOj,r.TTD]}),e})();const dt={provide:Fe,useExisting:(0,r.Gpc)(()=>pt)};let pt=(()=>{class e extends Fe{constructor(e,t,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=function(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(e=>{e.constructor===Ce?n=e:Object.getPrototypeOf(e.constructor)===_e?r=e:i=e}),i||r||n||null}(0,i)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return e=null==this.name?this.name:this.name.toString(),[...this._parent.path,e];var e}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Me,13),r.Y36(Te,10),r.Y36(Ie,10),r.Y36(ve,10),r.Y36(ct,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([dt]),r.qOj,r.TTD]}),e._ngModelWarningSentOnce=!1,e})(),ft=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[lt]]}),e})(),gt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[ft]}),e})(),mt=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:ct,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[ft]}),e})(),yt=(()=>{class e{group(e,t=null){const n=this._reduceControls(e);let r,i=null,s=null;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(i=null!=t.validators?t.validators:null,s=null!=t.asyncValidators?t.asyncValidators:null,r=null!=t.updateOn?t.updateOn:void 0):(i=null!=t.validator?t.validator:null,s=null!=t.asyncValidator?t.asyncValidator:null)),new st(n,{asyncValidators:s,updateOn:r,validators:i})}control(e,t,n){return new it(e,t,n)}array(e,t,n){const r=e.map(e=>this._createControl(e));return new ot(r,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof it||e instanceof st||e instanceof ot?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e},token:e,providedIn:mt}),e})();var _t=n(878),vt=n(5959),wt=n(3895);class bt extends vt.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new wt.N;return this._value}next(e){super.next(this._value=e)}}var Ct=n(6163),Tt=n(6673);class It extends Tt.L{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Et extends Tt.L{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var St=n(6015);function kt(e,t,n,r,i=new Et(e,n,r)){if(!i.closed)return t instanceof de.y?t.subscribe(i):(0,St.s)(t)(i)}var At=n(9342);const xt={};class Pt{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Ot(e,this.resultSelector))}}class Ot extends It{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(xt),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(kt(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const r=this.values,i=this.toRespond?r[n]===xt?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const Nt=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();var Rt=n(7471);function Dt(...e){return(0,Rt.J)(1)((0,_t.of)(...e))}var Lt=n(653);function Mt(e){return new de.y(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,he.D)(n):(0,Lt.c)()).subscribe(t)})}var Ft=n(2875),Ut=n(6882);function Vt(e,t){return"function"==typeof t?n=>n.pipe(Vt((n,r)=>(0,he.D)(e(n,r)).pipe((0,fe.U)((e,i)=>t(n,e,r,i))))):t=>t.lift(new qt(e))}class qt{constructor(e){this.project=e}call(e,t){return t.subscribe(new jt(e,this.project))}}class jt extends Ut.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(KT){return void this.destination.error(KT)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new Ut.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,Ut.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const Zt=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function zt(e){return t=>0===e?(0,Lt.c)():t.lift(new Bt(e))}class Bt{constructor(e){if(this.total=e,this.total<0)throw new Zt}call(e,t){return t.subscribe(new Ht(e,this.total))}}class Ht extends Tt.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function $t(...e){const t=e[e.length-1];return(0,Ct.K)(t)?(e.pop(),n=>Dt(e,n,t)):t=>Dt(e,t)}function Gt(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Wt(e,t,n))}}class Wt{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new Kt(e,this.accumulator,this.seed,this.hasSeed))}}class Kt extends Tt.L{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Qt(e,t){return function(n){return n.lift(new Yt(e,t))}}class Yt{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Jt(e,this.predicate,this.thisArg))}}class Jt extends Tt.L{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function Xt(e){return function(t){const n=new en(e),r=t.lift(n);return n.caught=r}}class en{constructor(e){this.selector=e}call(e,t){return t.subscribe(new tn(e,this.selector,this.caught))}}class tn extends Ut.Ds{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new Ut.IY(this);this.add(r);const i=(0,Ut.ft)(n,r);i!==r&&this.add(i)}}}var nn=n(3982);function rn(e,t){return(0,nn.zg)(e,t,1)}function sn(e){return function(t){return 0===e?(0,Lt.c)():t.lift(new on(e))}}class on{constructor(e){if(this.total=e,this.total<0)throw new Zt}call(e,t){return t.subscribe(new an(e,this.total))}}class an extends Tt.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}function ln(e=hn){return t=>t.lift(new cn(e))}class cn{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new un(e,this.errorFactory))}}class un extends Tt.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function hn(){return new Nt}function dn(e=null){return t=>t.lift(new pn(e))}class pn{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new fn(e,this.defaultValue))}}class fn extends Tt.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var gn=n(3392);function mn(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Qt((t,n)=>e(t,n,r)):gn.y,zt(1),n?dn(t):ln(()=>new Nt))}var yn=n(4019),_n=n(1564),vn=n(7570);class wn{constructor(e){this.callback=e}call(e,t){return t.subscribe(new bn(e,this.callback))}}class bn extends Tt.L{constructor(e,t){super(e),this.add(new vn.w(t))}}class Cn{constructor(e,t){this.id=e,this.url=t}}class Tn extends Cn{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class In extends Cn{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class En extends Cn{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Sn extends Cn{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kn extends Cn{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class An extends Cn{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xn extends Cn{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Pn extends Cn{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class On extends Cn{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nn{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Rn{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Dn{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ln{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mn{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fn{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Un{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Vn="primary";class qn{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function jn(e){return new qn(e)}function Zn(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function zn(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const t=r[s],n=e[s];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Bn(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Hn(e[i],t[i]))return!1;return!0}function Hn(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((e,t)=>r[t]===e)}return e===t}function $n(e){return Array.prototype.concat.apply([],e)}function Gn(e){return e.length>0?e[e.length-1]:null}function Wn(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Kn(e){return(0,r.CqO)(e)?e:(0,r.QGY)(e)?(0,he.D)(Promise.resolve(e)):(0,_t.of)(e)}const Qn={exact:function e(t,n,r){if(!sr(t.segments,n.segments))return!1;if(!tr(t.segments,n.segments,r))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i],r))return!1}return!0},subset:Xn},Yn={exact:function(e,t){return Bn(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Hn(e[n],t[n]))},ignored:()=>!0};function Jn(e,t,n){return Qn[n.paths](e.root,t.root,n.matrixParams)&&Yn[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Xn(e,t,n){return er(e,t,t.segments,n)}function er(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!!sr(i,n)&&!t.hasChildren()&&!!tr(i,n,r)}if(e.segments.length===n.length){if(!sr(e.segments,n))return!1;if(!tr(e.segments,n,r))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!Xn(e.children[n],t.children[n],r))return!1}return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!sr(e.segments,i)&&!!tr(e.segments,i,r)&&!!e.children.primary&&er(e.children.primary,t,s,r)}}function tr(e,t,n){return t.every((t,r)=>Yn[n](e[r].parameters,t.parameters))}class nr{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jn(this.queryParams)),this._queryParamMap}toString(){return lr.serialize(this)}}class rr{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Wn(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cr(this)}}class ir{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=jn(this.parameters)),this._parameterMap}toString(){return mr(this)}}function sr(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}class or{}class ar{parse(e){const t=new br(e);return new nr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`/${ur(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${dr(t)}=${dr(e)}`).join("&"):`${dr(t)}=${dr(n)}`});return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const lr=new ar;function cr(e){return e.segments.map(e=>mr(e)).join("/")}function ur(e,t){if(!e.hasChildren())return cr(e);if(t){const t=e.children.primary?ur(e.children.primary,!1):"",n=[];return Wn(e.children,(e,t)=>{t!==Vn&&n.push(`${t}:${ur(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return Wn(e.children,(e,r)=>{r===Vn&&(n=n.concat(t(e,r)))}),Wn(e.children,(e,r)=>{r!==Vn&&(n=n.concat(t(e,r)))}),n}(e,(t,n)=>n===Vn?[ur(e.children.primary,!1)]:[`${n}:${ur(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${cr(e)}/${t[0]}`:`${cr(e)}/(${t.join("//")})`}}function hr(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dr(e){return hr(e).replace(/%3B/gi,";")}function pr(e){return hr(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fr(e){return decodeURIComponent(e)}function gr(e){return fr(e.replace(/\+/g,"%20"))}function mr(e){return`${pr(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${pr(e)}=${pr(t[e])}`).join("")}`;var t}const yr=/^[^\/()?;=#]+/;function _r(e){const t=e.match(yr);return t?t[0]:""}const vr=/^[^=?&#]+/,wr=/^[^?&#]+/;class br{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rr([],{}):new rr([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new rr(e,t)),n}parseSegment(){const e=_r(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ir(fr(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=_r(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=_r(this.remaining);e&&(n=e,this.capture(n))}e[fr(t)]=fr(n)}parseQueryParam(e){const t=function(e){const t=e.match(vr);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(wr);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=gr(t),i=gr(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=_r(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Vn);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s.primary:new rr([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Cr{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Tr(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Tr(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ir(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Ir(e,this._root).map(e=>e.value)}}function Tr(e,t){if(e===t.value)return t;for(const n of t.children){const t=Tr(e,n);if(t)return t}return null}function Ir(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Ir(e,n);if(r.length)return r.unshift(t),r}return[]}class Er{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Sr(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class kr extends Cr{constructor(e,t){super(e),this.snapshot=t,Rr(this,e)}toString(){return this.snapshot.toString()}}function Ar(e,t){const n=function(e,t){const n=new Or([],{},{},"",{},Vn,t,null,e.root,-1,{});return new Nr("",new Er(n,[]))}(e,t),r=new bt([new ir("",{})]),i=new bt({}),s=new bt({}),o=new bt({}),a=new bt(""),l=new xr(r,i,o,a,s,Vn,t,n.root);return l.snapshot=n.root,new kr(new Er(l,[]),n)}class xr{constructor(e,t,n,r,i,s,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,fe.U)(e=>jn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,fe.U)(e=>jn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Pr(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Or{constructor(e,t,n,r,i,s,o,a,l,c,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=jn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Nr extends Cr{constructor(e,t){super(t),this.url=e,Rr(this,t)}toString(){return Dr(this._root)}}function Rr(e,t){t.value._routerState=e,t.children.forEach(t=>Rr(e,t))}function Dr(e){const t=e.children.length>0?` { ${e.children.map(Dr).join(", ")} } `:"";return`${e.value}${t}`}function Lr(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Bn(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Bn(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Bn(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Bn(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Mr(e,t){return Bn(e.params,t.params)&&function(e,t){return sr(e,t)&&e.every((e,n)=>Bn(e.parameters,t[n].parameters))}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||Mr(e.parent,t.parent))}function Fr(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(t.value,r.value.snapshot))return Fr(e,t,r);return Fr(e,t)})}(e,t,n);return new Er(r,i)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const e=n.route;return Ur(t,e),e}}const n=new xr(new bt((r=t.value).url),new bt(r.params),new bt(r.queryParams),new bt(r.fragment),new bt(r.data),r.outlet,r.component,r),i=t.children.map(t=>Fr(e,t));return new Er(n,i)}var r}function Ur(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)Ur(e.children[n],t.children[n])}function Vr(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function qr(e){return"object"==typeof e&&null!=e&&e.outlets}function jr(e,t,n,r,i){let s={};return r&&Wn(r,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new nr(n.root===e?t:Zr(n.root,e,t),s,i)}function Zr(e,t,n){const r={};return Wn(e.children,(e,i)=>{r[i]=e===t?n:Zr(e,t,n)}),new rr(e.segments,r)}class zr{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Vr(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(qr);if(r&&r!==Gn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Br{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Hr(e,t,n){if(e||(e=new rr([],{})),0===e.segments.length&&e.hasChildren())return $r(e,t,n);const r=function(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const t=e.segments[i],o=n[r];if(qr(o))break;const a=`${o}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!Qr(a,l,t))return s;r+=2}else{if(!Qr(a,{},t))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new rr(e.segments.slice(0,r.pathIndex),{});return t.children.primary=new rr(e.segments.slice(r.pathIndex),e.children),$r(t,0,i)}return r.match&&0===i.length?new rr(e.segments,{}):r.match&&!e.hasChildren()?Gr(e,t,n):r.match?$r(e,0,i):Gr(e,t,n)}function $r(e,t,n){if(0===n.length)return new rr(e.segments,{});{const r=function(e){return qr(e[0])?e[0].outlets:{[Vn]:e}}(n),i={};return Wn(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Hr(e.children[r],t,n))}),Wn(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new rr(e.segments,i)}}function Gr(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(qr(s)){const e=Wr(s.outlets);return new rr(r,e)}if(0===i&&Vr(n[0])){r.push(new ir(e.segments[t].path,Kr(n[0]))),i++;continue}const o=qr(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Vr(a)?(r.push(new ir(o,Kr(a))),i+=2):(r.push(new ir(o,{})),i++)}return new rr(r,{})}function Wr(e){const t={};return Wn(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Gr(new rr([],{}),0,e))}),t}function Kr(e){const t={};return Wn(e,(e,n)=>t[n]=`${e}`),t}function Qr(e,t,n){return e==n.path&&Bn(t,n.parameters)}class Yr{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Lr(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=Sr(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),Wn(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=Sr(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=Sr(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new Fn(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Ln(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(Lr(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Jr(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function Jr(e){Lr(e.value),e.children.forEach(Jr)}class Xr{constructor(e,t){this.routes=e,this.module=t}}function ei(e){return"function"==typeof e}function ti(e){return e instanceof nr}const ni=Symbol("INITIAL_VALUE");function ri(){return Vt(e=>function(...e){let t,n;return(0,Ct.K)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&(0,pe.k)(e[0])&&(e=e[0]),(0,At.n)(e,n).lift(new Pt(t))}(e.map(e=>e.pipe(zt(1),$t(ni)))).pipe(Gt((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==ni)return e;if(r===ni&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||ti(r))return r}return e},e)},ni),Qt(e=>e!==ni),(0,fe.U)(e=>ti(e)?e:!0===e),zt(1)))}let ii=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&r._UZ(0,"router-outlet")},directives:function(){return[ns]},encapsulation:2}),e})();function si(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];oi(r,ai(t,r))}}function oi(e,t){e.children&&si(e.children,t)}function ai(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function li(e){const t=e.children&&e.children.map(li),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Vn&&(n.component=ii),n}function ci(e){return e.outlet||Vn}function ui(e,t){const n=e.filter(e=>ci(e)===t);return n.push(...e.filter(e=>ci(e)!==t)),n}const hi={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function di(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},hi):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(t.matcher||zn)(n,e,t);if(!i)return Object.assign({},hi);const s={};Wn(i.posParams,(e,t)=>{s[t]=e.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function pi(e,t,n,r,i="corrected"){if(n.length>0&&function(e,t,n){return n.some(n=>fi(e,t,n)&&ci(n)!==Vn)}(e,n,r)){const i=new rr(t,function(e,t,n,r){const i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&ci(s)!==Vn){const n=new rr([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[ci(s)]=n}return i}(e,t,r,new rr(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>fi(e,t,n))}(e,n,r)){const s=new rr(e.segments,function(e,t,n,r,i,s){const o={};for(const a of r)if(fi(e,n,a)&&!i[ci(a)]){const n=new rr([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[ci(a)]=n}return Object.assign(Object.assign({},i),o)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new rr(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function fi(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function gi(e,t,n,r){return!!(ci(e)===r||r!==Vn&&fi(t,n,e))&&("**"===e.path||di(t,e,n).matched)}function mi(e,t,n){return 0===t.length&&!e.children[n]}class yi{constructor(e){this.segmentGroup=e||null}}class _i{constructor(e){this.urlTree=e}}function vi(e){return new de.y(t=>t.error(new yi(e)))}function wi(e){return new de.y(t=>t.error(new _i(e)))}function bi(e){return new de.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Ci{constructor(e,t,n,i,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(r.h0i)}apply(){const e=pi(this.urlTree.root,[],[],this.config).segmentGroup,t=new rr(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Vn).pipe((0,fe.U)(e=>this.createUrlTree(Ti(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Xt(e=>{if(e instanceof _i)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof yi)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Vn).pipe((0,fe.U)(t=>this.createUrlTree(Ti(t),e.queryParams,e.fragment))).pipe(Xt(e=>{if(e instanceof yi)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new rr([],{[Vn]:e}):e;return new nr(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,fe.U)(e=>new rr([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,he.D)(r).pipe(rn(r=>{const i=n.children[r],s=ui(t,r);return this.expandSegmentGroup(e,s,i,r).pipe((0,fe.U)(e=>({segment:e,outlet:r})))}),Gt((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Qt((t,n)=>e(t,n,r)):gn.y,sn(1),n?dn(t):ln(()=>new Nt))}())}expandSegment(e,t,n,r,i,s){return(0,he.D)(n).pipe(rn(o=>this.expandSegmentAgainstRoute(e,t,n,o,r,i,s).pipe(Xt(e=>{if(e instanceof yi)return(0,_t.of)(null);throw e}))),mn(e=>!!e),Xt((e,n)=>{if(e instanceof Nt||"EmptyError"===e.name){if(mi(t,r,i))return(0,_t.of)(new rr([],{}));throw new yi(t)}throw e}))}expandSegmentAgainstRoute(e,t,n,r,i,s,o){return gi(r,t,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s):vi(t):vi(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?wi(i):this.lineralizeSegments(n,i).pipe((0,nn.zg)(n=>{const i=new rr(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=di(t,r,i);if(!o)return vi(t);const u=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?wi(u):this.lineralizeSegments(r,u).pipe((0,nn.zg)(r=>this.expandSegment(e,t,n,r.concat(i.slice(l)),s,!1)))}matchSegmentAgainstRoute(e,t,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,_t.of)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,fe.U)(e=>(n._loadedConfig=e,new rr(r,{})))):(0,_t.of)(new rr(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=di(t,n,r);if(!s)return vi(t);const l=r.slice(a);return this.getChildConfig(e,n,r).pipe((0,nn.zg)(e=>{const r=e.module,s=e.routes,{segmentGroup:a,slicedSegments:c}=pi(t,o,l,s),u=new rr(a.segments,a.children);if(0===c.length&&u.hasChildren())return this.expandChildren(r,s,u).pipe((0,fe.U)(e=>new rr(o,e)));if(0===s.length&&0===c.length)return(0,_t.of)(new rr(o,{}));const h=ci(n)===i;return this.expandSegment(r,u,s,c,h?Vn:i,!0).pipe((0,fe.U)(e=>new rr(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?(0,_t.of)(new Xr(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,_t.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,nn.zg)(n=>n?this.configLoader.load(e.injector,t).pipe((0,fe.U)(e=>(t._loadedConfig=e,e))):function(e){return new de.y(t=>t.error(Zn(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):(0,_t.of)(new Xr([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;if(!r||0===r.length)return(0,_t.of)(!0);const i=r.map(r=>{const i=e.get(r);let s;if(function(e){return e&&ei(e.canLoad)}(i))s=i.canLoad(t,n);else{if(!ei(i))throw new Error("Invalid CanLoad guard");s=i(t,n)}return Kn(s)});return(0,_t.of)(i).pipe(ri(),(0,yn.b)(e=>{if(!ti(e))return;const t=Zn(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,fe.U)(e=>!0===e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,_t.of)(n);if(r.numberOfChildren>1||!r.children.primary)return bi(e.redirectTo);r=r.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new nr(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Wn(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let s={};return Wn(t.children,(t,i)=>{s[i]=this.createSegmentGroup(e,t,n,r)}),new rr(i,s)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function Ti(e){const t={};for(const n of Object.keys(e.children)){const r=Ti(e.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new rr(e.segments.concat(t.segments),t.children)}return e}(new rr(e.segments,t))}class Ii{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ei{constructor(e,t){this.component=e,this.route=t}}function Si(e,t,n){const r=e._root;return Ai(r,t?t._root:null,n,[r.value])}function ki(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Ai(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Sr(t);return e.children.forEach(e=>{!function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!sr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!sr(e.url,t.url)||!Bn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mr(e,t)||!Bn(e.queryParams,t.queryParams);case"paramsChange":default:return!Mr(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Ii(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ai(e,t,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ei(a.outlet.component,o))}else o&&xi(t,a,i),i.canActivateChecks.push(new Ii(r)),Ai(e,null,s.component?a?a.children:null:n,r,i)}(e,s[e.value.outlet],n,r.concat([e.value]),i),delete s[e.value.outlet]}),Wn(s,(e,t)=>xi(e,n.getContext(t),i)),i}function xi(e,t,n){const r=Sr(e),i=e.value;Wn(r,(e,r)=>{xi(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new Ei(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class Pi{}function Oi(e){return new de.y(t=>t.error(e))}class Ni{constructor(e,t,n,r,i,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const e=pi(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Vn);if(null===t)return null;const n=new Or([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Vn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Er(n,t),i=new Nr(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(e){const t=e.value,n=Pr(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const i of Object.keys(t.children)){const r=t.children[i],s=ui(e,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=Di(n);return r.sort((e,t)=>e.value.outlet===Vn?-1:t.value.outlet===Vn?1:e.value.outlet.localeCompare(t.value.outlet)),r}processSegment(e,t,n,r){for(const i of e){const e=this.processSegmentAgainstRoute(i,t,n,r);if(null!==e)return e}return mi(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!gi(e,t,n,r))return null;let i,s=[],o=[];if("**"===e.path){const r=n.length>0?Gn(n).parameters:{};i=new Or(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fi(e),ci(e),e.component,e,Li(t),Mi(t)+n.length,Ui(e))}else{const r=di(t,e,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new Or(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fi(e),ci(e),e.component,e,Li(t),Mi(t)+s.length,Ui(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:c}=pi(t,s,o,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const e=this.processChildren(a,l);return null===e?null:[new Er(i,e)]}if(0===a.length&&0===c.length)return[new Er(i,[])];const u=ci(e)===r,h=this.processSegment(a,l,c,u?Vn:r);return null===h?null:[new Er(i,h)]}}function Ri(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Di(e){const t=[],n=new Set;for(const r of e){if(!Ri(r)){t.push(r);continue}const e=t.find(e=>r.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...r.children),n.add(e)):t.push(r)}for(const r of n){const e=Di(r.children);t.push(new Er(r.value,e))}return t.filter(e=>!n.has(e))}function Li(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Mi(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Fi(e){return e.data||{}}function Ui(e){return e.resolve||{}}function Vi(e){return Vt(t=>{const n=e(t);return n?(0,he.D)(n).pipe((0,fe.U)(()=>t)):(0,_t.of)(t)})}class qi extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const ji=new r.OlP("ROUTES");class Zi{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren).pipe((0,fe.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const i=n.create(e);return new Xr($n(i.injector.get(ji,void 0,r.XFs.Self|r.XFs.Optional)).map(li),i)}),Xt(e=>{throw t._loader$=void 0,e}));return t._loader$=new Ft.c(n,()=>new vt.xQ).pipe((0,_n.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,he.D)(this.loader.load(e)):Kn(e()).pipe((0,nn.zg)(e=>e instanceof r.YKP?(0,_t.of)(e):(0,he.D)(this.compiler.compileModuleAsync(e))))}}class zi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Bi,this.attachRef=null}}class Bi{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new zi,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Hi{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function $i(e){throw e}function Gi(e,t,n){return t.parse("/")}function Wi(e,t){return(0,_t.of)(null)}const Ki={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yi=(()=>{class e{constructor(e,t,n,i,s,o,a,l){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=i,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new vt.xQ,this.errorHandler=$i,this.malformedUriErrorHandler=Gi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Wi,afterPreactivation:Wi},this.urlHandlingStrategy=new Hi,this.routeReuseStrategy=new qi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.h0i),this.console=s.get(r.c2e);const c=s.get(r.R0b);this.isNgZoneEnabled=c instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new nr(new rr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Zi(o,a,e=>this.triggerEvent(new Nn(e)),e=>this.triggerEvent(new Rn(e))),this.routerState=Ar(this.currentUrlTree,this.rootComponentType),this.transitions=new bt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(Qt(e=>0!==e.id),(0,fe.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Vt(e=>{let n=!1,r=!1;return(0,_t.of)(e).pipe((0,yn.b)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Vt(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return(0,_t.of)(e).pipe(Vt(e=>{const n=this.transitions.getValue();return t.next(new Tn(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?Lt.E:Promise.resolve(e)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,Vt(e=>function(e,t,n,r,i){return new Ci(e,t,n,r,i).apply()}(r,i,s,e.extractedUrl,o).pipe((0,fe.U)(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t}))))),(0,yn.b)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,i){return(0,nn.zg)(s=>function(e,t,n,r,i="emptyOnly",s="legacy"){try{const o=new Ni(e,t,n,r,i,s).recognize();return null===o?Oi(new Pi):(0,_t.of)(o)}catch(o){return Oi(o)}}(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe((0,fe.U)(e=>Object.assign(Object.assign({},s),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,yn.b)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects);const n=new kn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=e,a=new Tn(n,this.serializeUrl(r),i,s);t.next(a);const l=Ar(r,this.rootComponentType).snapshot;return(0,_t.of)(Object.assign(Object.assign({},e),{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Lt.E}),Vi(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,yn.b)(e=>{const t=new An(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,fe.U)(e=>Object.assign(Object.assign({},e),{guards:Si(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,nn.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?(0,_t.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,he.D)(e).pipe((0,nn.zg)(e=>function(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,_t.of)(!0);const o=s.map(s=>{const o=ki(s,t,i);let a;if(function(e){return e&&ei(e.canDeactivate)}(o))a=Kn(o.canDeactivate(e,t,n,r));else{if(!ei(o))throw new Error("Invalid CanDeactivate guard");a=Kn(o(e,t,n,r))}return a.pipe(mn())});return(0,_t.of)(o).pipe(ri())}(e.component,e.route,n,t,r)),mn(e=>!0!==e,!0))}(o,r,i,e).pipe((0,nn.zg)(n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return(0,he.D)(t).pipe(rn(t=>Dt(function(e,t){return null!==e&&t&&t(new Dn(e)),(0,_t.of)(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new Mn(e)),(0,_t.of)(!0)}(t.route,r),function(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>Mt(()=>{const i=t.guards.map(i=>{const s=ki(i,t.node,n);let o;if(function(e){return e&&ei(e.canActivateChild)}(s))o=Kn(s.canActivateChild(r,e));else{if(!ei(s))throw new Error("Invalid CanActivateChild guard");o=Kn(s(r,e))}return o.pipe(mn())});return(0,_t.of)(i).pipe(ri())}));return(0,_t.of)(i).pipe(ri())}(e,t.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,_t.of)(!0);const i=r.map(r=>Mt(()=>{const i=ki(r,t,n);let s;if(function(e){return e&&ei(e.canActivate)}(i))s=Kn(i.canActivate(t,e));else{if(!ei(i))throw new Error("Invalid CanActivate guard");s=Kn(i(t,e))}return s.pipe(mn())}));return(0,_t.of)(i).pipe(ri())}(e,t.route,n))),mn(e=>!0!==e,!0))}(r,s,e,t):(0,_t.of)(n)),(0,fe.U)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),(0,yn.b)(e=>{if(ti(e.guardsResult)){const t=Zn(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new xn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Qt(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new En(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),Vi(e=>{if(e.guards.canActivateChecks.length)return(0,_t.of)(e).pipe((0,yn.b)(e=>{const t=new Pn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Vt(e=>{let n=!1;return(0,_t.of)(e).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,(0,nn.zg)(e=>{const{targetSnapshot:t,guards:{canActivateChecks:n}}=e;if(!n.length)return(0,_t.of)(e);let s=0;return(0,he.D)(n).pipe(rn(e=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return(0,_t.of)({});const s={};return(0,he.D)(i).pipe((0,nn.zg)(i=>function(e,t,n,r){const i=ki(e,t,r);return Kn(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe((0,yn.b)(e=>{s[i]=e}))),sn(1),(0,nn.zg)(()=>Object.keys(s).length===i.length?(0,_t.of)(s):Lt.E))}(e._resolve,e,t,r).pipe((0,fe.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Pr(e,n).resolve),null)))}(e.route,t,r,i)),(0,yn.b)(()=>s++),sn(1),(0,nn.zg)(t=>s===n.length?(0,_t.of)(e):Lt.E))})),(0,yn.b)({next:()=>n=!0,complete:()=>{if(!n){const n=new En(e.id,this.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");t.next(n),e.resolve(!1)}}}));var r,i}),(0,yn.b)(e=>{const t=new On(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Vi(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,fe.U)(e=>{const t=function(e,t,n){const r=Fr(e,t._root,n?n._root:void 0);return new kr(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),(0,yn.b)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=e=>this.triggerEvent(e),(0,fe.U)(e=>(new Yr(o,e.targetRouterState,e.currentRouterState,a).activate(s),e))),(0,yn.b)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new En(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null},e=>e.lift(new wn(i))),Xt(n=>{if(r=!0,function(e){return e&&e.ngNavigationCancelingError}(n)){const r=ti(n.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const i=new En(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new Sn(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(mh){e.reject(mh)}}return Lt.E}));var i,s,o,a}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:r}=t,i={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,0!==Object.keys(e).length&&(i.state=e)}this.scheduleNavigation(r,e,n,i)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){si(e),this.config=e.map(li),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=t,a=n||this.routerState.root,l=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,i){if(0===n.length)return jr(t.root,t.root,t,r,i);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new zr(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return Wn(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new zr(n,t,r)}(n);if(s.toRoot())return jr(t.root,new rr([],{}),t,r,i);const o=function(e,t,n){if(e.isAbsolute)return new Br(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new Br(e,e===t.root,0)}const r=Vr(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Br(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?$r(o.segmentGroup,o.index,s.commands):Hr(o.segmentGroup,o.index,s.commands);return jr(o.segmentGroup,a,t,r,i)}(a,this.currentUrlTree,e,c,null!=l?l:null)}navigateByUrl(e,t={skipLocationChange:!1}){const n=ti(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){let n;if(n=!0===t?Object.assign({},Ki):!1===t?Object.assign({},Qi):t,ti(e))return Jn(this.currentUrlTree,e,n);const r=this.parseUrl(e);return Jn(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new In(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==t&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===e.toString();if(o&&a)return Promise.resolve(!0);let l,c,u;i?(l=i.resolve,c=i.reject,u=i.promise):u=new Promise((e,t)=>{l=e,c=t});const h=++this.navigationId;return this.setTransition({id:h,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,r){const i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.DyG),r.LFG(or),r.LFG(Bi),r.LFG(b),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Ji=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.route=t,this.commands=[],this.onChanges=new vt.xQ,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:es(this.skipLocationChange),replaceUrl:es(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:es(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Yi),r.Y36(xr),r.$8M("tabindex"),r.Y36(r.Qsj),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&r.NdJ("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),e})(),Xi=(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.onChanges=new vt.xQ,this.subscription=e.events.subscribe(e=>{e instanceof In&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r,i){if(0!==e||t||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:es(this.skipLocationChange),replaceUrl:es(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:es(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Yi),r.Y36(xr),r.Y36(m))},e.\u0275dir=r.lG2({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&r.NdJ("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(r.Ikx("href",t.href,r.LSH),r.uIk("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),e})();function es(e){return""===e||!!e}let ts=(()=>{class e{constructor(e,t,n,r,i,s){this.router=e,this.element=t,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(e=>{e instanceof In&&this.update()})}ngAfterContentInit(){(0,_t.of)(this.links.changes,this.linksWithHrefs.changes,(0,_t.of)(null)).pipe((0,Rt.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(e=>!!e).map(e=>e.onChanges);this.linkInputChangesSubscription=(0,he.D)(t).pipe((0,Rt.J)()).subscribe(e=>{this.isActive!==this.isLinkActive(this.router)(e)&&this.update()})}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(e=>!!e)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}))})}isLinkActive(e){const t="paths"in this.routerLinkActiveOptions?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>e.isActive(n.urlTree,t)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Yi),r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.sBO),r.Y36(Ji,8),r.Y36(Xi,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){if(1&e&&(r.Suo(n,Ji,5),r.Suo(n,Xi,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.links=e),r.iGM(e=r.CRH())&&(t.linksWithHrefs=e)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.TTD]}),e})(),ns=(()=>{class e{constructor(e,t,n,i,s){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||Vn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new rs(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Bi),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},e.\u0275dir=r.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class rs{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===xr?this.route:e===Bi?this.childContexts:this.parent.get(e,t)}}class is{}class ss{preload(e,t){return(0,_t.of)(null)}}let os=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new Zi(t,n,t=>e.triggerEvent(new Nn(t)),t=>e.triggerEvent(new Rn(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Qt(e=>e instanceof In),rn(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(r.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return(0,he.D)(n).pipe((0,Rt.J)(),(0,fe.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?(0,_t.of)(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,nn.zg)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Yi),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(is))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),as=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Tn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof In&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Un&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Un(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Yi),r.LFG(O),r.LFG(void 0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const ls=new r.OlP("ROUTER_CONFIGURATION"),cs=new r.OlP("ROUTER_FORROOT_GUARD"),us=[b,{provide:or,useClass:ar},{provide:Yi,useFactory:function(e,t,n,r,i,s,o,a={},l,c){const u=new Yi(null,e,t,n,r,i,s,$n(o));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(e=>{var t,n;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),u},deps:[or,Bi,b,r.zs3,r.v3s,r.Sil,ji,ls,[class{},new r.FiY],[class{},new r.FiY]]},Bi,{provide:xr,useFactory:function(e){return e.routerState.root},deps:[Yi]},{provide:r.v3s,useClass:r.EAV},os,ss,class{preload(e,t){return t().pipe(Xt(()=>(0,_t.of)(null)))}},{provide:ls,useValue:{enableTracing:!1}}];function hs(){return new r.PXZ("Router",Yi)}let ds=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[us,ms(t),{provide:cs,useFactory:gs,deps:[[Yi,new r.FiY,new r.tp0]]},{provide:ls,useValue:n||{}},{provide:m,useFactory:fs,deps:[a,[new r.tBr(_),new r.FiY],ls]},{provide:as,useFactory:ps,deps:[Yi,O,ls]},{provide:is,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ss},{provide:r.PXZ,multi:!0,useFactory:hs},[ys,{provide:r.ip1,multi:!0,useFactory:_s,deps:[ys]},{provide:ws,useFactory:vs,deps:[ys]},{provide:r.tb,multi:!0,useExisting:ws}]]}}static forChild(t){return{ngModule:e,providers:[ms(t)]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(cs,8),r.LFG(Yi,8))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();function ps(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new as(e,t,n)}function fs(e,t,n={}){return n.useHash?new w(e,t):new v(e,t)}function gs(e){return"guarded"}function ms(e){return[{provide:r.deG,multi:!0,useValue:e},{provide:ji,multi:!0,useValue:e}]}let ys=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new vt.xQ}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(Yi),r=this.injector.get(ls);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,_t.of)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(ls),n=this.injector.get(os),i=this.injector.get(as),s=this.injector.get(Yi),o=this.injector.get(r.z2F);e===o.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.zs3))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function _s(e){return e.appInitializer.bind(e)}function vs(e){return e.bootstrapListener.bind(e)}const ws=new r.OlP("Router Initializer");let bs=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-about"]],decls:66,vars:0,consts:[["href","https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css","rel","stylesheet"],["id","about",1,"about","fade-in-text"],["data-aos","fade-up",1,"container"],[1,"section-title"],[1,"row"],[1,"col-lg-4"],["src","assets\\About.jpg",1,"img-fluid"],[1,"col-lg-8","pt-4","pt-lg-0","content"],[1,"fst-italic"],[1,"col-lg-6"],[1,"bx","bx-caret-right"],["href","assets\\vedant.pdf","target","_blank",1,"btn","btn-success"]],template:function(e,t){1&e&&(r.TgZ(0,"head"),r._UZ(1,"link",0),r.qZA(),r.TgZ(2,"section",1),r.TgZ(3,"div",2),r.TgZ(4,"div",3),r.TgZ(5,"h2"),r._uU(6,"About"),r.qZA(),r.TgZ(7,"p"),r._uU(8," Seeking a beginner role to enhance and explore my technical knowledge gained in last three years. I hold a Bachelor of Engineering degree from MMIT,Pune college passout in 2020... "),r.qZA(),r.qZA(),r.TgZ(9,"div",4),r.TgZ(10,"div",5),r._UZ(11,"img",6),r.qZA(),r.TgZ(12,"div",7),r.TgZ(13,"h3"),r._uU(14,"UI/UX Designer & Web Developer."),r.qZA(),r.TgZ(15,"p",8),r._uU(16," I think, we need not explain the importance of website for any kind of business. Web Designing and Development are the key components for every business where they both combine and provide a business website. "),r.qZA(),r.TgZ(17,"div",4),r.TgZ(18,"div",9),r.TgZ(19,"ul"),r.TgZ(20,"li"),r._UZ(21,"i",10),r.TgZ(22,"strong"),r._uU(23,"Date Of Birth :"),r.qZA(),r.TgZ(24,"span"),r._uU(25,"16 October 1997"),r.qZA(),r.qZA(),r.TgZ(26,"li"),r._UZ(27,"i",10),r.TgZ(28,"strong"),r._uU(29,"Phone :"),r.qZA(),r.TgZ(30,"span"),r._uU(31,"+91 9545044387"),r.qZA(),r.qZA(),r.TgZ(32,"li"),r._UZ(33,"i",10),r.TgZ(34,"strong"),r._uU(35,"City :"),r.qZA(),r.TgZ(36,"span"),r._uU(37,"Pune,India"),r.qZA(),r.qZA(),r.TgZ(38,"li"),r._UZ(39,"i",10),r.TgZ(40,"strong"),r._uU(41,"Age :"),r.qZA(),r.TgZ(42,"span"),r._uU(43,"24"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(44,"div",9),r.TgZ(45,"ul"),r.TgZ(46,"li"),r._UZ(47,"i",10),r.TgZ(48,"strong"),r._uU(49,"Degree :"),r.qZA(),r.TgZ(50,"span"),r._uU(51,"Bachelor Of Engineering"),r.qZA(),r.qZA(),r.TgZ(52,"li"),r._UZ(53,"i",10),r.TgZ(54,"strong"),r._uU(55,"Email :"),r.qZA(),r.TgZ(56,"span"),r._uU(57,"vedantarole3@gmail.com"),r.qZA(),r.qZA(),r.TgZ(58,"li"),r._UZ(59,"i",10),r.TgZ(60,"strong"),r._uU(61,"Freelance :"),r.qZA(),r.TgZ(62,"span"),r._uU(63,"Available"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(64,"a",11),r._uU(65,"Download CV"),r.qZA(),r.qZA())},styles:['.section-title[_ngcontent-%COMP%]{margin-top:135px;text-align:center;padding-bottom:0}.section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;color:#f5f5f5;font-weight:700;text-transform:uppercase;margin-bottom:20px;padding-bottom:20px;position:relative}.section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:before{content:"";position:absolute;display:block;width:120px;height:1px;background:#ddd;bottom:1px;left:calc(50% - 60px)}.section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";position:absolute;display:block;width:40px;height:3px;background:#adff2f;bottom:0;left:calc(50% - 20px)}.section-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:15px;color:#f5f5f5;font-weight:600}.about[_ngcontent-%COMP%]{transition:all .8s ease;margin-top:-13px}.about[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:26px;color:#adff2f;margin-top:38px}.about[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .fst-italic[_ngcontent-%COMP%]{font-size:15px;color:#f5f5f5;padding-top:8px;font-weight:600}.about[_ngcontent-%COMP%]   .img-fluid[_ngcontent-%COMP%]{width:260px;height:260px;margin-left:70px;margin-top:45px}.about[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:16px 0 0}.about[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;align-items:center}.about[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-right:10px;font-size:15px;color:#f5f5f5}.about[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#f5f5f5}.about[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;margin-right:5px;color:#adff2f;line-height:0}.about[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0;font-size:15px;color:#f5f5f5}.about[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:45%;margin-bottom:70px;margin-top:12px}.about[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:green;color:#fff0f5}@media(max-width:510px){.about[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:38%}.about[_ngcontent-%COMP%]   .img-fluid[_ngcontent-%COMP%]{margin-left:103px}.about[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .about[_ngcontent-%COMP%]   .fst-italic[_ngcontent-%COMP%]{text-align:center}}']}),e})(),Cs=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-home"]],decls:19,vars:0,consts:[["href","https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css","rel","stylesheet"],["id","hero"],["data-aos","zoom-in","data-aos-delay","100",1,"container","fade-in-text"],[1,"home"],[1,"social-links"],["href","https://twitter.com/ved7669","target","_blank",1,"twitter"],[1,"bx","bxl-twitter"],["href","https://www.instagram.com/vedant7669/","target","_blank",1,"instagram"],[1,"bx","bxl-instagram"],["href","https://secure.skype.com/portal/overview","target","_blank",1,"skype"],[1,"bx","bxl-skype"],["href","https://www.linkedin.com/in/vedant-arole-8758b0205/","target","_blank",1,"linkedin"],[1,"bx","bxl-linkedin"]],template:function(e,t){1&e&&(r.TgZ(0,"head"),r._UZ(1,"link",0),r.qZA(),r.TgZ(2,"section",1),r.TgZ(3,"div",2),r.TgZ(4,"h1"),r._uU(5,"Vedant Arole"),r.qZA(),r.TgZ(6,"p"),r._uU(7,"I'm Passionate "),r.TgZ(8,"span",3),r._uU(9,"UI/UX Developer"),r.qZA(),r.qZA(),r.TgZ(10,"div",4),r.TgZ(11,"a",5),r._UZ(12,"i",6),r.qZA(),r.TgZ(13,"a",7),r._UZ(14,"i",8),r.qZA(),r.TgZ(15,"a",9),r._UZ(16,"i",10),r.qZA(),r.TgZ(17,"a",11),r._UZ(18,"i",12),r.qZA(),r.qZA(),r.qZA(),r.qZA())},styles:["#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:200px;font-size:60px;font-weight:700;color:#f5f5f5;margin-left:110px}#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:120px;font-size:30px;font-weight:600;color:#f5f5f5;display:initial}#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .home[_ngcontent-%COMP%]{color:#adff2f}.container[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin-top:30px;margin-left:110px}.container[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:20px;font-size:23px;display:block;color:#f5f5f5;line-height:1;transition:.3s;float:left;transition:all .1s ease}.container[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:green;border-radius:50px;padding-left:30px}@media(max-width:1100px){#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{margin-left:0}}@media (max-width:772px){#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}@media (max-width:400px){#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:35px;margin-left:59px;padding-bottom:12px}#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;margin-left:63px}#hero[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin-left:55px;font-size:20px;padding-top:0}}"]}),e})(),Ts=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-resume"]],decls:74,vars:0,consts:[["id","resume",1,"resume","fade-in-text"],["data-aos","fade-up ",1,"container"],[1,"section-title"],[1,"para"],[1,"row"],[1,"col-lg-6","content"],[1,"resume-title"],[1,"bx","bx-chevrons-right"],[1,"resume-item"]],template:function(e,t){1&e&&(r.TgZ(0,"section",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"h2"),r._uU(4,"Resume"),r.qZA(),r.qZA(),r.TgZ(5,"p",3),r._uU(6," To pursue a highly challenging career in the field of Engineering, where I can apply my knowledge and acquire new skills. I forces myself to be part of top-notch team of professional with sincerity, creativity and dedication. "),r.qZA(),r.TgZ(7,"div",4),r.TgZ(8,"div",5),r.TgZ(9,"h3",6),r._UZ(10,"i",7),r._uU(11,"Sumary"),r.qZA(),r.TgZ(12,"div",8),r.TgZ(13,"h4"),r._uU(14,"Vedant Arole"),r.qZA(),r.TgZ(15,"p"),r._uU(16,"Design and Build Websites.typically responsible for the appearance of the site and technical aspects, such as site speed and how much traffic the site can handle and may also create site content that requires technical features."),r.qZA(),r.TgZ(17,"ul"),r.TgZ(18,"li"),r._uU(19,"11,Sargam Socirty,Karve Nagar,Pune-411052"),r.qZA(),r.TgZ(20,"li"),r._uU(21,"+91 9545044387"),r.qZA(),r.TgZ(22,"li"),r._uU(23,"vedantarole3@gmail.com"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(24,"h3",6),r._UZ(25,"i",7),r._uU(26,"Education"),r.qZA(),r.TgZ(27,"div",8),r.TgZ(28,"h4"),r._uU(29,"B.E ENTC"),r.qZA(),r._UZ(30,"br"),r.TgZ(31,"h5"),r._uU(32,"2016 - 2020"),r.qZA(),r.TgZ(33,"p"),r._uU(34,'"Marathwada Mitra Mandal Institute Of Technology , Pune "'),r.qZA(),r.TgZ(35,"p"),r._uU(36,'The trust "Marathwada Mitramandal \'s, Pune" was established in 1967 by Hon. Late Shri. Shankarraoji Chavan, Former Home Minister, Govt. of India as the "Founder President".'),r.qZA(),r.qZA(),r.TgZ(37,"div",8),r.TgZ(38,"h4"),r._uU(39,"Diploma"),r.qZA(),r._UZ(40,"br"),r.TgZ(41,"h5"),r._uU(42,"2013 - 2016"),r.qZA(),r.TgZ(43,"p"),r._uU(44,'"Shikshan Prasarak Mandal , Kumthe, Solapur"'),r.qZA(),r.TgZ(45,"p"),r._uU(46,'The trust "SPM Polytechnic, Kumthe" was established in 1998 by Hon. Late Shri. Bramhadevdada Mane,as the "Founder President".'),r.qZA(),r.qZA(),r.TgZ(47,"div",8),r.TgZ(48,"h4"),r._uU(49,"SSC"),r.qZA(),r._UZ(50,"br"),r.TgZ(51,"h5"),r._uU(52,"2012 - 2013 "),r.qZA(),r.TgZ(53,"p"),r._uU(54,'"Bharati Vidyapeeth", Solapur"'),r.qZA(),r.TgZ(55,"p"),r._uU(56,"During the last 56 years Bharati Vidyapeeth has made astonishing strides in the field of education, particularly, higher and professional education. "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(57,"div",5),r.TgZ(58,"h3",6),r._UZ(59,"i",7),r._uU(60,"Professional Experience"),r.qZA(),r.TgZ(61,"div",8),r.TgZ(62,"h4"),r._uU(63,"WEB-DEVELOPMENT"),r.qZA(),r._UZ(64,"br"),r.TgZ(65,"h5"),r._uU(66,"2021 - Present"),r.qZA(),r.TgZ(67,"p"),r._uU(68,' "Fortune Cloud Technology pvt.ltd, Pune, Maharashtra." '),r.qZA(),r.TgZ(69,"ul"),r.TgZ(70,"li"),r._uU(71,"As a Web Developer to design and development, and implementation of the front-end,Back-end, layout, and production communication materials. "),r.qZA(),r.TgZ(72,"li"),r._uU(73,"To ensure quality and accuracy of the developing."),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA())},styles:['.resume[_ngcontent-%COMP%]{margin-top:135px;display:"inline-block";transition:all .8s ease}.resume[_ngcontent-%COMP%]   .para[_ngcontent-%COMP%]{text-align:center;font-size:17px;color:#f5f5f5}w[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-top:17px}.resume-title[_ngcontent-%COMP%]{font-style:"Poppins",sans-serif;font-weight:600;margin-top:15px;margin-bottom:20px;margin-left:50px}.resume-title[_ngcontent-%COMP%], .resume-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px;color:#f5f5f5}.resume[_ngcontent-%COMP%]   .resume-item[_ngcontent-%COMP%]{padding:30px 0 20px 20px;margin-top:-2px;border-left:2px solid #adff2f;text-align:left;position:relative;margin-left:60px}.resume-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:-10px;font-weight:600;color:#adff2f;font-style:"Poppins",sans-serif;font-size:20px;margin-bottom:10px;text-transform:uppercase;line-height:13px;font-weight:700}.resume-item[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;background:#e4edf9;padding:5px 15px;display:inline-block;font-weight:600;margin-bottom:10px}.resume-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-top:12px;font-size:15px;font-weight:400;color:#f5f5f5}.resume-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-top:5px;padding-left:10px;font-size:15px;color:#f5f5f5}.resume-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px}.resume[_ngcontent-%COMP%]   .resume-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:before{border-radius:50px;width:16px;height:16px;position:absolute;border:2px solid #0563bb}@media (max-width:510px){.resume[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-left:-26px}}']}),e})(),Is=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-skills"]],decls:57,vars:0,consts:[["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1"],["id","skills",1,"skills","section","fade-in-text"],["data-aos","fade-up",1,"container"],[1,"section-title"],[1,"row","skills-content"],[1,"col-lg-6"],[1,"progress"],[1,"skill"],[1,"val"],[1,"progress-bar-wrap"],["role","progressbar","aria-valuenow","70","aria-valuemin","0","aria-valuemax","100",1,"progress-bar1"],["role","progressbar","aria-valuenow","70","aria-valuemin","0","aria-valuemax","100",1,"progress-bar2"],["role","progressbar","aria-valuenow","40","aria-valuemin","0","aria-valuemax","100",1,"progress-bar3"],["role","progressbar","aria-valuenow","70","aria-valuemin","0","aria-valuemax","100",1,"progress-bar4"],["role","progressbar","aria-valuemax","100","aria-valuemin","0","aria-valuenow","50",1,"progress-bar5"],["aria-valuenow","40","aria-valuemin","0","aria-valuemax","100",1,"progress-bar6"]],template:function(e,t){1&e&&(r._UZ(0,"meta",0),r._UZ(1,"meta",1),r.TgZ(2,"section",2),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"h2"),r._uU(6,"Skills"),r.qZA(),r.qZA(),r.TgZ(7,"div",5),r.TgZ(8,"div",6),r.TgZ(9,"div",7),r.TgZ(10,"span",8),r._uU(11,"HTML"),r.TgZ(12,"i",9),r._uU(13,"70%"),r.qZA(),r.qZA(),r.TgZ(14,"div",10),r._UZ(15,"div",11),r.qZA(),r.qZA(),r._UZ(16,"br"),r.TgZ(17,"div",7),r.TgZ(18,"span",8),r._uU(19,"CSS"),r.TgZ(20,"i",9),r._uU(21,"70%"),r.qZA(),r.qZA(),r.TgZ(22,"div",10),r._UZ(23,"div",12),r.qZA(),r.qZA(),r._UZ(24,"br"),r.TgZ(25,"div",7),r.TgZ(26,"span",8),r._uU(27,"JavaScript"),r.TgZ(28,"i",9),r._uU(29,"40%"),r.qZA(),r.qZA(),r.TgZ(30,"div",10),r._UZ(31,"div",13),r.qZA(),r.qZA(),r.qZA(),r.TgZ(32,"div",6),r.TgZ(33,"div",7),r.TgZ(34,"span",8),r._uU(35,"Angular 11"),r.TgZ(36,"i",9),r._uU(37,"70%"),r.qZA(),r.qZA(),r.TgZ(38,"div",10),r._UZ(39,"div",14),r.qZA(),r.qZA(),r._UZ(40,"br"),r.TgZ(41,"div",7),r.TgZ(42,"span",8),r._uU(43,"Node.JS"),r.TgZ(44,"i",9),r._uU(45,"50%"),r.qZA(),r.qZA(),r.TgZ(46,"div",10),r._UZ(47,"div",15),r.qZA(),r.qZA(),r._UZ(48,"br"),r.TgZ(49,"div",7),r.TgZ(50,"span",8),r._uU(51,"jQuery"),r.TgZ(52,"i",9),r._uU(53,"40%"),r.qZA(),r.qZA(),r.TgZ(54,"div",10),r._UZ(55,"div",16),r.qZA(),r.qZA(),r._UZ(56,"br"),r.qZA(),r.qZA(),r.qZA(),r.qZA())},styles:[".skills[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{display:block;border-radius:10px;height:60px;background:none;margin-left:-5px;width:100%}.skills[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]{margin-left:20px}.skills[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .skill[_ngcontent-%COMP%]{padding:10px;margin:0;text-transform:uppercase;display:block;font-weight:600;font-family:Poppins,sans-serif;color:#f5f5f5;font-size:12px}.skills[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .skill[_ngcontent-%COMP%]   .val[_ngcontent-%COMP%]{float:right;font-style:normal}.skills[_ngcontent-%COMP%]   .progress-bar-wrap[_ngcontent-%COMP%]{background-color:#000;border-radius:10px;width:100%}.skills[_ngcontent-%COMP%]   .progress-bar1[_ngcontent-%COMP%], .skills[_ngcontent-%COMP%]   .progress-bar2[_ngcontent-%COMP%]{width:70%;height:10px;transition:.9s;background-color:#adff2f}.skills[_ngcontent-%COMP%]   .progress-bar3[_ngcontent-%COMP%]{width:40%}.skills[_ngcontent-%COMP%]   .progress-bar3[_ngcontent-%COMP%], .skills[_ngcontent-%COMP%]   .progress-bar4[_ngcontent-%COMP%]{height:10px;transition:.9s;background-color:#adff2f}.skills[_ngcontent-%COMP%]   .progress-bar4[_ngcontent-%COMP%]{width:70%}.skills[_ngcontent-%COMP%]   .progress-bar5[_ngcontent-%COMP%]{width:50%}.skills[_ngcontent-%COMP%]   .progress-bar5[_ngcontent-%COMP%], .skills[_ngcontent-%COMP%]   .progress-bar6[_ngcontent-%COMP%]{height:10px;transition:.9s;background-color:#adff2f}.skills[_ngcontent-%COMP%]   .progress-bar6[_ngcontent-%COMP%]{width:40%}@media (max-width:400px){.skills[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:293px;overflow-x:hidden}.skills[_ngcontent-%COMP%]{margin-top:0}}"]}),e})();class Es{}var Ss=n(8569),ks=n(5271);function As(){return e=>e.lift(new xs)}class xs{call(e,t){return t.subscribe(new Ps(e))}}class Ps extends Tt.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}function Os(e,t){return n=>n.lift(new Ns(e,t))}class Ns{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Rs(e,this.compare,this.keySelector))}}class Rs extends Tt.L{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}var Ds,Ls=n(9748),Ms=(n(6427),n(1932)),Fs=n(6304),Us=n(7092),Vs=n(5119),qs=n(2134),js=n(5725),Zs="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},zs={},Bs=Bs||{},Hs=Zs||self;function $s(){}function Gs(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ws(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ks="closure_uid_"+(1e9*Math.random()>>>0),Qs=0;function Ys(e,t,n){return e.call.apply(e.bind,arguments)}function Js(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Xs(e,t,n){return(Xs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ys:Js).apply(null,arguments)}function eo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function to(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function no(){this.s=this.s,this.o=this.o}var ro={};no.prototype.s=!1,no.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ks)&&e[Ks]||(e[Ks]=++Qs)}(this);delete ro[e]}},no.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const io=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},so=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function oo(e){return Array.prototype.concat.apply([],arguments)}function ao(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function lo(e){return/^[\s\xa0]*$/.test(e)}var co,uo=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ho(e,t){return-1!=e.indexOf(t)}function po(e,t){return e<t?-1:e>t?1:0}e:{var fo=Hs.navigator;if(fo){var go=fo.userAgent;if(go){co=go;break e}}co=""}function mo(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function yo(e){const t={};for(const n in e)t[n]=e[n];return t}var _o="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vo(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<_o.length;t++)n=_o[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function wo(e){return wo[" "](e),e}wo[" "]=$s;var bo,Co,To=ho(co,"Opera"),Io=ho(co,"Trident")||ho(co,"MSIE"),Eo=ho(co,"Edge"),So=Eo||Io,ko=ho(co,"Gecko")&&!(ho(co.toLowerCase(),"webkit")&&!ho(co,"Edge"))&&!(ho(co,"Trident")||ho(co,"MSIE"))&&!ho(co,"Edge"),Ao=ho(co.toLowerCase(),"webkit")&&!ho(co,"Edge");function xo(){var e=Hs.document;return e?e.documentMode:void 0}e:{var Po="",Oo=(Co=co,ko?/rv:([^\);]+)(\)|;)/.exec(Co):Eo?/Edge\/([\d\.]+)/.exec(Co):Io?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Co):Ao?/WebKit\/(\S+)/.exec(Co):To?/(?:Version)[ \/]?(\S+)/.exec(Co):void 0);if(Oo&&(Po=Oo?Oo[1]:""),Io){var No=xo();if(null!=No&&No>parseFloat(Po)){bo=String(No);break e}}bo=Po}var Ro={};var Do=Hs.document&&Io&&(xo()||parseInt(bo,10))||void 0,Lo=function(){if(!Hs.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Hs.addEventListener("test",$s,t),Hs.removeEventListener("test",$s,t)}catch(n){}return e}();function Mo(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Fo(e,t){if(Mo.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ko){e:{try{wo(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Uo[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Fo.Z.h.call(this)}}Mo.prototype.h=function(){this.defaultPrevented=!0},to(Fo,Mo);var Uo={2:"touch",3:"pen",4:"mouse"};Fo.prototype.h=function(){Fo.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Vo="closure_listenable_"+(1e6*Math.random()|0),qo=0;function jo(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++qo,this.ca=this.fa=!1}function Zo(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function zo(e){this.src=e,this.g={},this.h=0}function Bo(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=io(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Zo(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ho(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}zo.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Ho(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new jo(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var $o="closure_lm_"+(1e6*Math.random()|0),Go={};function Wo(e,t,n,r,i){if(r&&r.once)return Qo(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Wo(e,t[s],n,r,i);return null}return n=ra(n),e&&e[Vo]?e.N(t,n,Ws(r)?!!r.capture:!!r,i):Ko(e,t,n,!1,r,i)}function Ko(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Ws(i)?!!i.capture:!!i,a=ta(e);if(a||(e[$o]=a=new zo(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){var e=ea;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Lo||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Xo(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Qo(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Qo(e,t[s],n,r,i);return null}return n=ra(n),e&&e[Vo]?e.O(t,n,Ws(r)?!!r.capture:!!r,i):Ko(e,t,n,!0,r,i)}function Yo(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Yo(e,t[s],n,r,i);else r=Ws(r)?!!r.capture:!!r,n=ra(n),e&&e[Vo]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Ho(s=e.g[t],n,r,i))&&(Zo(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=ta(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ho(t,n,r,i)),(n=-1<e?t[e]:null)&&Jo(n))}function Jo(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Vo])Bo(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Xo(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ta(t))?(Bo(n,e),0==n.h&&(n.src=null,t[$o]=null)):Zo(e)}}}function Xo(e){return e in Go?Go[e]:Go[e]="on"+e}function ea(e,t){if(e.ca)e=!0;else{t=new Fo(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Jo(e),e=n.call(r,t)}return e}function ta(e){return(e=e[$o])instanceof zo?e:null}var na="__closure_events_fn_"+(1e9*Math.random()>>>0);function ra(e){return"function"==typeof e?e:(e[na]||(e[na]=function(t){return e.handleEvent(t)}),e[na])}function ia(){no.call(this),this.i=new zo(this),this.P=this,this.I=null}function sa(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new Mo(t,e);else if(t instanceof Mo)t.target=t.target||e;else{var i=t;vo(t=new Mo(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=oa(o,r,!0,t)&&i}if(i=oa(o=t.g=e,r,!0,t)&&i,i=oa(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=oa(o=t.g=n[s],r,!1,t)&&i}function oa(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&Bo(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}to(ia,no),ia.prototype[Vo]=!0,ia.prototype.removeEventListener=function(e,t,n,r){Yo(this,e,t,n,r)},ia.prototype.M=function(){if(ia.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Zo(n[r]);delete t.g[e],t.h--}}this.I=null},ia.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ia.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var aa=Hs.JSON.stringify;function la(){var e=ga;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ca,ua=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ha,e=>e.reset());class ha{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function da(e){Hs.setTimeout(()=>{throw e},0)}function pa(e,t){ca||function(){var e=Hs.Promise.resolve(void 0);ca=function(){e.then(ma)}}(),fa||(ca(),fa=!0),ga.add(e,t)}var fa=!1,ga=new class{constructor(){this.h=this.g=null}add(e,t){const n=ua.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function ma(){for(var e;e=la();){try{e.h.call(e.g)}catch(n){da(n)}var t=ua;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}fa=!1}function ya(e,t){ia.call(this),this.h=e||1,this.g=t||Hs,this.j=Xs(this.kb,this),this.l=Date.now()}function _a(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function va(e,t,n){if("function"==typeof e)n&&(e=Xs(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Xs(e.handleEvent,e)}return 2147483647<Number(t)?-1:Hs.setTimeout(e,t||0)}function wa(e){e.g=va(()=>{e.g=null,e.i&&(e.i=!1,wa(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}to(ya,ia),(Ds=ya.prototype).da=!1,Ds.S=null,Ds.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),sa(this,"tick"),this.da&&(_a(this),this.start()))}},Ds.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ds.M=function(){ya.Z.M.call(this),_a(this),delete this.g};class ba extends no{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wa(this)}M(){super.M(),this.g&&(Hs.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ca(e){no.call(this),this.h=e,this.g={}}to(Ca,no);var Ta=[];function Ia(e,t,n,r){Array.isArray(n)||(n&&(Ta[0]=n.toString()),n=Ta);for(var i=0;i<n.length;i++){var s=Wo(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Ea(e){mo(e.g,function(e,t){this.g.hasOwnProperty(t)&&Jo(e)},e),e.g={}}function Sa(){this.g=!0}function ka(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return aa(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}Ca.prototype.M=function(){Ca.Z.M.call(this),Ea(this)},Ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Sa.prototype.Aa=function(){this.g=!1},Sa.prototype.info=function(){};var Aa={},xa=null;function Pa(){return xa=xa||new ia}function Oa(e){Mo.call(this,Aa.Ma,e)}function Na(e){const t=Pa();sa(t,new Oa(t,e))}function Ra(e,t){Mo.call(this,Aa.STAT_EVENT,e),this.stat=t}function Da(e){const t=Pa();sa(t,new Ra(t,e))}function La(e,t){Mo.call(this,Aa.Na,e),this.size=t}function Ma(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Hs.setTimeout(function(){e()},t)}Aa.Ma="serverreachability",to(Oa,Mo),Aa.STAT_EVENT="statevent",to(Ra,Mo),Aa.Na="timingevent",to(La,Mo);var Fa={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ua={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Va(){}function qa(){}Va.prototype.h=null;var ja,Za={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function za(){Mo.call(this,"d")}function Ba(){Mo.call(this,"c")}function Ha(){}function $a(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ca(this),this.P=Wa,this.W=new ya(e=So?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ga}function Ga(){this.i=null,this.g="",this.h=!1}to(za,Mo),to(Ba,Mo),to(Ha,Va),Ha.prototype.g=function(){return new XMLHttpRequest},Ha.prototype.i=function(){return{}},ja=new Ha;var Wa=45e3,Ka={},Qa={};function Ya(e,t,n){e.K=1,e.v=wl(fl(t)),e.s=n,e.U=!0,Ja(e,null)}function Ja(e,t){e.F=Date.now(),nl(e),e.A=fl(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Rl(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Ga,e.g=Rc(e.l,n?t:null,!e.s),0<e.O&&(e.L=new ba(Xs(e.Ia,e,e.g),e.O)),Ia(e.V,e.g,"readystatechange",e.gb),t=e.H?yo(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Na(1),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function Xa(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function el(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=tl(e,n),r==Qa){4==t&&(e.o=4,Da(14),i=!1),ka(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ka){e.o=4,Da(15),ka(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ka(e.j,e.m,r,null),al(e,r)}Xa(e)&&r!=Qa&&r!=Ka&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Da(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ec(t),t.L=!0,Da(11))):(ka(e.j,e.m,n,"[Invalid Chunked Response]"),ol(e),sl(e))}function tl(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Qa:(n=Number(t.substring(n,r)),isNaN(n)?Ka:(r+=1)+n>t.length?Qa:(t=t.substr(r,n),e.C=r+n,t))}function nl(e){e.Y=Date.now()+e.P,rl(e,e.P)}function rl(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ma(Xs(e.eb,e),t)}function il(e){e.B&&(Hs.clearTimeout(e.B),e.B=null)}function sl(e){0==e.l.G||e.I||Ac(e.l,e)}function ol(e){il(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,_a(e.W),Ea(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function al(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Vl(n.i,e)))if(n.I=e.N,!e.J&&Vl(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;kc(n),mc(n)}Ic(n),Da(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ma(Xs(n.ab,n),6e3));if(1>=Ul(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else Pc(n,11)}else if((e.J||n.g==e)&&kc(n),!lo(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const t=c[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=c[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(ho(e,"spdy")||ho(e,"quic")||ho(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(ql(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,vl(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((r=n).oa=Nc(r,r.H?r.la:null,r.W),o.J){jl(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(il(a),nl(a)),r.g=o}else Tc(r);0<n.l.length&&vc(n)}else"stop"!=c[0]&&"close"!=c[0]||Pc(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Pc(n,7):gc(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}Na(4)}catch(c){}}function ll(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Gs(e)||"string"==typeof e)so(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Gs(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(Gs(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function cl(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof cl)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function ul(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];hl(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)hl(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function hl(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ds=$a.prototype).setTimeout=function(e){this.P=e},Ds.gb=function(e){e=e.target;const t=this.L;t&&3==uc(e)?t.l():this.Ia(e)},Ds.Ia=function(e){try{if(e==this.g)e:{const u=uc(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>u)&&(3!=u||So||this.g&&(this.h.h||this.g.ga()||hc(this.g)))){this.I||4!=u||7==t||Na(8==t||0>=h?3:2),il(this);var n=this.g.ba();this.N=n;t:if(Xa(this)){var r=hc(this.g);e="";var i=r.length,s=4==uc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ol(this),sl(this);var o="";break t}this.h.i=new Hs.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lo(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Da(12),ol(this),sl(this);break e}ka(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,al(this,n)}this.U?(el(this,u,o),So&&this.i&&3==u&&(Ia(this.V,this.W,"tick",this.fb),this.W.start())):(ka(this.j,this.m,o,null),al(this,o)),4==u&&ol(this),this.i&&!this.I&&(4==u?Ac(this.l,this):(this.i=!1,nl(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Da(12)):(this.o=0,Da(13)),ol(this),sl(this)}}}catch(u){}},Ds.fb=function(){if(this.g){var e=uc(this.g),t=this.g.ga();this.C<t.length&&(il(this),el(this,e,t),this.i&&4!=e&&nl(this))}},Ds.cancel=function(){this.I=!0,ol(this)},Ds.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Na(3),Da(17)),ol(this),this.o=2,sl(this)):rl(this,this.Y-e)},(Ds=cl.prototype).R=function(){ul(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ds.T=function(){return ul(this),this.g.concat()},Ds.get=function(e,t){return hl(this.h,e)?this.h[e]:t},Ds.set=function(e,t){hl(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ds.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var dl=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function pl(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof pl){this.g=void 0!==t?t:e.g,gl(this,e.j),this.s=e.s,ml(this,e.i),yl(this,e.m),this.l=e.l,t=e.h;var n=new xl;n.i=t.i,t.g&&(n.g=new cl(t.g),n.h=t.h),_l(this,n),this.o=e.o}else e&&(n=String(e).match(dl))?(this.g=!!t,gl(this,n[1]||"",!0),this.s=bl(n[2]||""),ml(this,n[3]||"",!0),yl(this,n[4]),this.l=bl(n[5]||"",!0),_l(this,n[6]||"",!0),this.o=bl(n[7]||"")):(this.g=!!t,this.h=new xl(null,this.g))}function fl(e){return new pl(e)}function gl(e,t,n){e.j=n?bl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ml(e,t,n){e.i=n?bl(t,!0):t}function yl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function _l(e,t,n){t instanceof xl?(e.h=t,function(e,t){t&&!e.j&&(Pl(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Ol(this,t),Rl(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=Cl(t,kl)),e.h=new xl(t,e.g))}function vl(e,t,n){e.h.set(t,n)}function wl(e){return vl(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function bl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Cl(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Tl),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Tl(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}pl.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Cl(t,Il,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Cl(t,Il,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Cl(n,"/"==n.charAt(0)?Sl:El,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Cl(n,Al)),e.join("")};var Il=/[#\/\?@]/g,El=/[#\?:]/g,Sl=/[#\?]/g,kl=/[#\?@]/g,Al=/#/g;function xl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Pl(e){e.g||(e.g=new cl,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Ol(e,t){Pl(e),t=Dl(e,t),hl(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,hl((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ul(e)))}function Nl(e,t){return Pl(e),t=Dl(e,t),hl(e.g.h,t)}function Rl(e,t,n){Ol(e,t),0<n.length&&(e.i=null,e.g.set(Dl(e,t),ao(n)),e.h+=n.length)}function Dl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ll(e){this.l=e||Ml,e=Hs.PerformanceNavigationTiming?0<(e=Hs.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Hs.g&&Hs.g.Ea&&Hs.g.Ea()&&Hs.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ds=xl.prototype).add=function(e,t){Pl(this),this.i=null,e=Dl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ds.forEach=function(e,t){Pl(this),this.g.forEach(function(n,r){so(n,function(n){e.call(t,n,r,this)},this)},this)},Ds.T=function(){Pl(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},Ds.R=function(e){Pl(this);var t=[];if("string"==typeof e)Nl(this,e)&&(t=oo(t,this.g.get(Dl(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=oo(t,e[n])}return t},Ds.set=function(e,t){return Pl(this),this.i=null,Nl(this,e=Dl(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ds.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ds.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var Ml=10;function Fl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ul(e){return e.h?1:e.g?e.g.size:0}function Vl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ql(e,t){e.g?e.g.add(t):e.h=t}function jl(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Zl(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return ao(e.i)}function zl(){}function Bl(){this.g=new zl}function Hl(e,t,n){const r=n||"";try{ll(e,function(e,n){let i=e;Ws(e)&&(i=aa(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function $l(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Gl(e){this.l=e.$b||null,this.j=e.ib||!1}function Wl(e,t){ia.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Kl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ll.prototype.cancel=function(){if(this.i=Zl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},zl.prototype.stringify=function(e){return Hs.JSON.stringify(e,void 0)},zl.prototype.parse=function(e){return Hs.JSON.parse(e,void 0)},to(Gl,Va),Gl.prototype.g=function(){return new Wl(this.l,this.j)},Gl.prototype.i=function(e){return function(){return e}}({}),to(Wl,ia);var Kl=0;function Ql(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Yl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Jl(e)}function Jl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ds=Wl.prototype).open=function(e,t){if(this.readyState!=Kl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Jl(this)},Ds.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Hs).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ds.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yl(this)),this.readyState=Kl},Ds.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Jl(this)),this.g&&(this.readyState=3,Jl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Hs.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ql(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ds.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Yl(this):Jl(this),3==this.readyState&&Ql(this)}},Ds.Ua=function(e){this.g&&(this.response=this.responseText=e,Yl(this))},Ds.Ta=function(e){this.g&&(this.response=e,Yl(this))},Ds.ha=function(){this.g&&Yl(this)},Ds.setRequestHeader=function(e,t){this.v.append(e,t)},Ds.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ds.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Wl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Xl=Hs.JSON.parse;function ec(e){ia.call(this),this.headers=new cl,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=tc,this.K=this.L=!1}to(ec,ia);var tc="",nc=/^https?$/i,rc=["POST","PUT"];function ic(e){return"content-type"==e.toLowerCase()}function sc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,oc(e),lc(e)}function oc(e){e.D||(e.D=!0,sa(e,"complete"),sa(e,"error"))}function ac(e){if(e.h&&void 0!==Bs&&(!e.C[1]||4!=uc(e)||2!=e.ba()))if(e.v&&4==uc(e))va(e.Fa,0,e);else if(sa(e,"readystatechange"),4==uc(e)){e.h=!1;try{const l=e.ba();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===l){var i=String(e.H).match(dl)[1]||null;if(!i&&Hs.self&&Hs.self.location){var s=Hs.self.location.protocol;i=s.substr(0,s.length-1)}r=!nc.test(i?i.toLowerCase():"")}n=r}if(n)sa(e,"complete"),sa(e,"success");else{e.m=6;try{var o=2<uc(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.ba()+"]",oc(e)}}finally{lc(e)}}}function lc(e,t){if(e.g){cc(e);const r=e.g,i=e.C[0]?$s:null;e.g=null,e.C=null,t||sa(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function cc(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Hs.clearTimeout(e.A),e.A=null)}function uc(e){return e.g?e.g.readyState:0}function hc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case tc:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function dc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return mo(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):vl(e,t,n))}function pc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function fc(e){this.za=0,this.l=[],this.h=new Sa,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=pc("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=pc("baseRetryDelayMs",5e3,e),this.$a=pc("retryDelaySeedMs",1e4,e),this.Ya=pc("forwardChannelMaxRetries",2,e),this.ra=pc("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ll(e&&e.concurrentRequestLimit),this.Ca=new Bl,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function gc(e){if(yc(e),3==e.G){var t=e.V++,n=fl(e.F);vl(n,"SID",e.J),vl(n,"RID",t),vl(n,"TYPE","terminate"),bc(e,n),(t=new $a(e,e.h,t,void 0)).K=2,t.v=wl(fl(n)),n=!1,Hs.navigator&&Hs.navigator.sendBeacon&&(n=Hs.navigator.sendBeacon(t.v.toString(),"")),!n&&Hs.Image&&((new Image).src=t.v,n=!0),n||(t.g=Rc(t.l,null),t.g.ea(t.v)),t.F=Date.now(),nl(t)}Oc(e)}function mc(e){e.g&&(Ec(e),e.g.cancel(),e.g=null)}function yc(e){mc(e),e.u&&(Hs.clearTimeout(e.u),e.u=null),kc(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Hs.clearTimeout(e.m),e.m=null)}function _c(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&vc(e)}function vc(e){Fl(e.i)||e.m||(e.m=!0,pa(e.Ha,e),e.C=0)}function wc(e,t){var n;n=t?t.m:e.V++;const r=fl(e.F);vl(r,"SID",e.J),vl(r,"RID",n),vl(r,"AID",e.U),bc(e,r),e.o&&e.s&&dc(r,e.o,e.s),n=new $a(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Cc(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ql(e.i,n),Ya(n,r,t)}function bc(e,t){e.j&&ll({},function(e,n){vl(t,n,e)})}function Cc(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Xs(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].h;const a=i[o].g;if(n-=t,0>n)t=Math.max(0,i[o].h-100),s=!1;else try{Hl(a,e,"req"+n+"_")}catch(hu){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function Tc(e){e.g||e.u||(e.Y=1,pa(e.Ga,e),e.A=0)}function Ic(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=Ma(Xs(e.Ga,e),xc(e,e.A)),e.A++,0))}function Ec(e){null!=e.B&&(Hs.clearTimeout(e.B),e.B=null)}function Sc(e){e.g=new $a(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=fl(e.oa);vl(t,"RID","rpc"),vl(t,"SID",e.J),vl(t,"CI",e.N?"0":"1"),vl(t,"AID",e.U),bc(e,t),vl(t,"TYPE","xmlhttp"),e.o&&e.s&&dc(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=wl(fl(t)),n.s=null,n.U=!0,Ja(n,e)}function kc(e){null!=e.v&&(Hs.clearTimeout(e.v),e.v=null)}function Ac(e,t){var n=null;if(e.g==t){kc(e),Ec(e),e.g=null;var r=2}else{if(!Vl(e.i,t))return;n=t.D,jl(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;sa(r=Pa(),new La(r,n,t,i)),vc(e)}else Tc(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ul(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=Ma(Xs(e.Ha,e,t),xc(e,e.C)),e.C++,0)))}(e,t)||2==r&&Ic(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Pc(e,5);break;case 4:Pc(e,10);break;case 3:Pc(e,6);break;default:Pc(e,2)}}function xc(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Pc(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Xs(e.jb,e);n||(n=new pl("//www.google.com/images/cleardot.gif"),Hs.location&&"http"==Hs.location.protocol||gl(n,"https"),wl(n)),function(e,t){const n=new Sa;if(Hs.Image){const r=new Image;r.onload=eo($l,n,r,"TestLoadImage: loaded",!0,t),r.onerror=eo($l,n,r,"TestLoadImage: error",!1,t),r.onabort=eo($l,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=eo($l,n,r,"TestLoadImage: timeout",!1,t),Hs.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Da(2);e.G=0,e.j&&e.j.va(t),Oc(e),yc(e)}function Oc(e){e.G=0,e.I=-1,e.j&&(0==Zl(e.i).length&&0==e.l.length||(e.i.i.length=0,ao(e.l),e.l.length=0),e.j.ua())}function Nc(e,t,n){let r=function(e){return e instanceof pl?fl(e):new pl(e,void 0)}(n);if(""!=r.i)t&&ml(r,t+"."+r.i),yl(r,r.m);else{const e=Hs.location;r=function(e,t,n,r){var i=new pl(null,void 0);return e&&gl(i,e),t&&ml(i,t),n&&yl(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&mo(e.aa,function(e,t){vl(r,t,e)}),n=e.sa,(t=e.D)&&n&&vl(r,t,n),vl(r,"VER",e.ma),bc(e,r),r}function Rc(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ec(n&&e.Ba&&!e.qa?new Gl({ib:!0}):e.qa)).L=e.H,t}function Dc(){}function Lc(){if(Io&&!(10<=Number(Do)))throw Error("Environmental error: no available transport.")}function Mc(e,t){ia.call(this),this.g=new fc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!lo(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!lo(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Vc(this)}function Fc(e){za.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Uc(){Ba.call(this),this.status=1}function Vc(e){this.g=e}(Ds=ec.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ja.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:ja),this.g.onreadystatechange=Xs(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void sc(this,s)}e=n||"";const i=new cl(this.headers);r&&ll(r,function(e,t){i.set(t,e)}),r=function(e){e:{var t=ic;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=Hs.FormData&&e instanceof Hs.FormData,!(0<=io(rc,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{cc(this),0<this.B&&((this.K=function(e){return Io&&function(){return e=Ro,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=uo(String(bo)).split("."),n=uo("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=po(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||po(0==i[2].length,0==s[2].length)||po(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}();var e}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xs(this.pa,this)):this.A=va(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){sc(this,s)}},Ds.pa=function(){void 0!==Bs&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,sa(this,"timeout"),this.abort(8))},Ds.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,sa(this,"complete"),sa(this,"abort"),lc(this))},Ds.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lc(this,!0)),ec.Z.M.call(this)},Ds.Fa=function(){this.s||(this.F||this.v||this.l?ac(this):this.cb())},Ds.cb=function(){ac(this)},Ds.ba=function(){try{return 2<uc(this)?this.g.status:-1}catch(Co){return-1}},Ds.ga=function(){try{return this.g?this.g.responseText:""}catch(Co){return""}},Ds.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Xl(t)}},Ds.Da=function(){return this.m},Ds.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ds=fc.prototype).ma=8,Ds.G=1,Ds.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Ds.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new $a(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=yo(s),vo(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Cc(this,i,t),vl(n=fl(this.F),"RID",e),vl(n,"CVER",22),this.D&&vl(n,"X-HTTP-Session-Id",this.D),bc(this,n),this.o&&s&&dc(n,this.o,s),ql(this.i,i),this.Ra&&vl(n,"TYPE","init"),this.ja?(vl(n,"$req",t),vl(n,"SID","null"),i.$=!0,Ya(i,n,null)):Ya(i,n,t),this.G=2}}else 3==this.G&&(e?wc(this,e):0==this.l.length||Fl(this.i)||wc(this))},Ds.Ga=function(){if(this.u=null,Sc(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ma(Xs(this.bb,this),e)}},Ds.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Da(10),mc(this),Sc(this))},Ds.ab=function(){null!=this.v&&(this.v=null,mc(this),Ic(this),Da(19))},Ds.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Da(2)):(this.h.info("Failed to ping google.com"),Da(1))},(Ds=Dc.prototype).xa=function(){},Ds.wa=function(){},Ds.va=function(){},Ds.ua=function(){},Ds.Oa=function(){},Lc.prototype.g=function(e,t){return new Mc(e,t)},to(Mc,ia),Mc.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),pa(Xs(e.hb,e,t))),Da(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Nc(e,null,e.W),vc(e)},Mc.prototype.close=function(){gc(this.g)},Mc.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,_c(this.g,t)}else this.v?((t={}).__data__=aa(e),_c(this.g,t)):_c(this.g,e)},Mc.prototype.M=function(){this.g.j=null,delete this.j,gc(this.g),delete this.g,Mc.Z.M.call(this)},to(Fc,za),to(Uc,Ba),to(Vc,Dc),Vc.prototype.xa=function(){sa(this.g,"a")},Vc.prototype.wa=function(e){sa(this.g,new Fc(e))},Vc.prototype.va=function(e){sa(this.g,new Uc(e))},Vc.prototype.ua=function(){sa(this.g,"b")},Lc.prototype.createWebChannel=Lc.prototype.g,Mc.prototype.send=Mc.prototype.u,Mc.prototype.open=Mc.prototype.m,Mc.prototype.close=Mc.prototype.close,Fa.NO_ERROR=0,Fa.TIMEOUT=8,Fa.HTTP_ERROR=6,Ua.COMPLETE="complete",qa.EventType=Za,Za.OPEN="a",Za.CLOSE="b",Za.ERROR="c",Za.MESSAGE="d",ia.prototype.listen=ia.prototype.N,ec.prototype.listenOnce=ec.prototype.O,ec.prototype.getLastError=ec.prototype.La,ec.prototype.getLastErrorCode=ec.prototype.Da,ec.prototype.getStatus=ec.prototype.ba,ec.prototype.getResponseJson=ec.prototype.Qa,ec.prototype.getResponseText=ec.prototype.ga,ec.prototype.send=ec.prototype.ea;var qc=zs.createWebChannelTransport=function(){return new Lc},jc=zs.getStatEventTarget=function(){return Pa()},Zc=zs.ErrorCode=Fa,zc=zs.EventType=Ua,Bc=zs.Event=Aa,Hc=zs.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},$c=zs.FetchXmlHttpFactory=Gl,Gc=zs.WebChannel=qa,Wc=zs.XhrIo=ec;class Kc{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kc.UNAUTHENTICATED=new Kc(null),Kc.GOOGLE_CREDENTIALS=new Kc("google-credentials-uid"),Kc.FIRST_PARTY=new Kc("first-party-uid"),Kc.MOCK_USER=new Kc("mock-user");let Qc="9.1.0";const Yc=new qs.Yd("@firebase/firestore");function Jc(){return Yc.logLevel}function Xc(e,...t){if(Yc.logLevel<=qs.in.DEBUG){const n=t.map(nu);Yc.debug(`Firestore (${Qc}): ${e}`,...n)}}function eu(e,...t){if(Yc.logLevel<=qs.in.ERROR){const n=t.map(nu);Yc.error(`Firestore (${Qc}): ${e}`,...n)}}function tu(e,...t){if(Yc.logLevel<=qs.in.WARN){const n=t.map(nu);Yc.warn(`Firestore (${Qc}): ${e}`,...n)}}function nu(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function ru(e="Unexpected state"){const t=`FIRESTORE (${Qc}) INTERNAL ASSERTION FAILED: `+e;throw eu(t),new Error(t)}function iu(e,t){e||ru()}function su(e,t){return e}const ou={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class au extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lu{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class cu{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class uu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kc.UNAUTHENTICATED))}shutdown(){}}class hu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class du{constructor(e){this.t=e,this.currentUser=Kc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var n=this;let r=this.i;const i=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve();let s=new lu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new lu,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const t=s;e.enqueueRetryable((0,Fs.Z)(function*(){yield t.promise,yield i(n.currentUser)}))},a=e=>{Xc("FirebaseCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Xc("FirebaseCredentialsProvider","Auth not yet detected"),s.resolve(),s=new lu)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Xc("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(iu("string"==typeof t.accessToken),new cu(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return iu(null===e||"string"==typeof e),new Kc(e)}}class pu{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Kc.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class fu{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new pu(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Kc.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.g(e),this.p=e=>t.writeSequenceNumber(e))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function mu(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}gu.T=-1;class yu{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=mu(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function _u(e,t){return e<t?-1:e>t?1:0}function vu(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function wu(e){return e+"\0"}class bu{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new au(ou.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new au(ou.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new au(ou.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new au(ou.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bu.fromMillis(Date.now())}static fromDate(e){return bu.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new bu(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_u(this.nanoseconds,e.nanoseconds):_u(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Cu{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Cu(e)}static min(){return new Cu(new bu(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Tu(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Iu(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Eu(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Su{constructor(e,t,n){void 0===t?t=0:t>e.length&&ru(),void 0===n?n=e.length-t:n>e.length-t&&ru(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Su.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Su?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ku extends Su{construct(e,t,n){return new ku(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new au(ou.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new ku(t)}static emptyPath(){return new ku([])}}const Au=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xu extends Su{construct(e,t,n){return new xu(e,t,n)}static isValidIdentifier(e){return Au.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xu.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xu(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new au(ou.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new au(ou.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new au(ou.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new au(ou.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xu(t)}static emptyPath(){return new xu([])}}class Pu{constructor(e){this.fields=e,e.sort(xu.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vu(this.fields,e.fields,(e,t)=>e.isEqual(t))}}let Ou=(()=>{class e{constructor(e){this.binaryString=e}static fromBase64String(t){const n=atob(t);return new e(n)}static fromUint8Array(t){const n=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _u(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}return e.EMPTY_BYTE_STRING=new e(""),e})();const Nu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ru(e){if(iu(!!e),"string"==typeof e){let t=0;const n=Nu.exec(e);if(iu(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Du(e.seconds),nanos:Du(e.nanos)}}function Du(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Lu(e){return"string"==typeof e?Ou.fromBase64String(e):Ou.fromUint8Array(e)}function Mu(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Fu(e){const t=e.mapValue.fields.__previous_value__;return Mu(t)?Fu(t):t}function Uu(e){const t=Ru(e.mapValue.fields.__local_write_time__.timestampValue);return new bu(t.seconds,t.nanos)}function Vu(e){return null==e}function qu(e){return 0===e&&1/e==-1/0}function ju(e){return"number"==typeof e&&Number.isInteger(e)&&!qu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class Zu{constructor(e){this.path=e}static fromPath(e){return new Zu(ku.fromString(e))}static fromName(e){return new Zu(ku.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===ku.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ku.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zu(new ku(e.slice()))}}function zu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Mu(e)?4:10:ru()}function Bu(e,t){const n=zu(e);if(n!==zu(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Uu(e).isEqual(Uu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ru(e.timestampValue),r=Ru(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Lu(e.bytesValue).isEqual(Lu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Du(e.geoPointValue.latitude)===Du(t.geoPointValue.latitude)&&Du(e.geoPointValue.longitude)===Du(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Du(e.integerValue)===Du(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Du(e.doubleValue),r=Du(t.doubleValue);return n===r?qu(n)===qu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return vu(e.arrayValue.values||[],t.arrayValue.values||[],Bu);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Tu(n)!==Tu(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Bu(n[i],r[i])))return!1;return!0}(e,t);default:return ru()}}function Hu(e,t){return void 0!==(e.values||[]).find(e=>Bu(e,t))}function $u(e,t){const n=zu(e),r=zu(t);if(n!==r)return _u(n,r);switch(n){case 0:return 0;case 1:return _u(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Du(e.integerValue||e.doubleValue),r=Du(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Gu(e.timestampValue,t.timestampValue);case 4:return Gu(Uu(e),Uu(t));case 5:return _u(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Lu(e),r=Lu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=_u(n[i],r[i]);if(0!==e)return e}return _u(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=_u(Du(e.latitude),Du(t.latitude));return 0!==n?n:_u(Du(e.longitude),Du(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=$u(n[i],r[i]);if(e)return e}return _u(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=_u(r[o],s[o]);if(0!==e)return e;const t=$u(n[r[o]],i[s[o]]);if(0!==t)return t}return _u(r.length,s.length)}(e.mapValue,t.mapValue);default:throw ru()}}function Gu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return _u(e,t);const n=Ru(e),r=Ru(t),i=_u(n.seconds,r.seconds);return 0!==i?i:_u(n.nanos,r.nanos)}function Wu(e){return Ku(e)}function Ku(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ru(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Lu(e.bytesValue).toBase64():"referenceValue"in e?Zu.fromName(e.referenceValue).toString():"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ku(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Ku(e.fields[i])}`;return n+"}"}(e.mapValue):ru();var t}function Qu(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Yu(e){return!!e&&"integerValue"in e}function Ju(e){return!!e&&"arrayValue"in e}function Xu(e){return!!e&&"nullValue"in e}function eh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function th(e){return!!e&&"mapValue"in e}function nh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Iu(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=nh(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=nh(e.arrayValue.values[n]);return t}return Object.assign({},e)}class rh{constructor(e){this.value=e}static empty(){return new rh({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!th(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nh(t)}setAll(e){let t=xu.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=nh(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());th(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];th(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Iu(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new rh(nh(this.value))}}function ih(e){const t=[];return Iu(e.fields,(e,n)=>{const r=new xu([e]);if(th(n)){const e=ih(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Pu(t)}class sh{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new sh(e,0,Cu.min(),rh.empty(),0)}static newFoundDocument(e,t,n){return new sh(e,1,t,n,0)}static newNoDocument(e,t){return new sh(e,2,t,rh.empty(),0)}static newUnknownDocument(e,t){return new sh(e,3,t,rh.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rh.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rh.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof sh&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new sh(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oh{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.A=null}}function ah(e,t=null,n=[],r=[],i=null,s=null,o=null){return new oh(e,t,n,r,i,s,o)}function lh(e){const t=su(e);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>function(e){return e.field.canonicalString()+e.op.toString()+Wu(e.value)}(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Vu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=bh(t.startAt)),t.endAt&&(e+="|ub:",e+=bh(t.endAt)),t.A=e}return t.A}function ch(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!Th(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if((n=e.filters[i]).op!==(r=t.filters[i]).op||!n.field.isEqual(r.field)||!Bu(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Eh(e.startAt,t.startAt)&&Eh(e.endAt,t.endAt)}function uh(e){return Zu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class hh extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,n):new dh(e,t,n):"array-contains"===t?new mh(e,n):"in"===t?new yh(e,n):"not-in"===t?new _h(e,n):"array-contains-any"===t?new vh(e,n):new hh(e,t,n)}static R(e,t,n){return"in"===t?new ph(e,n):new fh(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P($u(t,this.value)):null!==t&&zu(this.value)===zu(t)&&this.P($u(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ru()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class dh extends hh{constructor(e,t,n){super(e,t,n),this.key=Zu.fromName(n.referenceValue)}matches(e){const t=Zu.comparator(e.key,this.key);return this.P(t)}}class ph extends hh{constructor(e,t){super(e,"in",t),this.keys=gh(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fh extends hh{constructor(e,t){super(e,"not-in",t),this.keys=gh(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Zu.fromName(e.referenceValue))}class mh extends hh{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ju(t)&&Hu(t.arrayValue,this.value)}}class yh extends hh{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Hu(this.value.arrayValue,t)}}class _h extends hh{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Hu(this.value.arrayValue,t)}}class vh extends hh{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ju(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Hu(this.value.arrayValue,e))}}class wh{constructor(e,t){this.position=e,this.before=t}}function bh(e){return`${e.before?"b":"a"}:${e.position.map(e=>Wu(e)).join(",")}`}class Ch{constructor(e,t="asc"){this.field=e,this.dir=t}}function Th(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ih(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Zu.comparator(Zu.fromName(o.referenceValue),n.key):$u(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Eh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Bu(e.position[n],t.position[n]))return!1;return!0}class Sh{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.V=null,this.S=null}}function kh(e,t,n,r,i,s,o,a){return new Sh(e,t,n,r,i,s,o,a)}function Ah(e){return new Sh(e)}function xh(e){return!Vu(e.limit)&&"F"===e.limitType}function Ph(e){return!Vu(e.limit)&&"L"===e.limitType}function Oh(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Nh(e){for(const t of e.filters)if(t.v())return t.field;return null}function Rh(e){return null!==e.collectionGroup}function Dh(e){const t=su(e);if(null===t.V){t.V=[];const e=Nh(t),n=Oh(t);if(null!==e&&null===n)e.isKeyField()||t.V.push(new Ch(e)),t.V.push(new Ch(xu.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.V.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new Ch(xu.keyField(),e))}}}return t.V}function Lh(e){const t=su(e);if(!t.S)if("F"===t.limitType)t.S=ah(t.path,t.collectionGroup,Dh(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Dh(t))e.push(new Ch(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new wh(t.endAt.position,!t.endAt.before):null,r=t.startAt?new wh(t.startAt.position,!t.startAt.before):null;t.S=ah(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.S}function Mh(e,t,n){return new Sh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Fh(e,t){return ch(Lh(e),Lh(t))&&e.limitType===t.limitType}function Uh(e){return`${lh(Lh(e))}|lt:${e.limitType}`}function Vh(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Wu(t.value)}`;var t}).join(", ")}]`),Vu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: "+bh(e.startAt)),e.endAt&&(t+=", endAt: "+bh(e.endAt)),`Target(${t})`}(Lh(e))}; limitType=${e.limitType})`}function qh(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Zu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Ih(e.startAt,Dh(e),t)||e.endAt&&Ih(e.endAt,Dh(e),t))}(e,t)}function jh(e){return(t,n)=>{let r=!1;for(const i of Dh(e)){const e=Zh(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Zh(e,t,n){const r=e.field.isKeyField()?Zu.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?$u(r,i):ru()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ru()}}function zh(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qu(t)?"-0":t}}function Bh(e){return{integerValue:""+e}}function Hh(e,t){return ju(t)?Bh(t):zh(e,t)}class $h{constructor(){this._=void 0}}function Gh(e,t,n){return e instanceof Qh?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Yh?Jh(e,t):e instanceof Xh?ed(e,t):function(e,t){const n=Kh(e,t),r=nd(n)+nd(e.C);return Yu(n)&&Yu(e.C)?Bh(r):zh(e.N,r)}(e,t)}function Wh(e,t,n){return e instanceof Yh?Jh(e,t):e instanceof Xh?ed(e,t):n}function Kh(e,t){return e instanceof td?Yu(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Qh extends $h{}class Yh extends $h{constructor(e){super(),this.elements=e}}function Jh(e,t){const n=rd(t);for(const r of e.elements)n.some(e=>Bu(e,r))||n.push(r);return{arrayValue:{values:n}}}class Xh extends $h{constructor(e){super(),this.elements=e}}function ed(e,t){let n=rd(t);for(const r of e.elements)n=n.filter(e=>!Bu(e,r));return{arrayValue:{values:n}}}class td extends $h{constructor(e,t){super(),this.N=e,this.C=t}}function nd(e){return Du(e.integerValue||e.doubleValue)}function rd(e){return Ju(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class id{constructor(e,t){this.field=e,this.transform=t}}class sd{constructor(e,t){this.version=e,this.transformResults=t}}class od{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new od}static exists(e){return new od(void 0,e)}static updateTime(e){return new od(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ad(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ld{}function cd(e,t,n){e instanceof fd?function(e,t,n){const r=e.value.clone(),i=yd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof gd?function(e,t,n){if(!ad(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=yd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(md(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ud(e,t,n){e instanceof fd?function(e,t,n){if(!ad(e.precondition,t))return;const r=e.value.clone(),i=_d(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(pd(t),r).setHasLocalMutations()}(e,t,n):e instanceof gd?function(e,t,n){if(!ad(e.precondition,t))return;const r=_d(e.fieldTransforms,n,t),i=t.data;i.setAll(md(e)),i.setAll(r),t.convertToFoundDocument(pd(t),i).setHasLocalMutations()}(e,t,n):function(e,t){ad(e.precondition,t)&&t.convertToNoDocument(Cu.min())}(e,t)}function hd(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Kh(r.transform,e||null);null!=i&&(null==n&&(n=rh.empty()),n.set(r.field,i))}return n||null}function dd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&vu(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Yh&&t instanceof Yh||e instanceof Xh&&t instanceof Xh?vu(e.elements,t.elements,Bu):e instanceof td&&t instanceof td?Bu(e.C,t.C):e instanceof Qh&&t instanceof Qh}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function pd(e){return e.isFoundDocument()?e.version:Cu.min()}class fd extends ld{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class gd extends ld{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function md(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function yd(e,t,n){const r=new Map;iu(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Wh(o,a,n[i]))}return r}function _d(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Gh(e,s,t))}return r}class vd extends ld{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class wd extends ld{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class bd{constructor(e){this.count=e}}var Cd,Td;function Id(e){switch(e){case ou.OK:return ru();case ou.CANCELLED:case ou.UNKNOWN:case ou.DEADLINE_EXCEEDED:case ou.RESOURCE_EXHAUSTED:case ou.INTERNAL:case ou.UNAVAILABLE:case ou.UNAUTHENTICATED:return!1;case ou.INVALID_ARGUMENT:case ou.NOT_FOUND:case ou.ALREADY_EXISTS:case ou.PERMISSION_DENIED:case ou.FAILED_PRECONDITION:case ou.ABORTED:case ou.OUT_OF_RANGE:case ou.UNIMPLEMENTED:case ou.DATA_LOSS:return!0;default:return ru()}}function Ed(e){if(void 0===e)return eu("GRPC error has no .code"),ou.UNKNOWN;switch(e){case Cd.OK:return ou.OK;case Cd.CANCELLED:return ou.CANCELLED;case Cd.UNKNOWN:return ou.UNKNOWN;case Cd.DEADLINE_EXCEEDED:return ou.DEADLINE_EXCEEDED;case Cd.RESOURCE_EXHAUSTED:return ou.RESOURCE_EXHAUSTED;case Cd.INTERNAL:return ou.INTERNAL;case Cd.UNAVAILABLE:return ou.UNAVAILABLE;case Cd.UNAUTHENTICATED:return ou.UNAUTHENTICATED;case Cd.INVALID_ARGUMENT:return ou.INVALID_ARGUMENT;case Cd.NOT_FOUND:return ou.NOT_FOUND;case Cd.ALREADY_EXISTS:return ou.ALREADY_EXISTS;case Cd.PERMISSION_DENIED:return ou.PERMISSION_DENIED;case Cd.FAILED_PRECONDITION:return ou.FAILED_PRECONDITION;case Cd.ABORTED:return ou.ABORTED;case Cd.OUT_OF_RANGE:return ou.OUT_OF_RANGE;case Cd.UNIMPLEMENTED:return ou.UNIMPLEMENTED;case Cd.DATA_LOSS:return ou.DATA_LOSS;default:return ru()}}(Td=Cd||(Cd={}))[Td.OK=0]="OK",Td[Td.CANCELLED=1]="CANCELLED",Td[Td.UNKNOWN=2]="UNKNOWN",Td[Td.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Td[Td.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Td[Td.NOT_FOUND=5]="NOT_FOUND",Td[Td.ALREADY_EXISTS=6]="ALREADY_EXISTS",Td[Td.PERMISSION_DENIED=7]="PERMISSION_DENIED",Td[Td.UNAUTHENTICATED=16]="UNAUTHENTICATED",Td[Td.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Td[Td.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Td[Td.ABORTED=10]="ABORTED",Td[Td.OUT_OF_RANGE=11]="OUT_OF_RANGE",Td[Td.UNIMPLEMENTED=12]="UNIMPLEMENTED",Td[Td.INTERNAL=13]="INTERNAL",Td[Td.UNAVAILABLE=14]="UNAVAILABLE",Td[Td.DATA_LOSS=15]="DATA_LOSS";class Sd{constructor(e,t){this.comparator=e,this.root=t||Ad.EMPTY}insert(e,t){return new Sd(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ad.BLACK,null,null))}remove(e){return new Sd(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ad.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kd(this.root,e,this.comparator,!1)}getReverseIterator(){return new kd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kd(this.root,e,this.comparator,!0)}}class kd{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ad{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ad.RED,this.left=null!=r?r:Ad.EMPTY,this.right=null!=i?i:Ad.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ad(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ad.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ad.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ad.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ad.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ru();if(this.right.isRed())throw ru();const e=this.left.check();if(e!==this.right.check())throw ru();return e+(this.isRed()?0:1)}}Ad.EMPTY=null,Ad.RED=!0,Ad.BLACK=!1,Ad.EMPTY=new class{constructor(){this.size=0}get key(){throw ru()}get value(){throw ru()}get color(){throw ru()}get left(){throw ru()}get right(){throw ru()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ad(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xd{constructor(e){this.comparator=e,this.data=new Sd(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Pd(this.data.getIterator())}getIteratorFrom(e){return new Pd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof xd))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xd(this.comparator);return t.data=e,t}}class Pd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Od=new Sd(Zu.comparator);function Nd(){return Od}const Rd=new Sd(Zu.comparator);function Dd(){return Rd}const Ld=new Sd(Zu.comparator);function Md(){return Ld}const Fd=new xd(Zu.comparator);function Ud(...e){let t=Fd;for(const n of e)t=t.add(n);return t}const Vd=new xd(_u);function qd(){return Vd}class jd{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,Zd.createSynthesizedTargetChangeForCurrentChange(e,t)),new jd(Cu.min(),n,qd(),Nd(),Ud())}}class Zd{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Zd(Ou.EMPTY_BYTE_STRING,t,Ud(),Ud(),Ud())}}class zd{constructor(e,t,n,r){this.k=e,this.removedTargetIds=t,this.key=n,this.$=r}}class Bd{constructor(e,t){this.targetId=e,this.O=t}}class Hd{constructor(e,t,n=Ou.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class $d{constructor(){this.F=0,this.M=Kd(),this.L=Ou.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=Ud(),t=Ud(),n=Ud();return this.M.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ru()}}),new Zd(this.L,this.B,e,t,n)}G(){this.U=!1,this.M=Kd()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Gd{constructor(e){this.tt=e,this.et=new Map,this.nt=Nd(),this.st=Wd(),this.it=new xd(_u)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,t=>{const n=this.ut(t);switch(e.state){case 0:this.ht(t)&&n.j(e.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(e.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(t);break;case 3:this.ht(t)&&(n.Z(),n.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),n.j(e.resumeToken));break;default:ru()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((e,n)=>{this.ht(n)&&t(n)})}ft(e){const t=e.targetId,n=e.O.count,r=this.dt(t);if(r){const e=r.target;if(uh(e))if(0===n){const n=new Zu(e.path);this.at(t,n,sh.newNoDocument(n,Cu.min()))}else iu(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((n,r)=>{const i=this.dt(r);if(i){if(n.current&&uh(i.target)){const t=new Zu(i.target.path);null!==this.nt.get(t)||this.gt(r,t)||this.at(r,t,sh.newNoDocument(t,e))}n.K&&(t.set(r,n.W()),n.G())}});let n=Ud();this.st.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.dt(e);return!t||2===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))});const r=new jd(e,t,this.it,this.nt,n);return this.nt=Nd(),this.st=Wd(),this.it=new xd(_u),r}ot(e,t){if(!this.ht(e))return;const n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,n){if(!this.ht(e))return;const r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new $d,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new xd(_u),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Xc("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Et(e)}lt(e){this.et.set(e,new $d),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function Wd(){return new Sd(Zu.comparator)}function Kd(){return new Sd(Zu.comparator)}const Qd={asc:"ASCENDING",desc:"DESCENDING"},Yd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Jd{constructor(e,t){this.databaseId=e,this.D=t}}function Xd(e,t){return e.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ep(e,t){return e.D?t.toBase64():t.toUint8Array()}function tp(e,t){return Xd(e,t.toTimestamp())}function np(e){return iu(!!e),Cu.fromTimestamp(function(e){const t=Ru(e);return new bu(t.seconds,t.nanos)}(e))}function rp(e,t){return function(e){return new ku(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ip(e){const t=ku.fromString(e);return iu(Ap(t)),t}function sp(e,t){return rp(e.databaseId,t.path)}function op(e,t){const n=ip(t);if(n.get(1)!==e.databaseId.projectId)throw new au(ou.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new au(ou.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Zu(up(n))}function ap(e,t){return rp(e.databaseId,t)}function lp(e){const t=ip(e);return 4===t.length?ku.emptyPath():up(t)}function cp(e){return new ku(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function up(e){return iu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function hp(e,t,n){return{name:sp(e,t),fields:n.value.mapValue.fields}}function dp(e,t,n){const r=op(e,t.name),i=np(t.updateTime),s=new rh({mapValue:{fields:t.fields}}),o=sh.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function pp(e,t){let n;if(t instanceof fd)n={update:hp(e,t.key,t.value)};else if(t instanceof vd)n={delete:sp(e,t.key)};else if(t instanceof gd)n={update:hp(e,t.key,t.data),updateMask:kp(t.fieldMask)};else{if(!(t instanceof wd))return ru();n={verify:sp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Qh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Yh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Xh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof td)return{fieldPath:t.field.canonicalString(),increment:n.C};throw ru()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:tp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ru()}(e,t.precondition)),n}function fp(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?od.updateTime(np(e.updateTime)):void 0!==e.exists?od.exists(e.exists):od.none()}(t.currentDocument):od.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;"setToServerValue"in t?(iu("REQUEST_TIME"===t.setToServerValue),n=new Qh):"appendMissingElements"in t?n=new Yh(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new Xh(t.removeAllFromArray.values||[]):"increment"in t?n=new td(e,t.increment):ru();const r=xu.fromServerFormat(t.fieldPath);return new id(r,n)}(e,t)):[];if(t.update){const i=op(e,t.update.name),s=new rh({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){return new Pu((e.fieldPaths||[]).map(e=>xu.fromServerFormat(e)))}(t.updateMask);return new gd(i,s,e,n,r)}return new fd(i,s,n,r)}if(t.delete){const r=op(e,t.delete);return new vd(r,n)}if(t.verify){const r=op(e,t.verify);return new wd(r,n)}return ru()}function gp(e,t){return{documents:[ap(e,t.path)]}}function mp(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ap(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ap(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map(e=>function(e){if("=="===e.op){if(eh(e.value))return{unaryFilter:{field:Tp(e.field),op:"IS_NAN"}};if(Xu(e.value))return{unaryFilter:{field:Tp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(eh(e.value))return{unaryFilter:{field:Tp(e.field),op:"IS_NOT_NAN"}};if(Xu(e.value))return{unaryFilter:{field:Tp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tp(e.field),op:Cp(e.op),value:e.value}}}(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Tp(e.field),direction:bp(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.D||Vu(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=vp(t.startAt)),t.endAt&&(n.structuredQuery.endAt=vp(t.endAt)),n}function yp(e){let t=lp(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){iu(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=_p(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new Ch(Ip(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Vu(t)?null:t}(n.limit));let l=null;n.startAt&&(l=wp(n.startAt));let c=null;return n.endAt&&(c=wp(n.endAt)),kh(t,i,o,s,a,"F",l,c)}function _p(e){return e?void 0!==e.unaryFilter?[Sp(e)]:void 0!==e.fieldFilter?[Ep(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>_p(e)).reduce((e,t)=>e.concat(t)):ru():[]}function vp(e){return{before:e.before,values:e.position}}function wp(e){return new wh(e.values||[],!!e.before)}function bp(e){return Qd[e]}function Cp(e){return Yd[e]}function Tp(e){return{fieldPath:e.canonicalString()}}function Ip(e){return xu.fromServerFormat(e.fieldPath)}function Ep(e){return hh.create(Ip(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ru()}}(e.fieldFilter.op),e.fieldFilter.value)}function Sp(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ip(e.unaryFilter.field);return hh.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ip(e.unaryFilter.field);return hh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ip(e.unaryFilter.field);return hh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ip(e.unaryFilter.field);return hh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ru()}}function kp(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ap(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function xp(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Op(t)),t=Pp(e.get(n),t);return Op(t)}function Pp(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Op(e){return e+"\x01\x01"}function Np(e){const t=e.length;if(iu(t>=2),2===t)return iu("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ku.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&ru(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:ru()}s=t+2}return new ku(r)}class Rp{constructor(e,t){this.seconds=e,this.nanoseconds=t}}let Dp=(()=>{class e{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}return e.store="owner",e.key="owner",e})(),Lp=(()=>{class e{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}return e.store="mutationQueues",e.keyPath="userId",e})();class Mp{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}Mp.store="mutations",Mp.keyPath="batchId",Mp.userMutationsIndex="userMutationsIndex",Mp.userMutationsKeyPath=["userId","batchId"];let Fp=(()=>{class e{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,xp(t)]}static key(e,t,n){return[e,xp(t),n]}}return e.store="documentMutations",e.PLACEHOLDER=new e,e})();class Up{constructor(e,t){this.path=e,this.readTime=t}}class Vp{constructor(e,t){this.path=e,this.version=t}}class qp{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}qp.store="remoteDocuments",qp.readTimeIndex="readTimeIndex",qp.readTimeIndexPath="readTime",qp.collectionReadTimeIndex="collectionReadTimeIndex",qp.collectionReadTimeIndexPath=["parentPath","readTime"];let jp=(()=>{class e{constructor(e){this.byteSize=e}}return e.store="remoteDocumentGlobal",e.key="remoteDocumentGlobalKey",e})();class Zp{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}Zp.store="targets",Zp.keyPath="targetId",Zp.queryTargetsIndexName="queryTargetsIndex",Zp.queryTargetsKeyPath=["canonicalId","targetId"];class zp{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}zp.store="targetDocuments",zp.keyPath=["targetId","path"],zp.documentTargetsIndex="documentTargetsIndex",zp.documentTargetsKeyPath=["path","targetId"];let Bp=(()=>{class e{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}return e.key="targetGlobalKey",e.store="targetGlobal",e})(),Hp=(()=>{class e{constructor(e,t){this.collectionId=e,this.parent=t}}return e.store="collectionParents",e.keyPath=["collectionId","parent"],e})(),$p=(()=>{class e{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}return e.store="clientMetadata",e.keyPath="clientId",e})(),Gp=(()=>{class e{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}return e.store="bundles",e.keyPath="bundleId",e})(),Wp=(()=>{class e{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}return e.store="namedQueries",e.keyPath="name",e})();const Kp=[Lp.store,Mp.store,Fp.store,qp.store,Zp.store,Dp.store,Bp.store,zp.store,$p.store,jp.store,Hp.store,Gp.store,Wp.store],Qp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Jp{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ru(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Jp((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Jp?t:Jp.resolve(t)}catch(e){return Jp.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Jp.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Jp.reject(t)}static resolve(e){return new Jp((t,n)=>{t(e)})}static reject(e){return new Jp((t,n)=>{n(e)})}static waitFor(e){return new Jp((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Jp.resolve(!1);for(const n of e)t=t.next(e=>e?Jp.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}}class Xp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Tt=new lu,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{t.error?this.Tt.reject(new nf(e,t.error)):this.Tt.resolve()},this.transaction.onerror=t=>{const n=lf(t.target.error);this.Tt.reject(new nf(e,n))}}static open(e,t,n,r){try{return new Xp(t,e.transaction(r,n))}catch(e){throw new nf(t,e)}}get It(){return this.Tt.promise}abort(e){e&&this.Tt.reject(e),this.aborted||(Xc("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new sf(t)}}class ef{constructor(e,t,n){this.name=e,this.version=t,this.At=n,12.2===ef.Rt((0,js.z$)())&&eu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Xc("SimpleDb","Removing database:",e),of(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,js.hl)())return!1;if(ef.Pt())return!0;const e=(0,js.z$)(),t=ef.Rt(e),n=0<t&&t<10,r=ef.vt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}Dt(e){var t=this;return(0,Fs.Z)(function*(){return t.db||(Xc("SimpleDb","Opening database:",t.name),t.db=yield new Promise((n,r)=>{const i=indexedDB.open(t.name,t.version);i.onsuccess=e=>{n(e.target.result)},i.onblocked=()=>{r(new nf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const n=t.target.error;r("VersionError"===n.name?new au(ou.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===n.name?new au(ou.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n):new nf(e,n))},i.onupgradeneeded=e=>{Xc("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',e.oldVersion),t.At.Ct(e.target.result,i.transaction,e.oldVersion,t.version).next(()=>{Xc("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=e=>t.Nt(e)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,n,r){var i=this;return(0,Fs.Z)(function*(){const s="readonly"===t;let o=0;for(;;){++o;try{i.db=yield i.Dt(e);const t=Xp.open(i.db,e,s?"readonly":"readwrite",n),o=r(t).catch(e=>(t.abort(e),Jp.reject(e))).toPromise();return o.catch(()=>{}),yield t.It,o}catch(e){const n="FirebaseError"!==e.name&&o<3;if(Xc("SimpleDb","Transaction failed with error:",e.message,"Retrying:",n),i.close(),!n)return Promise.reject(e)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class tf{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return of(this.kt.delete())}}class nf extends au{constructor(e,t){super(ou.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function rf(e){return"IndexedDbTransactionError"===e.name}class sf{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Xc("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Xc("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),of(n)}add(e){return Xc("SimpleDb","ADD",this.store.name,e,e),of(this.store.add(e))}get(e){return of(this.store.get(e)).next(t=>(void 0===t&&(t=null),Xc("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Xc("SimpleDb","DELETE",this.store.name,e),of(this.store.delete(e))}count(){return Xc("SimpleDb","COUNT",this.store.name),of(this.store.count())}Lt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Bt(n,(e,t)=>{r.push(t)}).next(()=>r)}Ut(e,t){Xc("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.qt=!1;const r=this.cursor(n);return this.Bt(r,(e,t,n)=>n.delete())}Kt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Bt(r,t)}jt(e){const t=this.cursor({});return new Jp((n,r)=>{t.onerror=e=>{const t=lf(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}Bt(e,t){const n=[];return new Jp((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new tf(i),o=t(i.primaryKey,i.value,s);if(o instanceof Jp){const e=o.catch(e=>(s.done(),Jp.reject(e)));n.push(e)}s.isDone?r():null===s.Ft?i.continue():i.continue(s.Ft)}}).next(()=>Jp.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.qt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function of(e){return new Jp((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{const t=lf(e.target.error);n(t)}})}let af=!1;function lf(e){const t=ef.Rt((0,js.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new au("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return af||(af=!0,setTimeout(()=>{throw e},0)),e}}return e}class cf extends Yp{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function uf(e,t){const n=su(e);return ef.St(n.Qt,t)}class hf{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&cd(t,e,n[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&ud(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&ud(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(Cu.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ud())}isEqual(e){return this.batchId===e.batchId&&vu(this.mutations,e.mutations,(e,t)=>dd(e,t))&&vu(this.baseMutations,e.baseMutations,(e,t)=>dd(e,t))}}class df{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){iu(e.mutations.length===n.length);let r=Md();const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new df(e,t,n,r)}}class pf{constructor(e,t,n,r,i=Cu.min(),s=Cu.min(),o=Ou.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new pf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new pf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new pf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ff{constructor(e){this.Wt=e}}function gf(e,t){if(t.document)return dp(e.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=Zu.fromSegments(t.noDocument.path),n=wf(t.noDocument.readTime),r=sh.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=Zu.fromSegments(t.unknownDocument.path),n=wf(t.unknownDocument.version);return sh.newUnknownDocument(e,n)}return ru()}function mf(e,t,n){const r=yf(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:sp(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Xd(e,t.version.toTimestamp())}}(e.Wt,t);return new qp(null,null,n,t.hasCommittedMutations,r,i)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=vf(t.version),s=t.hasCommittedMutations;return new qp(null,new Up(e,n),null,s,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=vf(t.version);return new qp(new Vp(e,n),null,null,!0,r,i)}return ru()}function yf(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function _f(e){const t=new bu(e[0],e[1]);return Cu.fromTimestamp(t)}function vf(e){const t=e.toTimestamp();return new Rp(t.seconds,t.nanoseconds)}function wf(e){const t=new bu(e.seconds,e.nanoseconds);return Cu.fromTimestamp(t)}function bf(e,t){const n=(t.baseMutations||[]).map(t=>fp(e.Wt,t));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(e.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const r=t.mutations.map(t=>fp(e.Wt,t)),i=bu.fromMillis(t.localWriteTimeMs);return new hf(t.batchId,i,n,r)}function Cf(e){const t=wf(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?wf(e.lastLimboFreeSnapshotVersion):Cu.min();let r;var i;return void 0!==e.query.documents?(iu(1===(i=e.query).documents.length),r=Lh(Ah(lp(i.documents[0])))):r=function(e){return Lh(yp(e))}(e.query),new pf(r,e.targetId,0,e.lastListenSequenceNumber,t,n,Ou.fromBase64String(e.resumeToken))}function Tf(e,t){const n=vf(t.snapshotVersion),r=vf(t.lastLimboFreeSnapshotVersion);let i;i=uh(t.target)?gp(e.Wt,t.target):mp(e.Wt,t.target);const s=t.resumeToken.toBase64();return new Zp(t.targetId,lh(t.target),n,s,t.sequenceNumber,r,i)}function If(e){const t=yp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Mh(t,t.limit,"L"):t}class Ef{getBundleMetadata(e,t){return Sf(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:wf(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return Sf(e).put({bundleId:(n=t).id,createTime:vf(np(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return kf(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:If(t.bundledQuery),readTime:wf(t.readTime)};var t})}saveNamedQuery(e,t){return kf(e).put(function(e){return{name:e.name,readTime:vf(np(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Sf(e){return uf(e,Gp.store)}function kf(e){return uf(e,Wp.store)}class Af{constructor(){this.Gt=new xf}addToCollectionParentIndex(e,t){return this.Gt.add(t),Jp.resolve()}getCollectionParents(e,t){return Jp.resolve(this.Gt.getEntries(t))}}class xf{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new xd(ku.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new xd(ku.comparator)).toArray()}}class Pf{constructor(){this.zt=new xf}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const i={collectionId:n,parent:xp(r)};return Of(e).put(i)}return Jp.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[wu(t),""],!1,!0);return Of(e).Lt(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Np(r.parent))}return n})}}function Of(e){return uf(e,Hp.store)}const Nf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Rf{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Rf(e,Rf.DEFAULT_COLLECTION_PERCENTILE,Rf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Df(e,t,n){const r=e.store(Mp.store),i=e.store(Fp.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Kt({range:o},(e,t,n)=>(a++,n.delete()));s.push(l.next(()=>{iu(1===a)}));const c=[];for(const u of n.mutations){const e=Fp.key(t,u.key.path,n.batchId);s.push(i.delete(e)),c.push(u.key)}return Jp.waitFor(s).next(()=>c)}function Lf(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ru();t=e.noDocument}return JSON.stringify(t).length}Rf.DEFAULT_COLLECTION_PERCENTILE=10,Rf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rf.DEFAULT=new Rf(41943040,Rf.DEFAULT_COLLECTION_PERCENTILE,Rf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rf.DISABLED=new Rf(-1,0,0);class Mf{constructor(e,t,n,r){this.userId=e,this.N=t,this.Ht=n,this.referenceDelegate=r,this.Jt={}}static Yt(e,t,n,r){iu(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Mf(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Uf(e).Kt({index:Mp.userMutationsIndex,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=Vf(e),s=Uf(e);return s.add({}).next(o=>{iu("number"==typeof o);const a=new hf(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map(t=>pp(e.Wt,t)),i=n.mutations.map(t=>pp(e.Wt,t));return new Mp(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.N,this.userId,a),c=[];let u=new xd((e,t)=>_u(e.canonicalString(),t.canonicalString()));for(const e of r){const t=Fp.key(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(i.put(t,Fp.PLACEHOLDER))}return u.forEach(t=>{c.push(this.Ht.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Jt[o]=a.keys()}),Jp.waitFor(c).next(()=>a)})}lookupMutationBatch(e,t){return Uf(e).get(t).next(e=>e?(iu(e.userId===this.userId),bf(this.N,e)):null)}Xt(e,t){return this.Jt[t]?Jp.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Jt[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Uf(e).Kt({index:Mp.userMutationsIndex,range:r},(e,t,r)=>{t.userId===this.userId&&(iu(t.batchId>=n),i=bf(this.N,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Uf(e).Kt({index:Mp.userMutationsIndex,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Uf(e).Lt(Mp.userMutationsIndex,t).next(e=>e.map(e=>bf(this.N,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Fp.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Vf(e).Kt({range:r},(n,r,s)=>{const[o,a,l]=n,c=Np(a);if(o===this.userId&&t.path.isEqual(c))return Uf(e).get(l).next(e=>{if(!e)throw ru();iu(e.userId===this.userId),i.push(bf(this.N,e))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new xd(_u);const r=[];return t.forEach(t=>{const i=Fp.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Vf(e).Kt({range:s},(e,r,i)=>{const[s,o,a]=e,l=Np(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()});r.push(o)}),Jp.waitFor(r).next(()=>this.Zt(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Fp.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new xd(_u);return Vf(e).Kt({range:s},(e,t,i)=>{const[s,a,l]=e,c=Np(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(l)):i.done()}).next(()=>this.Zt(e,o))}Zt(e,t){const n=[],r=[];return t.forEach(t=>{r.push(Uf(e).get(t).next(e=>{if(null===e)throw ru();iu(e.userId===this.userId),n.push(bf(this.N,e))}))}),Jp.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return Df(e.Qt,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),Jp.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Jp.resolve();const n=IDBKeyRange.lowerBound(Fp.prefixForUser(this.userId)),r=[];return Vf(e).Kt({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=Np(e[1]);r.push(t)}else n.done()}).next(()=>{iu(0===r.length)})})}containsKey(e,t){return Ff(e,this.userId,t)}ee(e){return qf(e).get(this.userId).next(e=>e||new Lp(this.userId,-1,""))}}function Ff(e,t,n){const r=Fp.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Vf(e).Kt({range:s,qt:!0},(e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()}).next(()=>o)}function Uf(e){return uf(e,Mp.store)}function Vf(e){return uf(e,Fp.store)}function qf(e){return uf(e,Lp.store)}class jf{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new jf(0)}static ie(){return new jf(-1)}}class Zf{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const n=new jf(t.highestTargetId);return t.highestTargetId=n.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(e=>Cu.fromTimestamp(new bu(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.re(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.oe(e,r)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.re(e).next(n=>(n.targetCount+=1,this.ce(t,n),this.oe(e,n))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>zf(e).delete(t.targetId)).next(()=>this.re(e)).next(t=>(iu(t.targetCount>0),t.targetCount-=1,this.oe(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return zf(e).Kt((s,o)=>{const a=Cf(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>Jp.waitFor(i)).next(()=>r)}forEachTarget(e,t){return zf(e).Kt((e,n)=>{const r=Cf(n);t(r)})}re(e){return Bf(e).get(Bp.key).next(e=>(iu(null!==e),e))}oe(e,t){return Bf(e).put(Bp.key,t)}ae(e,t){return zf(e).put(Tf(this.N,t))}ce(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.re(e).next(e=>e.targetCount)}getTargetData(e,t){const n=lh(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return zf(e).Kt({range:r,index:Zp.queryTargetsIndexName},(e,n,r)=>{const s=Cf(n);ch(t,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=Hf(e);return t.forEach(t=>{const s=xp(t.path);r.push(i.put(new zp(n,s))),r.push(this.referenceDelegate.addReference(e,n,t))}),Jp.waitFor(r)}removeMatchingKeys(e,t,n){const r=Hf(e);return Jp.forEach(t,t=>{const i=xp(t.path);return Jp.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=Hf(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Hf(e);let i=Ud();return r.Kt({range:n,qt:!0},(e,t,n)=>{const r=Np(e[1]),s=new Zu(r);i=i.add(s)}).next(()=>i)}containsKey(e,t){const n=xp(t.path),r=IDBKeyRange.bound([n],[wu(n)],!1,!0);let i=0;return Hf(e).Kt({index:zp.documentTargetsIndex,qt:!0,range:r},([e,t],n,r)=>{0!==e&&(i++,r.done())}).next(()=>i>0)}Et(e,t){return zf(e).get(t).next(e=>e?Cf(e):null)}}function zf(e){return uf(e,Zp.store)}function Bf(e){return uf(e,Bp.store)}function Hf(e){return uf(e,zp.store)}function $f(e){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,Fs.Z)(function*(e){if(e.code!==ou.FAILED_PRECONDITION||e.message!==Qp)throw e;Xc("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function Wf([e,t],[n,r]){const i=_u(e,n);return 0===i?_u(t,r):i}class Kf{constructor(e){this.ue=e,this.buffer=new xd(Wf),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Wf(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Qf{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const n=this.de?3e5:6e4;Xc("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,Fs.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(e){rf(e)?Xc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):yield $f(e)}yield t._e(e)}))}}class Yf{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Jp.resolve(gu.T);const n=new Kf(t);return this.me.forEachTarget(e,e=>n.fe(e.sequenceNumber)).next(()=>this.me.ye(e,e=>n.fe(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.me.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Xc("LruGarbageCollector","Garbage collection skipped; disabled"),Jp.resolve(Nf)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Xc("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nf):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let n,r,i,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Xc("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Jc()<=qs.in.DEBUG&&Xc("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-c}ms`),Jp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class Jf{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new Yf(e,t)}(this,t)}ge(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}Ee(e){let t=0;return this.ye(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Te(e,(e,n)=>t(n))}addReference(e,t,n){return Xf(e,n)}removeReference(e,t,n){return Xf(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Xf(e,t)}Ie(e,t){return function(e,t){let n=!1;return qf(e).jt(r=>Ff(e,r,t).next(e=>(e&&(n=!0),Jp.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Te(e,(s,o)=>{if(o<=t){const t=this.Ie(e,s).next(t=>{if(!t)return i++,n.getEntry(e,s).next(()=>(n.removeEntry(s),Hf(e).delete([0,xp(s.path)])))});r.push(t)}}).next(()=>Jp.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Xf(e,t)}Te(e,t){const n=Hf(e);let r,i=gu.T;return n.Kt({index:zp.documentTargetsIndex},([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==gu.T&&t(new Zu(Np(r)),i),i=o,r=s):i=gu.T}).next(()=>{i!==gu.T&&t(new Zu(Np(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Xf(e,t){return Hf(e).put(function(e,t){return new zp(0,xp(e.path),t)}(t,e.currentSequenceNumber))}class eg{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){Iu(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Eu(this.inner)}}class tg{constructor(){this.changes=new eg(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Cu.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:sh.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Jp.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ng{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,n){return sg(e).put(og(t),n)}removeEntry(e,t){const n=sg(e),r=og(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Ae(e,n)))}getEntry(e,t){return sg(e).get(og(t)).next(e=>this.Re(t,e))}be(e,t){return sg(e).get(og(t)).next(e=>({document:this.Re(t,e),size:Lf(e)}))}getEntries(e,t){let n=Nd();return this.Pe(e,t,(e,t)=>{const r=this.Re(e,t);n=n.insert(e,r)}).next(()=>n)}ve(e,t){let n=Nd(),r=new Sd(Zu.comparator);return this.Pe(e,t,(e,t)=>{const i=this.Re(e,t);n=n.insert(e,i),r=r.insert(e,Lf(t))}).next(()=>({documents:n,Ve:r}))}Pe(e,t,n){if(t.isEmpty())return Jp.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let s=i.getNext();return sg(e).Kt({range:r},(e,t,r)=>{const o=Zu.fromSegments(e);for(;s&&Zu.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.Mt(s.path.toArray()):r.done()}).next(()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})}getDocumentsMatchingQuery(e,t,n){let r=Nd();const i=t.path.length+1,s={};if(n.isEqual(Cu.min())){const e=t.path.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=yf(n);s.range=IDBKeyRange.lowerBound([e,r],!0),s.index=qp.collectionReadTimeIndex}return sg(e).Kt(s,(e,n,s)=>{if(e.length!==i)return;const o=gf(this.N,n);t.path.isPrefixOf(o.key.path)?qh(t,o)&&(r=r.insert(o.key,o)):s.done()}).next(()=>r)}newChangeBuffer(e){return new rg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return ig(e).get(jp.key).next(e=>(iu(!!e),e))}Ae(e,t){return ig(e).put(jp.key,t)}Re(e,t){if(t){const e=gf(this.N,t);if(!e.isNoDocument()||!e.version.isEqual(Cu.min()))return e}return sh.newInvalidDocument(e)}}class rg extends tg{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new eg(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new xd((e,t)=>_u(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.De.get(i);if(s.document.isValidDocument()){const a=mf(this.Se.N,s.document,this.getReadTime(i));r=r.add(i.path.popLast());const l=Lf(a);n+=l-o,t.push(this.Se.addEntry(e,i,a))}else if(n-=o,this.trackRemovals){const n=mf(this.Se.N,sh.newNoDocument(i,Cu.min()),this.getReadTime(i));t.push(this.Se.addEntry(e,i,n))}else t.push(this.Se.removeEntry(e,i))}),r.forEach(n=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,n))}),t.push(this.Se.updateMetadata(e,n)),Jp.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(e=>(this.De.set(t,e.size),e.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:e,Ve:t})=>(t.forEach((e,t)=>{this.De.set(e,t)}),e))}}function ig(e){return uf(e,jp.store)}function sg(e){return uf(e,qp.store)}function og(e){return e.path.toArray()}class ag{constructor(e){this.N=e}Ct(e,t,n,r){iu(n<r&&n>=0&&r<=11);const i=new Xp("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Dp.store)}(e),function(e){e.createObjectStore(Lp.store,{keyPath:Lp.keyPath}),e.createObjectStore(Mp.store,{keyPath:Mp.keyPath,autoIncrement:!0}).createIndex(Mp.userMutationsIndex,Mp.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Fp.store)}(e),lg(e),function(e){e.createObjectStore(qp.store)}(e));let s=Jp.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(zp.store),e.deleteObjectStore(Zp.store),e.deleteObjectStore(Bp.store)}(e),lg(e)),s=s.next(()=>function(e){const t=e.store(Bp.store),n=new Bp(0,0,Cu.min().toTimestamp(),0);return t.put(Bp.key,n)}(i))),n<4&&r>=4&&(0!==n&&(s=s.next(()=>function(e,t){return t.store(Mp.store).Lt().next(n=>{e.deleteObjectStore(Mp.store),e.createObjectStore(Mp.store,{keyPath:Mp.keyPath,autoIncrement:!0}).createIndex(Mp.userMutationsIndex,Mp.userMutationsKeyPath,{unique:!0});const r=t.store(Mp.store),i=n.map(e=>r.put(e));return Jp.waitFor(i)})}(e,i))),s=s.next(()=>{!function(e){e.createObjectStore($p.store,{keyPath:$p.keyPath})}(e)})),n<5&&r>=5&&(s=s.next(()=>this.Ce(i))),n<6&&r>=6&&(s=s.next(()=>(function(e){e.createObjectStore(jp.store)}(e),this.Ne(i)))),n<7&&r>=7&&(s=s.next(()=>this.xe(i))),n<8&&r>=8&&(s=s.next(()=>this.ke(e,i))),n<9&&r>=9&&(s=s.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(qp.store);t.createIndex(qp.readTimeIndex,qp.readTimeIndexPath,{unique:!1}),t.createIndex(qp.collectionReadTimeIndex,qp.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(s=s.next(()=>this.$e(i))),n<11&&r>=11&&(s=s.next(()=>{!function(e){e.createObjectStore(Gp.store,{keyPath:Gp.keyPath})}(e),function(e){e.createObjectStore(Wp.store,{keyPath:Wp.keyPath})}(e)})),s}Ne(e){let t=0;return e.store(qp.store).Kt((e,n)=>{t+=Lf(n)}).next(()=>{const n=new jp(t);return e.store(jp.store).put(jp.key,n)})}Ce(e){const t=e.store(Lp.store),n=e.store(Mp.store);return t.Lt().next(t=>Jp.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Lt(Mp.userMutationsIndex,r).next(n=>Jp.forEach(n,n=>{iu(n.userId===t.userId);const r=bf(this.N,n);return Df(e,t.userId,r).next(()=>{})}))}))}xe(e){const t=e.store(zp.store),n=e.store(qp.store);return e.store(Bp.store).get(Bp.key).next(e=>{const r=[];return n.Kt((n,i)=>{const s=new ku(n),o=function(e){return[0,xp(e)]}(s);r.push(t.get(o).next(n=>n?Jp.resolve():(n=>t.put(new zp(0,xp(n),e.highestListenSequenceNumber)))(s)))}).next(()=>Jp.waitFor(r))})}ke(e,t){e.createObjectStore(Hp.store,{keyPath:Hp.keyPath});const n=t.store(Hp.store),r=new xf,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:xp(r)})}};return t.store(qp.store).Kt({qt:!0},(e,t)=>{const n=new ku(e);return i(n.popLast())}).next(()=>t.store(Fp.store).Kt({qt:!0},([e,t,n],r)=>{const s=Np(t);return i(s.popLast())}))}$e(e){const t=e.store(Zp.store);return t.Kt((e,n)=>{const r=Cf(n),i=Tf(this.N,r);return t.put(i)})}}function lg(e){e.createObjectStore(zp.store,{keyPath:zp.keyPath}).createIndex(zp.documentTargetsIndex,zp.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Zp.store,{keyPath:Zp.keyPath}).createIndex(Zp.queryTargetsIndexName,Zp.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Bp.store)}const cg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ug{constructor(e,t,n,r,i,s,o,a,l,c){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Oe=i,this.window=s,this.document=o,this.Fe=l,this.Me=c,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=e=>Promise.resolve(),!ug.bt())throw new au(ou.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jf(this,r),this.We=t+"main",this.N=new ff(a),this.Ge=new ef(this.We,11,new ag(this.N)),this.ze=new Zf(this.referenceDelegate,this.N),this.Ht=new Pf,this.He=function(e,t){return new ng(e,t)}(this.N,this.Ht),this.Je=new Ef,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===c&&eu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new au(ou.FAILED_PRECONDITION,cg);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new gu(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var n=(0,Fs.Z)(function*(n){if(t.started)return e(n)});return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,Fs.Z)(function*(t){null===t.newVersion&&(yield e())});return function(e){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,Fs.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>dg(e).put(new $p(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(rf(e))return Xc("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Xc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return hg(e).get(Dp.key).next(e=>Jp.resolve(this.cn(e)))}un(e){return dg(e).delete(this.clientId)}hn(){var e=this;return(0,Fs.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const n=uf(t,$p.store);return n.Lt().next(t=>{const r=e.fn(t,18e5),i=t.filter(e=>-1===r.indexOf(e));return Jp.forEach(i,e=>n.delete(e.clientId)).next(()=>i)})}).catch(()=>[]);if(e.Ye)for(const n of t)e.Ye.removeItem(e.dn(n.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Jp.resolve(!0):hg(e).get(Dp.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.cn(t)&&this.networkEnabled)return!0;if(!this.cn(t)){if(!t.allowTabSynchronization)throw new au(ou.FAILED_PRECONDITION,cg);return!1}}return!(!this.networkEnabled||!this.inForeground)||dg(e).Lt().next(e=>void 0===this.fn(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(!this.networkEnabled&&e.networkEnabled||t&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Xc("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var e=this;return(0,Fs.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[Dp.store,$p.store],t=>{const n=new cf(t,gu.T);return e.on(n).next(()=>e.un(n))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(e=>this.ln(e.updateTimeMs,t)&&!this.wn(e.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>dg(e).Lt().next(e=>this.fn(e,18e5).map(e=>e.clientId)))}get started(){return this.Be}getMutationQueue(e){return Mf.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,n){let r;return Xc("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",Kp,i=>(r=new cf(i,this.Le?this.Le.next():gu.T),"readwrite-primary"===t?this.sn(r).next(e=>!!e||this.rn(r)).next(t=>{if(!t)throw eu(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new au(ou.FAILED_PRECONDITION,Qp);return n(r)}).next(e=>this.an(r).next(()=>e)):this.En(r).next(()=>n(r)))).then(e=>(r.raiseOnCommittedEvent(),e))}En(e){return hg(e).get(Dp.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)&&!this.cn(e)&&!(this.Me||this.allowTabSynchronization&&e.allowTabSynchronization))throw new au(ou.FAILED_PRECONDITION,cg)})}an(e){const t=new Dp(this.clientId,this.allowTabSynchronization,Date.now());return hg(e).put(Dp.key,t)}static bt(){return ef.bt()}on(e){const t=hg(e);return t.get(Dp.key).next(e=>this.cn(e)?(Xc("IndexedDbPersistence","Releasing primary lease."),t.delete(Dp.key)):Jp.resolve())}ln(e,t){const n=Date.now();return!(e<n-t||e>n&&(eu(`Detected an update time that is in the future: ${e} > ${n}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,js.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const n=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Xc("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return eu("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){eu("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function hg(e){return uf(e,Dp.store)}function dg(e){return uf(e,$p.store)}function pg(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class fg{constructor(e,t){this.progress=e,this.Tn=t}}class gg{constructor(e,t,n){this.He=e,this.In=t,this.Ht=n}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(n=>this.Rn(e,t,n))}Rn(e,t,n){return this.He.getEntry(e,t).next(e=>{for(const t of n)t.applyToLocalView(e);return e})}bn(e,t){e.forEach((e,n)=>{for(const r of t)r.applyToLocalView(n)})}Pn(e,t){return this.He.getEntries(e,t).next(t=>this.vn(e,t).next(()=>t))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>this.bn(t,e))}getDocumentsMatchingQuery(e,t,n){return function(e){return Zu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Vn(e,t.path):Rh(t)?this.Sn(e,t,n):this.Dn(e,t,n)}Vn(e,t){return this.An(e,new Zu(t)).next(e=>{let t=Dd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}Sn(e,t,n){const r=t.collectionGroup;let i=Dd();return this.Ht.getCollectionParents(e,r).next(s=>Jp.forEach(s,s=>{const o=function(e,t){return new Sh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.Dn(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}Dn(e,t,n){let r,i;return this.He.getDocumentsMatchingQuery(e,t,n).next(n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(t=>(i=t,this.Cn(e,i,r).next(e=>{r=e;for(const t of i)for(const e of t.mutations){const n=e.key;let i=r.get(n);null==i&&(i=sh.newInvalidDocument(n),r=r.insert(n,i)),ud(e,i,t.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))).next(()=>(r.forEach((e,n)=>{qh(t,n)||(r=r.remove(e))}),r))}Cn(e,t,n){let r=Ud();for(const s of t)for(const e of s.mutations)e instanceof gd&&null===n.get(e.key)&&(r=r.add(e.key));let i=n;return this.He.getEntries(e,r).next(e=>(e.forEach((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))}),i))}}class mg{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Nn=n,this.xn=r}static kn(e,t){let n=Ud(),r=Ud();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new mg(e,t.fromCache,n,r)}}class yg{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Cu.min())?this.Fn(e,t):this.On.Pn(e,r).next(i=>{const s=this.Mn(t,i);return(xh(t)||Ph(t))&&this.Ln(t.limitType,s,r,n)?this.Fn(e,t):(Jc()<=qs.in.DEBUG&&Xc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Vh(t)),this.On.getDocumentsMatchingQuery(e,t,n).next(e=>(s.forEach(t=>{e=e.insert(t.key,t)}),e)))})}Mn(e,t){let n=new xd(jh(e));return t.forEach((t,r)=>{qh(e,r)&&(n=n.add(r))}),n}Ln(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(e,t){return Jc()<=qs.in.DEBUG&&Xc("QueryEngine","Using full collection scan to execute query:",Vh(t)),this.On.getDocumentsMatchingQuery(e,t,Cu.min())}}class _g{constructor(e,t,n,r){this.persistence=e,this.Bn=t,this.N=r,this.Un=new Sd(_u),this.qn=new eg(e=>lh(e),ch),this.Kn=Cu.min(),this.In=e.getMutationQueue(n),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new gg(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function vg(e,t,n,r){return new _g(e,t,n,r)}function wg(e,t){return bg.apply(this,arguments)}function bg(){return(bg=(0,Fs.Z)(function*(e,t){const n=su(e);let r=n.In,i=n.Qn;const s=yield n.persistence.runTransaction("Handle user change","readonly",e=>{let s;return n.In.getAllMutationBatches(e).next(o=>(s=o,r=n.persistence.getMutationQueue(t),i=new gg(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e))).next(t=>{const n=[],r=[];let o=Ud();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return i.Pn(e,o).next(e=>({Wn:e,removedBatchIds:n,addedBatchIds:r}))})});return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s})).apply(this,arguments)}function Cg(e,t){const n=su(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Jp.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);iu(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),o.next(()=>e.In.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.Pn(e,r))})}function Tg(e){const t=su(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ze.getLastRemoteSnapshotVersion(e))}function Ig(e,t){const n=su(e),r=t.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const o=[];t.targetChanges.forEach((t,s)=>{const a=i.get(s);if(!a)return;o.push(n.ze.removeMatchingKeys(e,t.removedDocuments,s).next(()=>n.ze.addMatchingKeys(e,t.addedDocuments,s)));const l=t.resumeToken;if(l.approximateByteSize()>0){const c=a.withResumeToken(l,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(s,c),function(e,t,n){return iu(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,t)&&o.push(n.ze.updateTargetData(e,c))}});let a=Nd();if(t.documentUpdates.forEach((r,i)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(Eg(e,s,t.documentUpdates,r,void 0).next(e=>{a=e})),!r.isEqual(Cu.min())){const t=n.ze.getLastRemoteSnapshotVersion(e).next(t=>n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return Jp.waitFor(o).next(()=>s.apply(e)).next(()=>n.Qn.vn(e,a)).next(()=>a)}).then(e=>(n.Un=i,e))}function Eg(e,t,n,r,i){let s=Ud();return n.forEach(e=>s=s.add(e)),t.getEntries(e,s).next(e=>{let s=Nd();return n.forEach((n,o)=>{const a=e.get(n),l=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Cu.min())?(t.removeEntry(n,l),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,l),s=s.insert(n,o)):Xc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function Sg(e,t){const n=su(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t)))}function kg(e,t){const n=su(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.ze.getTargetData(e,t).next(i=>i?(r=i,Jp.resolve(r)):n.ze.allocateTargetId(e).next(i=>(r=new pf(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e})}function Ag(e,t,n){return xg.apply(this,arguments)}function xg(){return(xg=(0,Fs.Z)(function*(e,t,n){const r=su(e),i=r.Un.get(t),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!rf(e))throw e;Xc("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Un=r.Un.remove(t),r.qn.delete(i.target)})).apply(this,arguments)}function Pg(e,t,n){const r=su(e);let i=Cu.min(),s=Ud();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=su(e),i=r.qn.get(n);return void 0!==i?Jp.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(r,e,Lh(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Bn.getDocumentsMatchingQuery(e,t,n?i:Cu.min(),n?s:Ud())).next(e=>({documents:e,Gn:s})))}function Og(e,t){const n=su(e),r=su(n.ze),i=n.Un.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",e=>r.Et(e,t).next(e=>e?e.target:null))}function Ng(e){const t=su(e);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(e,t,n){const r=su(e);let i=Nd(),s=yf(n);const o=sg(t),a=IDBKeyRange.lowerBound(s,!0);return o.Kt({index:qp.readTimeIndex,range:a},(e,t)=>{const n=gf(r.N,t);i=i.insert(n.key,n),s=t.readTime}).next(()=>({Tn:i,readTime:_f(s)}))}(t.jn,e,t.Kn)).then(({Tn:e,readTime:n})=>(t.Kn=n,e))}function Rg(){return(Rg=(0,Fs.Z)(function*(e){const t=su(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(e){const t=sg(e);let n=Cu.min();return t.Kt({index:qp.readTimeIndex,reverse:!0},(e,t,r)=>{t.readTime&&(n=_f(t.readTime)),r.done()}).next(()=>n)}(e)).then(e=>{t.Kn=e})})).apply(this,arguments)}function Dg(){return(Dg=(0,Fs.Z)(function*(e,t,n,r){const i=su(e);let s=Ud(),o=Nd(),a=Md();for(const u of n){const e=t.zn(u.metadata.name);u.document&&(s=s.add(e)),o=o.insert(e,t.Hn(u)),a=a.insert(e,t.Jn(u.metadata.readTime))}const l=i.jn.newChangeBuffer({trackRemovals:!0}),c=yield kg(i,function(e){return Lh(Ah(ku.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>Eg(e,l,o,Cu.min(),a).next(t=>(l.apply(e),t)).next(t=>i.ze.removeMatchingKeysForTargetId(e,c.targetId).next(()=>i.ze.addMatchingKeys(e,s,c.targetId)).next(()=>i.Qn.vn(e,t)).next(()=>t)))})).apply(this,arguments)}function Lg(e,t){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,Fs.Z)(function*(e,t,n=Ud()){const r=yield kg(e,Lh(If(t.bundledQuery))),i=su(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const s=np(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Je.saveNamedQuery(e,t);const o=r.withResumeToken(Ou.EMPTY_BYTE_STRING,s);return i.Un=i.Un.insert(o.targetId,o),i.ze.updateTargetData(e,o).next(()=>i.ze.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.ze.addMatchingKeys(e,n,r.targetId)).next(()=>i.Je.saveNamedQuery(e,t))})})).apply(this,arguments)}class Fg{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Jp.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:np(n.createTime)}),Jp.resolve()}getNamedQuery(e,t){return Jp.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:If(e.bundledQuery),readTime:np(e.readTime)}}(t)),Jp.resolve()}}class Ug{constructor(){this.Zn=new xd(Vg.ts),this.es=new xd(Vg.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new Vg(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.rs(new Vg(e,t))}os(e,t){e.forEach(e=>this.removeReference(e,t))}cs(e){const t=new Zu(new ku([])),n=new Vg(t,e),r=new Vg(t,e+1),i=[];return this.es.forEachInRange([n,r],e=>{this.rs(e),i.push(e.key)}),i}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Zu(new ku([])),n=new Vg(t,e),r=new Vg(t,e+1);let i=Ud();return this.es.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Vg(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Vg{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Zu.comparator(e.key,t.key)||_u(e.ls,t.ls)}static ns(e,t){return _u(e.ls,t.ls)||Zu.comparator(e.key,t.key)}}class qg{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new xd(Vg.ts)}checkEmpty(e){return Jp.resolve(0===this.In.length)}addMutationBatch(e,t,n,r){const i=this.fs;this.fs++;const s=new hf(i,t,n,r);this.In.push(s);for(const o of r)this.ds=this.ds.add(new Vg(o.key,i)),this.Ht.addToCollectionParentIndex(e,o.key.path.popLast());return Jp.resolve(s)}lookupMutationBatch(e,t){return Jp.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const n=this._s(t+1),r=n<0?0:n;return Jp.resolve(this.In.length>r?this.In[r]:null)}getHighestUnacknowledgedBatchId(){return Jp.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Jp.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Vg(t,0),r=new Vg(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],e=>{const t=this.ws(e.ls);i.push(t)}),Jp.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new xd(_u);return t.forEach(e=>{const t=new Vg(e,0),r=new Vg(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],e=>{n=n.add(e.ls)})}),Jp.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Zu.isDocumentKey(i)||(i=i.child(""));const s=new Vg(new Zu(i),0);let o=new xd(_u);return this.ds.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)},s),Jp.resolve(this.gs(o))}gs(e){const t=[];return e.forEach(e=>{const n=this.ws(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){iu(0===this.ys(t.batchId,"removed")),this.In.shift();let n=this.ds;return Jp.forEach(t.mutations,r=>{const i=new Vg(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=n})}te(e){}containsKey(e,t){const n=new Vg(t,0),r=this.ds.firstAfterOrEqual(n);return Jp.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Jp.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class jg{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new Sd(Zu.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-s,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Jp.resolve(n?n.document.clone():sh.newInvalidDocument(t))}getEntries(e,t){let n=Nd();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():sh.newInvalidDocument(e))}),Jp.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=Nd();const i=new Zu(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||qh(t,i)&&(r=r.insert(i.key,i.clone()))}return Jp.resolve(r)}Es(e,t){return Jp.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Zg(this)}getSize(e){return Jp.resolve(this.size)}}class Zg extends tg{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.document.isValidDocument()?t.push(this.Se.addEntry(e,r.document,this.getReadTime(n))):this.Se.removeEntry(n)}),Jp.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class zg{constructor(e){this.persistence=e,this.Ts=new eg(e=>lh(e),ch),this.lastRemoteSnapshotVersion=Cu.min(),this.highestTargetId=0,this.Is=0,this.As=new Ug,this.targetCount=0,this.Rs=jf.se()}forEachTarget(e,t){return this.Ts.forEach((e,n)=>t(n)),Jp.resolve()}getLastRemoteSnapshotVersion(e){return Jp.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Jp.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Jp.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),Jp.resolve()}ae(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new jf(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Jp.resolve()}updateTargetData(e,t){return this.ae(t),Jp.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Jp.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Ts.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Ts.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),Jp.waitFor(i).next(()=>r)}getTargetCount(e){return Jp.resolve(this.targetCount)}getTargetData(e,t){const n=this.Ts.get(t)||null;return Jp.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),Jp.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Jp.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Jp.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return Jp.resolve(n)}containsKey(e,t){return Jp.resolve(this.As.containsKey(t))}}class Bg{constructor(e,t){this.bs={},this.Le=new gu(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new zg(this),this.Ht=new Af,this.He=function(e,t){return new jg(e,t)}(this.Ht,e=>this.referenceDelegate.Ps(e)),this.N=new ff(t),this.Je=new Fg(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new qg(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,n){Xc("MemoryPersistence","Starting transaction:",e);const r=new Hg(this.Le.next());return this.referenceDelegate.vs(),n(r).next(e=>this.referenceDelegate.Vs(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ss(e,t){return Jp.or(Object.values(this.bs).map(n=>()=>n.containsKey(e,t)))}}class Hg extends Yp{constructor(e){super(),this.currentSequenceNumber=e}}class $g{constructor(e){this.persistence=e,this.Ds=new Ug,this.Cs=null}static Ns(e){return new $g(e)}get xs(){if(this.Cs)return this.Cs;throw ru()}addReference(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),Jp.resolve()}removeReference(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),Jp.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Jp.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(e=>this.xs.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.xs.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Jp.forEach(this.xs,n=>{const r=Zu.fromPath(n);return this.ks(e,r).next(e=>{e||t.removeEntry(r)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return Jp.or([()=>Jp.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function Gg(e,t){return`firestore_clients_${e}_${t}`}function Wg(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function Kg(e,t){return`firestore_targets_${e}_${t}`}class Qg{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static $s(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new au(r.error.code,r.error.message))),s?new Qg(e,t,r.state,i):(eu("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yg{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static $s(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new au(n.error.code,n.error.message))),i?new Yg(e,n.state,r):(eu("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=qd();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=ju(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new Jg(e,i):(eu("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Xg{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Xg(t.clientId,t.onlineState):(eu("SharedClientState",`Failed to parse online state: ${e}`),null)}}class em{constructor(){this.activeTargetIds=qd()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tm{constructor(e,t,n,r,i){this.window=e,this.Oe=t,this.persistenceKey=n,this.Ls=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Sd(_u),this.started=!1,this.Ks=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.js=Gg(this.persistenceKey,this.Ls),this.Qs=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.qs=this.qs.insert(this.Ls,new em),this.Ws=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Hs=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Js=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Fs.Z)(function*(){const t=yield e.syncEngine.pn();for(const r of t){if(r===e.Ls)continue;const t=e.getItem(Gg(e.persistenceKey,r));if(t){const n=Jg.$s(r,t);n&&(e.qs=e.qs.insert(n.clientId,n))}}e.Ys();const n=e.storage.getItem(e.Hs);if(n){const t=e.Xs(n);t&&e.Zs(t)}for(const r of e.Ks)e.Us(r);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,n){this.ei(e,t,n),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Kg(this.persistenceKey,e));if(n){const r=Yg.$s(e,n);r&&(t=r.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Kg(this.persistenceKey,e))}updateQueryState(e,t,n){this.ii(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.ni(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Xc("SharedClientState","READ",e,t),t}setItem(e,t){Xc("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Xc("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const n=e;if(n.storageArea===this.storage){if(Xc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.js)return void eu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Fs.Z)(function*(){if(t.started){if(null!==n.key)if(t.Ws.test(n.key)){if(null==n.newValue){const e=t.ai(n.key);return t.ci(e,null)}{const e=t.ui(n.key,n.newValue);if(e)return t.ci(e.clientId,e)}}else if(t.Gs.test(n.key)){if(null!==n.newValue){const e=t.hi(n.key,n.newValue);if(e)return t.li(e)}}else if(t.zs.test(n.key)){if(null!==n.newValue){const e=t.fi(n.key,n.newValue);if(e)return t.di(e)}}else if(n.key===t.Hs){if(null!==n.newValue){const e=t.Xs(n.newValue);if(e)return t.Zs(e)}}else if(n.key===t.Qs){const e=function(e){let t=gu.T;if(null!=e)try{const n=JSON.parse(e);iu("number"==typeof n),t=n}catch(e){eu("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue);e!==gu.T&&t.sequenceNumberHandler(e)}else if(n.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(n)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,n){const r=new Qg(this.currentUser,e,t,n),i=Wg(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}ni(e){const t=Wg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,n){const r=Kg(this.persistenceKey,e),i=new Yg(e,t,n);this.setItem(r,i.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const n=this.ai(e);return Jg.$s(n,t)}hi(e,t){const n=this.Gs.exec(e),r=Number(n[1]);return Qg.$s(new Kc(void 0!==n[2]?n[2]:null),r,t)}fi(e,t){const n=this.zs.exec(e),r=Number(n[1]);return Yg.$s(r,t)}Xs(e){return Xg.$s(e)}li(e){var t=this;return(0,Fs.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);Xc("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ci(e,t){const n=t?this.qs.insert(e,t):this.qs.remove(e),r=this.ti(this.qs),i=this.ti(n),s=[],o=[];return i.forEach(e=>{r.has(e)||s.push(e)}),r.forEach(e=>{i.has(e)||o.push(e)}),this.syncEngine.gi(s,o).then(()=>{this.qs=n})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=qd();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class nm{constructor(){this.yi=new em,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,n){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new em,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class rm{Ei(e){}shutdown(){}}class im{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Xc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Xc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const sm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class om{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class am extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,n,r){const i=this.Bi(e,t);Xc("RestConnection","Sending: ",i,n);const s={};return this.Ui(s,r),this.qi(e,i,s,n).then(e=>(Xc("RestConnection","Received: ",e),e),t=>{throw tu("RestConnection",`${e} failed with error: `,t,"url: ",i,"request:",n),t})}Ki(e,t,n,r){return this.Li(e,t,n,r)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Qc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}Bi(e,t){return`${this.Fi}/v1/${t}:${sm[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,n,r){return new Promise((i,s)=>{const o=new Wc;o.listenOnce(zc.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Zc.NO_ERROR:const t=o.getResponseJson();Xc("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Zc.TIMEOUT:Xc("Connection",'RPC "'+e+'" timed out'),s(new au(ou.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const n=o.getStatus();if(Xc("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ou).indexOf(t)>=0?t:ou.UNKNOWN}(e.status);s(new au(t,e.message))}else s(new au(ou.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new au(ou.UNAVAILABLE,"Connection failed."));break;default:ru()}}finally{Xc("Connection",'RPC "'+e+'" completed.')}});const a=JSON.stringify(r);o.send(t,"POST",a,n,15)})}ji(e,t){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=qc(),i=jc(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new $c({})),this.Ui(s.initMessageHeaders,t),(0,js.uI)()||(0,js.b$)()||(0,js.d)()||(0,js.w1)()||(0,js.Mn)()||(0,js.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");const o=n.join("");Xc("Connection","Creating WebChannel: "+o,s);const a=r.createWebChannel(o,s);let l=!1,c=!1;const u=new om({vi:e=>{c?Xc("Connection","Not sending because WebChannel is closed:",e):(l||(Xc("Connection","Opening WebChannel transport."),a.open(),l=!0),Xc("Connection","WebChannel sending:",e),a.send(e))},Vi:()=>a.close()}),h=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return h(a,Gc.EventType.OPEN,()=>{c||Xc("Connection","WebChannel transport opened.")}),h(a,Gc.EventType.CLOSE,()=>{c||(c=!0,Xc("Connection","WebChannel transport closed"),u.$i())}),h(a,Gc.EventType.ERROR,e=>{c||(c=!0,tu("Connection","WebChannel transport errored:",e),u.$i(new au(ou.UNAVAILABLE,"The operation could not be completed")))}),h(a,Gc.EventType.MESSAGE,e=>{var t;if(!c){const n=e.data[0];iu(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Xc("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=Cd[e];if(void 0!==t)return Ed(t)}(e),n=i.message;void 0===t&&(t=ou.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),c=!0,u.$i(new au(t,n)),a.close()}else Xc("Connection","WebChannel received:",n),u.Oi(n)}}),h(i,Bc.STAT_EVENT,e=>{e.stat===Hc.PROXY?Xc("Connection","Detected buffering proxy"):e.stat===Hc.NOPROXY&&Xc("Connection","Detected no buffering proxy")}),setTimeout(()=>{u.ki()},0),u}}function lm(){return"undefined"!=typeof window?window:null}function cm(){return"undefined"!=typeof document?document:null}function um(e){return new Jd(e,!0)}class hm{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=t,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,t-n);r>0&&Xc("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class dm{constructor(e,t,n,r,i,s){this.Oe=e,this.er=n,this.nr=r,this.credentialsProvider=i,this.listener=s,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new hm(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var e=this;return(0,Fs.Z)(function*(){e.ar()&&(yield e.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(e){this._r(),this.stream.send(e)}dr(){var e=this;return(0,Fs.Z)(function*(){if(e.cr())return e.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(e,t){var n=this;return(0,Fs.Z)(function*(){n._r(),n.rr.cancel(),n.sr++,3!==e?n.rr.reset():t&&t.code===ou.RESOURCE_EXHAUSTED?(eu(t.toString()),eu("Using maximum backoff delay to prevent overloading the backend."),n.rr.Yi()):t&&t.code===ou.UNAUTHENTICATED&&n.credentialsProvider.invalidateToken(),null!==n.stream&&(n.mr(),n.stream.close(),n.stream=null),n.state=e,yield n.listener.Ci(t)})()}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then(e=>{this.sr===t&&this.yr(e)},t=>{e(()=>{const e=new au(ou.UNKNOWN,"Fetching auth token failed: "+t.message);return this.pr(e)})})}yr(e){const t=this.gr(this.sr);this.stream=this.Er(e),this.stream.Si(()=>{t(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(e=>{t(()=>this.pr(e))}),this.stream.onMessage(e=>{t(()=>this.onMessage(e))})}ur(){var e=this;this.state=4,this.rr.Xi((0,Fs.Z)(function*(){e.state=0,e.start()}))}pr(e){return Xc("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget(()=>this.sr===e?t():(Xc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pm extends dm{constructor(e,t,n,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,n,i),this.N=r}Er(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(e,t){let n;if("targetChange"in t){const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ru()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.D?(iu(void 0===t||"string"==typeof t),Ou.fromBase64String(t||"")):(iu(void 0===t||t instanceof Uint8Array),Ou.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?ou.UNKNOWN:Ed(e.code);return new au(t,e.message||"")}(o);n=new Hd(r,i,s,a||null)}else if("documentChange"in t){const r=t.documentChange,i=op(e,r.document.name),s=np(r.document.updateTime),o=new rh({mapValue:{fields:r.document.fields}}),a=sh.newFoundDocument(i,s,o);n=new zd(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t){const r=t.documentDelete,i=op(e,r.document),s=r.readTime?np(r.readTime):Cu.min(),o=sh.newNoDocument(i,s);n=new zd([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const r=t.documentRemove,i=op(e,r.document);n=new zd([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return ru();{const e=t.filter,r=new bd(e.count||0);n=new Bd(e.targetId,r)}}return n}(this.N,e),n=function(e){if(!("targetChange"in e))return Cu.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Cu.min():t.readTime?np(t.readTime):Cu.min()}(e);return this.listener.Tr(t,n)}Ir(e){const t={};t.database=cp(this.N),t.addTarget=function(e,t){let n;const r=t.target;return n=uh(r)?{documents:gp(e,r)}:{query:mp(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=ep(e,t.resumeToken):t.snapshotVersion.compareTo(Cu.min())>0&&(n.readTime=Xd(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ru()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.wr(t)}Ar(e){const t={};t.database=cp(this.N),t.removeTarget=e,this.wr(t)}}class fm extends dm{constructor(e,t,n,r,i){super(e,"write_stream_connection_backoff","write_stream_idle",t,n,i),this.N=r,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(e){return this.nr.ji("Write",e)}onMessage(e){if(iu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(e,t){return e&&e.length>0?(iu(void 0!==t),e.map(e=>function(e,t){let n=np(e.updateTime?e.updateTime:t);return n.isEqual(Cu.min())&&(n=np(t)),new sd(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=np(e.commitTime);return this.listener.vr(n,t)}return iu(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=cp(this.N),this.wr(e)}Pr(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>pp(this.N,e))};this.wr(t)}}class gm extends class{}{constructor(e,t,n){super(),this.credentials=e,this.nr=t,this.N=n,this.Dr=!1}Cr(){if(this.Dr)throw new au(ou.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,n){return this.Cr(),this.credentials.getToken().then(r=>this.nr.Li(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===ou.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new au(ou.UNKNOWN,e.toString())})}Ki(e,t,n){return this.Cr(),this.credentials.getToken().then(r=>this.nr.Ki(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===ou.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new au(ou.UNKNOWN,e.toString())})}terminate(){this.Dr=!0}}class mm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(eu(t),this.$r=!1):Xc("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class ym{constructor(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=i,this.Qr.Ei(e=>{n.enqueueAndForget((0,Fs.Z)(function*(){var e;Am(s)&&(Xc("RemoteStore","Restarting streams for network reachability change."),yield(e=(0,Fs.Z)(function*(e){const t=su(e);t.Kr.add(4),yield wm(t),t.Wr.set("Unknown"),t.Kr.delete(4),yield _m(t)}),function(t){return e.apply(this,arguments)})(s))}))}),this.Wr=new mm(n,r)}}function _m(e){return vm.apply(this,arguments)}function vm(){return(vm=(0,Fs.Z)(function*(e){if(Am(e))for(const t of e.jr)yield t(!0)})).apply(this,arguments)}function wm(e){return bm.apply(this,arguments)}function bm(){return(bm=(0,Fs.Z)(function*(e){for(const t of e.jr)yield t(!1)})).apply(this,arguments)}function Cm(e,t){const n=su(e);n.qr.has(t.targetId)||(n.qr.set(t.targetId,t),km(n)?Sm(n):ty(n).cr()&&Im(n,t))}function Tm(e,t){const n=su(e),r=ty(n);n.qr.delete(t),r.cr()&&Em(n,t),0===n.qr.size&&(r.cr()?r.lr():Am(n)&&n.Wr.set("Unknown"))}function Im(e,t){e.Gr.Y(t.targetId),ty(e).Ir(t)}function Em(e,t){e.Gr.Y(t),ty(e).Ar(t)}function Sm(e){e.Gr=new Gd({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.qr.get(t)||null}),ty(e).start(),e.Wr.Or()}function km(e){return Am(e)&&!ty(e).ar()&&e.qr.size>0}function Am(e){return 0===su(e).Kr.size}function xm(e){e.Gr=void 0}function Pm(e){return Om.apply(this,arguments)}function Om(){return(Om=(0,Fs.Z)(function*(e){e.qr.forEach((t,n)=>{Im(e,t)})})).apply(this,arguments)}function Nm(e,t){return Rm.apply(this,arguments)}function Rm(){return(Rm=(0,Fs.Z)(function*(e,t){xm(e),km(e)?(e.Wr.Lr(t),Sm(e)):e.Wr.set("Unknown")})).apply(this,arguments)}function Dm(e,t,n){return Lm.apply(this,arguments)}function Lm(){return(Lm=(0,Fs.Z)(function*(e,t,n){if(e.Wr.set("Online"),t instanceof Hd&&2===t.state&&t.cause)try{yield(r=(0,Fs.Z)(function*(e,t){const n=t.cause;for(const r of t.targetIds)e.qr.has(r)&&(yield e.remoteSyncer.rejectListen(r,n),e.qr.delete(r),e.Gr.removeTarget(r))}),function(e,t){return r.apply(this,arguments)})(e,t)}catch(n){Xc("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),yield Mm(e,n)}else if(t instanceof zd?e.Gr.rt(t):t instanceof Bd?e.Gr.ft(t):e.Gr.ct(t),!n.isEqual(Cu.min()))try{const t=yield Tg(e.localStore);n.compareTo(t)>=0&&(yield function(e,t){const n=e.Gr._t(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.qr.get(r);i&&e.qr.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e.qr.get(t);if(!n)return;e.qr.set(t,n.withResumeToken(Ou.EMPTY_BYTE_STRING,n.snapshotVersion)),Em(e,t);const r=new pf(n.target,t,1,n.sequenceNumber);Im(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n))}catch(t){Xc("RemoteStore","Failed to raise snapshot:",t),yield Mm(e,t)}var r})).apply(this,arguments)}function Mm(e,t,n){return Fm.apply(this,arguments)}function Fm(){return(Fm=(0,Fs.Z)(function*(e,t,n){if(!rf(t))throw t;e.Kr.add(1),yield wm(e),e.Wr.set("Offline"),n||(n=()=>Tg(e.localStore)),e.asyncQueue.enqueueRetryable((0,Fs.Z)(function*(){Xc("RemoteStore","Retrying IndexedDB access"),yield n(),e.Kr.delete(1),yield _m(e)}))})).apply(this,arguments)}function Um(e,t){return t().catch(n=>Mm(e,n,t))}function Vm(e){return qm.apply(this,arguments)}function qm(){return(qm=(0,Fs.Z)(function*(e){const t=su(e),n=ny(t);let r=t.Ur.length>0?t.Ur[t.Ur.length-1].batchId:-1;for(;jm(t);)try{const e=yield Sg(t.localStore,r);if(null===e){0===t.Ur.length&&n.lr();break}r=e.batchId,Zm(t,e)}catch(e){yield Mm(t,e)}zm(t)&&Bm(t)})).apply(this,arguments)}function jm(e){return Am(e)&&e.Ur.length<10}function Zm(e,t){e.Ur.push(t);const n=ny(e);n.cr()&&n.br&&n.Pr(t.mutations)}function zm(e){return Am(e)&&!ny(e).ar()&&e.Ur.length>0}function Bm(e){ny(e).start()}function Hm(e){return $m.apply(this,arguments)}function $m(){return($m=(0,Fs.Z)(function*(e){ny(e).Sr()})).apply(this,arguments)}function Gm(e){return Wm.apply(this,arguments)}function Wm(){return(Wm=(0,Fs.Z)(function*(e){const t=ny(e);for(const n of e.Ur)t.Pr(n.mutations)})).apply(this,arguments)}function Km(e,t,n){return Qm.apply(this,arguments)}function Qm(){return(Qm=(0,Fs.Z)(function*(e,t,n){const r=e.Ur.shift(),i=df.from(r,t,n);yield Um(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),yield Vm(e)})).apply(this,arguments)}function Ym(e,t){return Jm.apply(this,arguments)}function Jm(){return(Jm=(0,Fs.Z)(function*(e,t){var n;t&&ny(e).br&&(yield(n=(0,Fs.Z)(function*(e,t){if(Id(n=t.code)&&n!==ou.ABORTED){const n=e.Ur.shift();ny(e).hr(),yield Um(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),yield Vm(e)}var n}),function(e,t){return n.apply(this,arguments)})(e,t)),zm(e)&&Bm(e)})).apply(this,arguments)}function Xm(e,t){return ey.apply(this,arguments)}function ey(){return(ey=(0,Fs.Z)(function*(e,t){const n=su(e);t?(n.Kr.delete(2),yield _m(n)):t||(n.Kr.add(2),yield wm(n),n.Wr.set("Unknown"))})).apply(this,arguments)}function ty(e){return e.zr||(e.zr=function(e,t,n){const r=su(e);return r.Cr(),new pm(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:Pm.bind(null,e),Ci:Nm.bind(null,e),Tr:Dm.bind(null,e)}),e.jr.push(function(){var t=(0,Fs.Z)(function*(t){t?(e.zr.hr(),km(e)?Sm(e):e.Wr.set("Unknown")):(yield e.zr.stop(),xm(e))});return function(e){return t.apply(this,arguments)}}())),e.zr}function ny(e){return e.Hr||(e.Hr=function(e,t,n){const r=su(e);return r.Cr(),new fm(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:Hm.bind(null,e),Ci:Ym.bind(null,e),Vr:Gm.bind(null,e),vr:Km.bind(null,e)}),e.jr.push(function(){var t=(0,Fs.Z)(function*(t){t?(e.Hr.hr(),yield Vm(e)):(yield e.Hr.stop(),e.Ur.length>0&&(Xc("RemoteStore",`Stopping write stream with ${e.Ur.length} pending writes`),e.Ur=[]))});return function(e){return t.apply(this,arguments)}}())),e.Hr}class ry{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new lu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new ry(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new au(ou.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iy(e,t){if(eu("AsyncQueue",`${t}: ${e}`),rf(e))return new au(ou.UNAVAILABLE,`${t}: ${e}`);throw e}class sy{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Zu.comparator(t.key,n.key):(e,t)=>Zu.comparator(e.key,t.key),this.keyedMap=Dd(),this.sortedSet=new Sd(this.comparator)}static emptySet(e){return new sy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sy))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new sy;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class oy{constructor(){this.Jr=new Sd(Zu.comparator)}track(e){const t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):ru():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal((t,n)=>{e.push(n)}),e}}class ay{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new ay(e,t,sy.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ly{constructor(){this.Xr=void 0,this.listeners=[]}}class cy{constructor(){this.queries=new eg(e=>Uh(e),Fh),this.onlineState="Unknown",this.Zr=new Set}}function uy(e,t){return hy.apply(this,arguments)}function hy(){return(hy=(0,Fs.Z)(function*(e,t){const n=su(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new ly),i)try{s.Xr=yield n.onListen(r)}catch(e){const n=iy(e,`Initialization of query '${Vh(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.eo(n.onlineState),s.Xr&&t.no(s.Xr)&&my(n)})).apply(this,arguments)}function dy(e,t){return py.apply(this,arguments)}function py(){return(py=(0,Fs.Z)(function*(e,t){const n=su(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)})).apply(this,arguments)}function fy(e,t){const n=su(e);let r=!1;for(const i of t){const e=n.queries.get(i.query);if(e){for(const t of e.listeners)t.no(i)&&(r=!0);e.Xr=i}}r&&my(n)}function gy(e,t,n){const r=su(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function my(e){e.Zr.forEach(e=>{e.next()})}class yy{constructor(e,t,n){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}no(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ay(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){return!e.fromCache||!(this.options.uo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}oo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(e){e=ay.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class _y{constructor(e,t){this.payload=e,this.byteLength=t}ho(){return"metadata"in this.payload}}class vy{constructor(e){this.N=e}zn(e){return op(this.N,e)}Hn(e){return e.metadata.exists?dp(this.N,e.document,!1):sh.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return np(e)}}class wy{constructor(e,t,n){this.lo=e,this.localStore=t,this.N=n,this.queries=[],this.documents=[],this.progress=by(e)}fo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}wo(e){const t=new Map,n=new vy(this.N);for(const r of e)if(r.metadata.queries){const e=n.zn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Ud()).add(e);t.set(n,r)}}return t}complete(){var e=this;return(0,Fs.Z)(function*(){const t=yield function(e,t,n,r){return Dg.apply(this,arguments)}(e.localStore,new vy(e.N),e.documents,e.lo.id),n=e.wo(e.documents);for(const r of e.queries)yield Lg(e.localStore,r,n.get(r.name));return e.progress.taskState="Success",new fg(Object.assign({},e.progress),t)})()}}function by(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Cy{constructor(e){this.key=e}}class Ty{constructor(e){this.key=e}}class Iy{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=Ud(),this.mutatedKeys=Ud(),this.po=jh(e),this.Eo=new sy(this.po)}get To(){return this._o}Io(e,t){const n=t?t.Ao:new oy,r=t?t.Eo:this.Eo;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=xh(this.query)&&r.size===this.query.limit?r.last():null,l=Ph(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=qh(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),p=!0):this.Ro(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.po(u,a)>0||l&&this.po(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(o=!0)),p&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),xh(this.query)||Ph(this.query))for(;s.size>this.query.limit;){const e=xh(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Eo:s,Ao:n,Ln:o,mutatedKeys:i}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Eo;this.Eo=e.Eo,this.mutatedKeys=e.mutatedKeys;const i=e.Ao.Yr();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ru()}};return n(e)-n(t)}(e.type,t.type)||this.po(e.doc,t.doc)),this.bo(n);const s=t?this.Po():[],o=0===this.yo.size&&this.current?1:0,a=o!==this.mo;return this.mo=o,0!==i.length||a?{snapshot:new ay(this.query,e.Eo,r,i,e.mutatedKeys,0===o,a,!1),vo:s}:{vo:s}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new oy,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.Eo.has(e)&&!this.Eo.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach(e=>this._o=this._o.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this._o=this._o.delete(e)),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=Ud(),this.Eo.forEach(e=>{this.Vo(e.key)&&(this.yo=this.yo.add(e.key))});const t=[];return e.forEach(e=>{this.yo.has(e)||t.push(new Ty(e))}),this.yo.forEach(n=>{e.has(n)||t.push(new Cy(n))}),t}So(e){this._o=e.Gn,this.yo=Ud();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return ay.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class Ey{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Sy{constructor(e){this.key=e,this.Co=!1}}class ky{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.No={},this.xo=new eg(e=>Uh(e),Fh),this.ko=new Map,this.$o=new Set,this.Oo=new Sd(Zu.comparator),this.Fo=new Map,this.Mo=new Ug,this.Lo={},this.Bo=new Map,this.Uo=jf.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function Ay(e,t){return xy.apply(this,arguments)}function xy(){return(xy=(0,Fs.Z)(function*(e,t){const n=__(e);let r,i;const s=n.xo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Do();else{const e=yield kg(n.localStore,Lh(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=yield Py(n,t,r,"current"===s),n.isPrimaryClient&&Cm(n.remoteStore,e)}return i})).apply(this,arguments)}function Py(e,t,n,r){return Oy.apply(this,arguments)}function Oy(){return(Oy=(0,Fs.Z)(function*(e,t,n,r){e.Ko=(t,n,r)=>{return(i=(0,Fs.Z)(function*(e,t,n,r){let i=t.view.Io(n);i.Ln&&(i=yield Pg(e.localStore,t.query,!1).then(({documents:e})=>t.view.Io(e,i)));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return Ky(e,t.targetId,o.vo),o.snapshot}),function(e,t,n,r){return i.apply(this,arguments)})(e,t,n,r);var i};const i=yield Pg(e.localStore,t,!0),s=new Iy(t,i.Gn),o=s.Io(i.documents),a=Zd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=s.applyChanges(o,e.isPrimaryClient,a);Ky(e,n,l.vo);const c=new Ey(t,n,s);return e.xo.set(t,c),e.ko.has(n)?e.ko.get(n).push(t):e.ko.set(n,[t]),l.snapshot})).apply(this,arguments)}function Ny(e,t){return Ry.apply(this,arguments)}function Ry(){return(Ry=(0,Fs.Z)(function*(e,t){const n=su(e),r=n.xo.get(t),i=n.ko.get(r.targetId);if(i.length>1)return n.ko.set(r.targetId,i.filter(e=>!Fh(e,t))),void n.xo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ag(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Tm(n.remoteStore,r.targetId),Gy(n,r.targetId)}).catch($f))):(Gy(n,r.targetId),yield Ag(n.localStore,r.targetId,!0))})).apply(this,arguments)}function Dy(){return(Dy=(0,Fs.Z)(function*(e,t,n){const r=v_(e);try{const e=yield function(e,t){const n=su(e),r=bu.now(),i=t.reduce((e,t)=>e.add(t.key),Ud());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>n.Qn.Pn(e,i).next(i=>{s=i;const o=[];for(const e of t){const t=hd(e,s.get(e.key));null!=t&&o.push(new gd(e.key,t,ih(t.value.mapValue),od.exists(!0)))}return n.In.addMutationBatch(e,r,o,t)})).then(e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Lo[e.currentUser.toKey()];r||(r=new Sd(_u)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(r,e.batchId,n),yield Jy(r,e.changes),yield Vm(r.remoteStore)}catch(e){const t=iy(e,"Failed to persist write");n.reject(t)}})).apply(this,arguments)}function Ly(e,t){return My.apply(this,arguments)}function My(){return(My=(0,Fs.Z)(function*(e,t){const n=su(e);try{const e=yield Ig(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Fo.get(t);r&&(iu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Co=!0:e.modifiedDocuments.size>0?iu(r.Co):e.removedDocuments.size>0&&(iu(r.Co),r.Co=!1))}),yield Jy(n,e,t)}catch(e){yield $f(e)}})).apply(this,arguments)}function Fy(e,t,n){const r=su(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xo.forEach((n,r)=>{const i=r.view.eo(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=su(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.eo(t)&&(r=!0)}),r&&my(n)}(r.eventManager,t),e.length&&r.No.Tr(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Uy(e,t,n){return Vy.apply(this,arguments)}function Vy(){return(Vy=(0,Fs.Z)(function*(e,t,n){const r=su(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fo.get(t),s=i&&i.key;if(s){let e=new Sd(Zu.comparator);e=e.insert(s,sh.newNoDocument(s,Cu.min()));const n=Ud().add(s),i=new jd(Cu.min(),new Map,new xd(_u),e,n);yield Ly(r,i),r.Oo=r.Oo.remove(s),r.Fo.delete(t),Yy(r)}else yield Ag(r.localStore,t,!1).then(()=>Gy(r,t,n)).catch($f)})).apply(this,arguments)}function qy(e,t){return jy.apply(this,arguments)}function jy(){return(jy=(0,Fs.Z)(function*(e,t){const n=su(e),r=t.batch.batchId;try{const e=yield Cg(n.localStore,t);$y(n,r,null),Hy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Jy(n,e)}catch(e){yield $f(e)}})).apply(this,arguments)}function Zy(e,t,n){return zy.apply(this,arguments)}function zy(){return(zy=(0,Fs.Z)(function*(e,t,n){const r=su(e);try{const e=yield function(e,t){const n=su(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.In.lookupMutationBatch(e,t).next(t=>(iu(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t))).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.Pn(e,r))})}(r.localStore,t);$y(r,t,n),Hy(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),yield Jy(r,e)}catch(n){yield $f(n)}})).apply(this,arguments)}function By(){return(By=(0,Fs.Z)(function*(e,t){const n=su(e);Am(n.remoteStore)||Xc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=yield function(e){const t=su(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.In.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Bo.get(e)||[];r.push(t),n.Bo.set(e,r)}catch(e){const n=iy(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}})).apply(this,arguments)}function Hy(e,t){(e.Bo.get(t)||[]).forEach(e=>{e.resolve()}),e.Bo.delete(t)}function $y(e,t,n){const r=su(e);let i=r.Lo[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function Gy(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ko.get(t))e.xo.delete(r),n&&e.No.jo(r,n);e.ko.delete(t),e.isPrimaryClient&&e.Mo.cs(t).forEach(t=>{e.Mo.containsKey(t)||Wy(e,t)})}function Wy(e,t){e.$o.delete(t.path.canonicalString());const n=e.Oo.get(t);null!==n&&(Tm(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.Fo.delete(n),Yy(e))}function Ky(e,t,n){for(const r of n)r instanceof Cy?(e.Mo.addReference(r.key,t),Qy(e,r)):r instanceof Ty?(Xc("SyncEngine","Document no longer in limbo: "+r.key),e.Mo.removeReference(r.key,t),e.Mo.containsKey(r.key)||Wy(e,r.key)):ru()}function Qy(e,t){const n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.$o.has(r)||(Xc("SyncEngine","New document in limbo: "+n),e.$o.add(r),Yy(e))}function Yy(e){for(;e.$o.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){const t=e.$o.values().next().value;e.$o.delete(t);const n=new Zu(ku.fromString(t)),r=e.Uo.next();e.Fo.set(r,new Sy(n)),e.Oo=e.Oo.insert(n,r),Cm(e.remoteStore,new pf(Lh(Ah(n.path)),r,2,gu.T))}}function Jy(e,t,n){return Xy.apply(this,arguments)}function Xy(){return(Xy=(0,Fs.Z)(function*(e,t,n){const r=su(e),i=[],s=[],o=[];var a;r.xo.isEmpty()||(r.xo.forEach((e,a)=>{o.push(r.Ko(a,t,n).then(e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=mg.kn(a.targetId,e);s.push(t)}}))}),yield Promise.all(o),r.No.Tr(i),yield(a=(0,Fs.Z)(function*(e,t){const n=su(e);try{yield n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Jp.forEach(t,t=>Jp.forEach(t.Nn,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Jp.forEach(t.xn,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!rf(e))throw e;Xc("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Un.get(e),r=t.withLastLimboFreeSnapshotVersion(t.snapshotVersion);n.Un=n.Un.insert(e,r)}}}),function(e,t){return a.apply(this,arguments)})(r.localStore,s))})).apply(this,arguments)}function e_(e,t){return t_.apply(this,arguments)}function t_(){return(t_=(0,Fs.Z)(function*(e,t){const n=su(e);if(!n.currentUser.isEqual(t)){Xc("SyncEngine","User change. New user:",t.toKey());const e=yield wg(n.localStore,t);n.currentUser=t,function(e,t){e.Bo.forEach(e=>{e.forEach(e=>{e.reject(new au(ou.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Bo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),yield Jy(n,e.Wn)}})).apply(this,arguments)}function n_(e,t){const n=su(e),r=n.Fo.get(t);if(r&&r.Co)return Ud().add(r.key);{let e=Ud();const r=n.ko.get(t);if(!r)return e;for(const t of r){const r=n.xo.get(t);e=e.unionWith(r.view.To)}return e}}function r_(e,t){return i_.apply(this,arguments)}function i_(){return(i_=(0,Fs.Z)(function*(e,t){const n=su(e),r=yield Pg(n.localStore,t.query,!0),i=t.view.So(r);return n.isPrimaryClient&&Ky(n,t.targetId,i.vo),i})).apply(this,arguments)}function s_(e){return o_.apply(this,arguments)}function o_(){return(o_=(0,Fs.Z)(function*(e){const t=su(e);return Ng(t.localStore).then(e=>Jy(t,e))})).apply(this,arguments)}function a_(e,t,n,r){return l_.apply(this,arguments)}function l_(){return(l_=(0,Fs.Z)(function*(e,t,n,r){const i=su(e),s=yield function(e,t){const n=su(e),r=su(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.Xt(e,t).next(t=>t?n.Qn.Pn(e,t):Jp.resolve(null)))}(i.localStore,t);null!==s?("pending"===n?yield Vm(i.remoteStore):"acknowledged"===n||"rejected"===n?($y(i,t,r||null),Hy(i,t),function(e,t){su(su(e).In).te(t)}(i.localStore,t)):ru(),yield Jy(i,s)):Xc("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function c_(){return(c_=(0,Fs.Z)(function*(e,t){const n=su(e);if(__(n),v_(n),!0===t&&!0!==n.qo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=yield u_(n,e.toArray());n.qo=!0,yield Xm(n.remoteStore,!0);for(const r of t)Cm(n.remoteStore,r)}else if(!1===t&&!1!==n.qo){const e=[];let t=Promise.resolve();n.ko.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(Gy(n,i),Ag(n.localStore,i,!0))),Tm(n.remoteStore,i)}),yield t,yield u_(n,e),function(e){const t=su(e);t.Fo.forEach((e,n)=>{Tm(t.remoteStore,n)}),t.Mo.us(),t.Fo=new Map,t.Oo=new Sd(Zu.comparator)}(n),n.qo=!1,yield Xm(n.remoteStore,!1)}})).apply(this,arguments)}function u_(e,t,n){return h_.apply(this,arguments)}function h_(){return(h_=(0,Fs.Z)(function*(e,t,n){const r=su(e),i=[],s=[];for(const o of t){let e;const t=r.ko.get(o);if(t&&0!==t.length){e=yield kg(r.localStore,Lh(t[0]));for(const e of t){const t=r.xo.get(e),n=yield r_(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=yield Og(r.localStore,o);e=yield kg(r.localStore,t),yield Py(r,d_(t),o,!1)}i.push(e)}return r.No.Tr(s),i})).apply(this,arguments)}function d_(e){return kh(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function p_(e){const t=su(e);return su(su(t.localStore).persistence).pn()}function f_(e,t,n,r){return g_.apply(this,arguments)}function g_(){return(g_=(0,Fs.Z)(function*(e,t,n,r){const i=su(e);if(i.qo)Xc("SyncEngine","Ignoring unexpected query state notification.");else if(i.ko.has(t))switch(n){case"current":case"not-current":{const e=yield Ng(i.localStore),r=jd.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);yield Jy(i,e,r);break}case"rejected":yield Ag(i.localStore,t,!0),Gy(i,t,r);break;default:ru()}})).apply(this,arguments)}function m_(e,t,n){return y_.apply(this,arguments)}function y_(){return(y_=(0,Fs.Z)(function*(e,t,n){const r=__(e);if(r.qo){for(const e of t){if(r.ko.has(e)){Xc("SyncEngine","Adding an already active target "+e);continue}const t=yield Og(r.localStore,e),n=yield kg(r.localStore,t);yield Py(r,d_(t),n.targetId,!1),Cm(r.remoteStore,n)}for(const e of n)r.ko.has(e)&&(yield Ag(r.localStore,e,!1).then(()=>{Tm(r.remoteStore,e),Gy(r,e)}).catch($f))}})).apply(this,arguments)}function __(e){const t=su(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ly.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=n_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Uy.bind(null,t),t.No.Tr=fy.bind(null,t.eventManager),t.No.jo=gy.bind(null,t.eventManager),t}function v_(e){const t=su(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Zy.bind(null,t),t}class w_{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Fs.Z)(function*(){t.N=um(e.databaseInfo.databaseId),t.sharedClientState=t.Wo(e),t.persistence=t.Go(e),yield t.persistence.start(),t.gcScheduler=t.zo(e),t.localStore=t.Ho(e)})()}zo(e){return null}Ho(e){return vg(this.persistence,new yg,e.initialUser,this.N)}Go(e){return new Bg($g.Ns,this.N)}Wo(e){return new nm}terminate(){var e=this;return(0,Fs.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class b_ extends w_{constructor(e,t,n){super(),this.Jo=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,n=this;return(0,Fs.Z)(function*(){yield t().call(n,e),yield function(e){return Rg.apply(this,arguments)}(n.localStore),yield n.Jo.initialize(n,e),yield v_(n.Jo.syncEngine),yield Vm(n.Jo.remoteStore),yield n.persistence.nn(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()))})()}Ho(e){return vg(this.persistence,new yg,e.initialUser,this.N)}zo(e){return new Qf(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Go(e){const t=pg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Rf.withCacheSize(this.cacheSizeBytes):Rf.DEFAULT;return new ug(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,lm(),cm(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new nm}}class C_ extends b_{constructor(e,t){super(e,t,!1),this.Jo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,n=this;return(0,Fs.Z)(function*(){yield t().call(n,e);const r=n.Jo.syncEngine;n.sharedClientState instanceof tm&&(n.sharedClientState.syncEngine={_i:a_.bind(null,r),mi:f_.bind(null,r),gi:m_.bind(null,r),pn:p_.bind(null,r),wi:s_.bind(null,r)},yield n.sharedClientState.start()),yield n.persistence.nn(function(){var e=(0,Fs.Z)(function*(e){yield function(e,t){return c_.apply(this,arguments)}(n.Jo.syncEngine,e),n.gcScheduler&&(e&&!n.gcScheduler.started?n.gcScheduler.start(n.localStore):e||n.gcScheduler.stop())});return function(t){return e.apply(this,arguments)}}())})()}Wo(e){const t=lm();if(!tm.bt(t))throw new au(ou.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=pg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new tm(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class T_{initialize(e,t){var n=this;return(0,Fs.Z)(function*(){n.localStore||(n.localStore=e.localStore,n.sharedClientState=e.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!e.synchronizeTabs),n.sharedClientState.onlineStateHandler=e=>Fy(n.syncEngine,e,1),n.remoteStore.remoteSyncer.handleCredentialChange=e_.bind(null,n.syncEngine),yield Xm(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cy}createDatastore(e){const t=um(e.databaseInfo.databaseId),n=new am(e.databaseInfo);return function(e,t,n){return new gm(e,t,n)}(e.credentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Fy(this.syncEngine,e,0),s=im.bt()?new im:new rm,new ym(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new ky(e,t,n,r,i,s);return o&&(a.qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Fs.Z)(function*(e){const t=su(e);Xc("RemoteStore","RemoteStore shutting down."),t.Kr.add(5),yield wm(t),t.Qr.shutdown(),t.Wr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function I_(e,t=10240){let n=0;return{read:()=>(0,Fs.Z)(function*(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}})(),cancel:()=>(0,Fs.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class E_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class S_{constructor(e,t){this.Zo=e,this.N=t,this.metadata=new lu,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(e=>{e&&e.ho()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))},e=>this.metadata.reject(e))}close(){return this.Zo.cancel()}getMetadata(){var e=this;return(0,Fs.Z)(function*(){return e.metadata.promise})()}Qo(){var e=this;return(0,Fs.Z)(function*(){return yield e.getMetadata(),e.ea()})()}ea(){var e=this;return(0,Fs.Z)(function*(){const t=yield e.na();if(null===t)return null;const n=e.ta.decode(t),r=Number(n);isNaN(r)&&e.sa(`length string (${n}) is not valid number`);const i=yield e.ia(r);return new _y(JSON.parse(i),t.length+r)})()}ra(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}na(){var e=this;return(0,Fs.Z)(function*(){for(;e.ra()<0&&!(yield e.oa()););if(0===e.buffer.length)return null;const t=e.ra();t<0&&e.sa("Reached the end of bundle when a length string is expected.");const n=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),n})()}ia(e){var t=this;return(0,Fs.Z)(function*(){for(;t.buffer.length<e;)(yield t.oa())&&t.sa("Reached the end of bundle when more is expected.");const n=t.ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),n})()}sa(e){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${e}`)}oa(){var e=this;return(0,Fs.Z)(function*(){const t=yield e.Zo.read();if(!t.done){const n=new Uint8Array(e.buffer.length+t.value.length);n.set(e.buffer),n.set(t.value,e.buffer.length),e.buffer=n}return t.done})()}}class k_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Fs.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new au(ou.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=yield(r=(0,Fs.Z)(function*(e,t){const n=su(e),r=cp(n.N)+"/documents",i={documents:t.map(e=>sp(n.N,e))},s=yield n.Ki("BatchGetDocuments",r,i),o=new Map;s.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){iu(!!t.found);const n=op(e,t.found.name),r=np(t.found.updateTime),i=new rh({mapValue:{fields:t.found.fields}});return sh.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){iu(!!t.missing),iu(!!t.readTime);const n=op(e,t.missing),r=np(t.readTime);return sh.newNoDocument(n,r)}(e,t):ru()}(n.N,e);o.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=o.get(e.toString());iu(!!t),a.push(t)}),a}),function(e,t){return r.apply(this,arguments)})(t.datastore,e);var r;return n.forEach(e=>t.recordVersion(e)),n})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new vd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Fs.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var n;e.mutations.forEach(e=>{t.delete(e.key.toString())}),t.forEach((t,n)=>{const r=Zu.fromPath(n);e.mutations.push(new wd(r,e.precondition(r)))}),yield(n=(0,Fs.Z)(function*(e,t){const n=su(e),r=cp(n.N)+"/documents",i={writes:t.map(e=>pp(n.N,e))};yield n.Li("Commit",r,i)}),function(e,t){return n.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ru();t=Cu.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new au(ou.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?od.updateTime(t):od.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Cu.min()))throw new au(ou.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return od.updateTime(t)}return od.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class A_{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.aa=5,this.rr=new hm(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var e=this;this.rr.Xi((0,Fs.Z)(function*(){const t=new k_(e.datastore),n=e.ua(t);n&&n.then(n=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(n)}).catch(t=>{e.ha(t)}))}).catch(t=>{e.ha(t)})}))}ua(e){try{const t=this.updateFunction(e);return!Vu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(e)}la(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Id(t)}return!1}}class x_{constructor(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Kc.UNAUTHENTICATED,this.clientId=yu.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var e=(0,Fs.Z)(function*(e){Xc("FirestoreClient","Received user=",e.uid),yield r.credentialListener(e),r.user=e});return function(t){return e.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,Fs.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new au(ou.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new lu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Fs.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(n){const e=iy(n,"Failed to shutdown persistence");t.reject(e)}})),t.promise}}function P_(e,t){return O_.apply(this,arguments)}function O_(){return(O_=(0,Fs.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress(),Xc("FirestoreClient","Initializing OfflineComponentProvider");const n=yield e.getConfiguration();yield t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(function(){var e=(0,Fs.Z)(function*(e){r.isEqual(e)||(yield wg(t.localStore,e),r=e)});return function(t){return e.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t})).apply(this,arguments)}function N_(e,t){return R_.apply(this,arguments)}function R_(){return(R_=(0,Fs.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress();const n=yield D_(e);Xc("FirestoreClient","Initializing OnlineComponentProvider");const r=yield e.getConfiguration();yield t.initialize(n,r),e.setCredentialChangeListener(e=>{return(n=(0,Fs.Z)(function*(e,t){const n=su(e);n.asyncQueue.verifyOperationInProgress(),Xc("RemoteStore","RemoteStore received new credentials");const r=Am(n);n.Kr.add(3),yield wm(n),r&&n.Wr.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(t),n.Kr.delete(3),yield _m(n)}),function(e,t){return n.apply(this,arguments)})(t.remoteStore,e);var n}),e.onlineComponents=t})).apply(this,arguments)}function D_(e){return L_.apply(this,arguments)}function L_(){return(L_=(0,Fs.Z)(function*(e){return e.offlineComponents||(Xc("FirestoreClient","Using default OfflineComponentProvider"),yield P_(e,new w_)),e.offlineComponents})).apply(this,arguments)}function M_(e){return F_.apply(this,arguments)}function F_(){return(F_=(0,Fs.Z)(function*(e){return e.onlineComponents||(Xc("FirestoreClient","Using default OnlineComponentProvider"),yield N_(e,new T_)),e.onlineComponents})).apply(this,arguments)}function U_(e){return D_(e).then(e=>e.persistence)}function V_(e){return D_(e).then(e=>e.localStore)}function q_(e){return M_(e).then(e=>e.remoteStore)}function j_(e){return M_(e).then(e=>e.syncEngine)}function Z_(e){return z_.apply(this,arguments)}function z_(){return(z_=(0,Fs.Z)(function*(e){const t=yield M_(e),n=t.eventManager;return n.onListen=Ay.bind(null,t.syncEngine),n.onUnlisten=Ny.bind(null,t.syncEngine),n})).apply(this,arguments)}function B_(e,t,n={}){const r=new lu;return e.asyncQueue.enqueueAndForget((0,Fs.Z)(function*(){return function(e,t,n,r,i){const s=new E_({next:s=>{t.enqueueAndForget(()=>dy(e,o));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new au(ou.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new au(ou.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new yy(Ah(n.path),s,{includeMetadataChanges:!0,uo:!0});return uy(e,o)}(yield Z_(e),e.asyncQueue,t,n,r)})),r.promise}function H_(e,t,n={}){const r=new lu;return e.asyncQueue.enqueueAndForget((0,Fs.Z)(function*(){return function(e,t,n,r,i){const s=new E_({next:n=>{t.enqueueAndForget(()=>dy(e,o)),n.fromCache&&"server"===r.source?i.reject(new au(ou.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new yy(n,s,{includeMetadataChanges:!0,uo:!0});return uy(e,o)}(yield Z_(e),e.asyncQueue,t,n,r)})),r.promise}class $_{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class G_{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof G_&&e.projectId===this.projectId&&e.database===this.database}}const W_=new Map;function K_(e,t,n){if(!n)throw new au(ou.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Q_(e,t,n,r){if(!0===t&&!0===r)throw new au(ou.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Y_(e){if(!Zu.isDocumentKey(e))throw new au(ou.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function J_(e){if(Zu.isDocumentKey(e))throw new au(ou.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function X_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":ru()}function ev(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new au(ou.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=X_(e);throw new au(ou.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function tv(e,t){if(t<=0)throw new au(ou.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class nv{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new au(ou.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new au(ou.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Q_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rv{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nv({}),this._settingsFrozen=!1,e instanceof G_?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new au(ou.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new G_(e.options.projectId)}(e))}get app(){if(!this._app)throw new au(ou.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new au(ou.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nv(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new uu;switch(e.type){case"gapi":const t=e.client;return iu(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new fu(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new au(ou.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=W_.get(e);t&&(Xc("ComponentProvider","Removing Datastore"),W_.delete(e),t.terminate())}(this),Promise.resolve()}}class iv{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ov(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new iv(this.firestore,e,this._key)}}class sv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new sv(this.firestore,e,this._query)}}class ov extends sv{constructor(e,t,n){super(e,t,Ah(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new iv(this.firestore,null,new Zu(e))}withConverter(e){return new ov(this.firestore,e,this._path)}}function av(e,t,...n){if(e=(0,js.m9)(e),K_("collection","path",t),e instanceof rv){const r=ku.fromString(t,...n);return J_(r),new ov(e,null,r)}{if(!(e instanceof iv||e instanceof ov))throw new au(ou.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ku.fromString(t,...n));return J_(r),new ov(e.firestore,null,r)}}function lv(e,t,...n){if(e=(0,js.m9)(e),1===arguments.length&&(t=yu.I()),K_("doc","path",t),e instanceof rv){const r=ku.fromString(t,...n);return Y_(r),new iv(e,null,new Zu(r))}{if(!(e instanceof iv||e instanceof ov))throw new au(ou.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ku.fromString(t,...n));return Y_(r),new iv(e.firestore,e instanceof ov?e.converter:null,new Zu(r))}}function cv(e,t){return e=(0,js.m9)(e),t=(0,js.m9)(t),(e instanceof iv||e instanceof ov)&&(t instanceof iv||t instanceof ov)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function uv(e,t){return e=(0,js.m9)(e),t=(0,js.m9)(t),e instanceof sv&&t instanceof sv&&e.firestore===t.firestore&&Fh(e._query,t._query)&&e.converter===t.converter}class hv{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new hm(this,"async_queue_retry"),this.Ea=()=>{const e=cm();e&&Xc("AsyncQueue","Visibility state changed to "+e.visibilityState),this.rr.tr()};const e=cm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ta(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=cm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ea)}}enqueue(e){if(this.Ta(),this.wa)return new Promise(()=>{});const t=new lu;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}Aa(){var e=this;return(0,Fs.Z)(function*(){if(0!==e.da.length){try{yield e.da[0](),e.da.shift(),e.rr.reset()}catch(t){if(!rf(t))throw t;Xc("AsyncQueue","Operation failed with retryable error: "+t)}e.da.length>0&&e.rr.Xi(()=>e.Aa())}})()}Ia(e){const t=this.fa.then(()=>(this.ga=!0,e().catch(e=>{throw this.ma=e,this.ga=!1,eu("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.ga=!1,e))));return this.fa=t,t}enqueueAfterDelay(e,t,n){this.Ta(),this.pa.indexOf(e)>-1&&(t=0);const r=ry.createAndSchedule(this,e,t,n,e=>this.Ra(e));return this._a.push(r),r}Ta(){this.ma&&ru()}verifyOperationInProgress(){}ba(){var e=this;return(0,Fs.Z)(function*(){let t;do{t=e.fa,yield t}while(t!==e.fa)})()}Pa(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.ba().then(()=>{this._a.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ba()})}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function dv(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class pv{constructor(){this._progressObserver={},this._taskCompletionResolver=new lu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class fv extends rv{constructor(e,t){super(e,t),this.type="firestore",this._queue=new hv,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||mv(this),this._firestoreClient.terminate()}}function gv(e){return e._firestoreClient||mv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function mv(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new $_(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new x_(e._credentials,e._queue,r)}function yv(e,t,n){const r=new lu;return e.asyncQueue.enqueue((0,Fs.Z)(function*(){try{yield P_(e,n),yield N_(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===ou.FAILED_PRECONDITION||e.code===ou.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}})).then(()=>r.promise)}function _v(e){if(e._initialized||e._terminated)throw new au(ou.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class vv{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new au(ou.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xu(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wv(Ou.fromBase64String(e))}catch(e){throw new au(ou.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new wv(Ou.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bv{constructor(e){this._methodName=e}}class Cv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new au(ou.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new au(ou.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _u(this._lat,e._lat)||_u(this._long,e._long)}}const Tv=/^__.*__$/;class Iv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new gd(e,this.data,this.fieldMask,t,this.fieldTransforms):new fd(e,this.data,t,this.fieldTransforms)}}class Ev{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new gd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Sv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ru()}}class kv{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sa(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new kv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.ka(e),r}$a(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.Sa(),r}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return Gv(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(Sv(this.Da)&&Tv.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class Av{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=n||um(e)}Ba(e,t,n,r=!1){return new kv({Da:e,methodName:t,La:n,path:xu.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function xv(e){const t=e._freezeSettings(),n=um(e._databaseId);return new Av(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Pv(e,t,n,r,i,s={}){const o=e.Ba(s.merge||s.mergeFields?2:0,t,n,i);zv("Data must be an object, but it was:",o,r);const a=jv(r,o);let l,c;if(s.merge)l=new Pu(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Bv(t,r,n);if(!o.contains(i))throw new au(ou.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Wv(e,i)||e.push(i)}l=new Pu(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new Iv(new rh(a),l,c)}class Ov extends bv{_toFieldTransform(e){if(2!==e.Da)throw e.Fa(1===e.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ov}}function Nv(e,t,n){return new kv({Da:3,La:t.settings.La,methodName:e._methodName,xa:n},t.databaseId,t.N,t.ignoreUndefinedProperties)}class Rv extends bv{_toFieldTransform(e){return new id(e.path,new Qh)}isEqual(e){return e instanceof Rv}}class Dv extends bv{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Nv(this,e,!0),n=this.Ua.map(e=>qv(e,t)),r=new Yh(n);return new id(e.path,r)}isEqual(e){return this===e}}class Lv extends bv{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Nv(this,e,!0),n=this.Ua.map(e=>qv(e,t)),r=new Xh(n);return new id(e.path,r)}isEqual(e){return this===e}}class Mv extends bv{constructor(e,t){super(e),this.qa=t}_toFieldTransform(e){const t=new td(e.N,Hh(e.N,this.qa));return new id(e.path,t)}isEqual(e){return this===e}}function Fv(e,t,n,r){const i=e.Ba(1,t,n);zv("Data must be an object, but it was:",i,r);const s=[],o=rh.empty();Iu(r,(e,r)=>{const a=$v(t,e,n);r=(0,js.m9)(r);const l=i.$a(a);if(r instanceof Ov)s.push(a);else{const e=qv(r,l);null!=e&&(s.push(a),o.set(a,e))}});const a=new Pu(s);return new Ev(o,a,i.fieldTransforms)}function Uv(e,t,n,r,i,s){const o=e.Ba(1,t,n),a=[Bv(t,r,n)],l=[i];if(s.length%2!=0)throw new au(ou.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Bv(t,s[d])),l.push(s[d+1]);const c=[],u=rh.empty();for(let d=a.length-1;d>=0;--d)if(!Wv(c,a[d])){const e=a[d];let t=l[d];t=(0,js.m9)(t);const n=o.$a(e);if(t instanceof Ov)c.push(e);else{const r=qv(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Pu(c);return new Ev(u,h,o.fieldTransforms)}function Vv(e,t,n,r=!1){return qv(n,e.Ba(r?4:3,t))}function qv(e,t){if(Zv(e=(0,js.m9)(e)))return zv("Unsupported field value:",t,e),jv(e,t);if(e instanceof bv)return function(e,t){if(!Sv(t.Da))throw t.Fa(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Fa(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xa&&4!==t.Da)throw t.Fa("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=qv(i,t.Oa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,js.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Hh(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=bu.fromDate(e);return{timestampValue:Xd(t.N,n)}}if(e instanceof bu){const n=new bu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Xd(t.N,n)}}if(e instanceof Cv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof wv)return{bytesValue:ep(t.N,e._byteString)};if(e instanceof iv){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Fa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:rp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Fa(`Unsupported field value: ${X_(e)}`)}(e,t)}function jv(e,t){const n={};return Eu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Iu(e,(e,r)=>{const i=qv(r,t.Na(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Zv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof bu||e instanceof Cv||e instanceof wv||e instanceof iv||e instanceof bv)}function zv(e,t,n){if(!Zv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=X_(n);throw t.Fa("an object"===r?e+" a custom object":e+" "+r)}}function Bv(e,t,n){if((t=(0,js.m9)(t))instanceof vv)return t._internalPath;if("string"==typeof t)return $v(e,t);throw Gv("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const Hv=new RegExp("[~\\*/\\[\\]]");function $v(e,t,n){if(t.search(Hv)>=0)throw Gv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new vv(...t.split("."))._internalPath}catch(r){throw Gv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Gv(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new au(ou.INVALID_ARGUMENT,a+e+l)}function Wv(e,t){return e.some(e=>e.isEqual(t))}class Kv{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new iv(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Yv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Qv extends Kv{data(){return super.data()}}function Yv(e,t){return"string"==typeof t?$v(e,t):t instanceof vv?t._internalPath:t._delegate._internalPath}class Jv{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xv extends Kv{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ew(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Yv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class ew extends Xv{data(e={}){return super.data(e)}}class tw{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Jv(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new ew(this._firestore,this._userDataWriter,n.key,n,new Jv(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new au(ou.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>({type:"added",doc:new ew(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Jv(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new ew(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Jv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:nw(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function nw(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ru()}}function rw(e,t){return e instanceof Xv&&t instanceof Xv?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof tw&&t instanceof tw&&e._firestore===t._firestore&&uv(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function iw(e){if(Ph(e)&&0===e.explicitOrderBy.length)throw new au(ou.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sw{}function ow(e,...t){for(const n of t)e=n._apply(e);return e}class aw extends sw{constructor(e,t,n){super(),this.Ka=e,this.ja=t,this.Qa=n,this.type="where"}_apply(e){const t=xv(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new au(ou.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on FieldPath.documentId().`);if("in"===s||"not-in"===s){fw(o,s);const t=[];for(const n of o)t.push(pw(r,e,n));a={arrayValue:{values:t}}}else a=pw(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||fw(o,s),a=Vv(n,"where",o,"in"===s||"not-in"===s);const l=hh.create(i,s,a);return function(e,t){if(t.v()){const n=Nh(e);if(null!==n&&!n.isEqual(t.field))throw new au(ou.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=Oh(e);null!==r&&gw(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw new au(ou.INVALID_ARGUMENT,n===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,l),l}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new sv(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new Sh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class lw extends sw{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new au(ou.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new au(ou.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Ch(t,n);return function(e,t){if(null===Oh(e)){const n=Nh(e);null!==n&&gw(0,n,t.field)}}(e,r),r}(e._query,this.Ka,this.Wa);return new sv(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Sh(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class cw extends sw{constructor(e,t,n){super(),this.type=e,this.Ga=t,this.za=n}_apply(e){return new sv(e.firestore,e.converter,Mh(e._query,this.Ga,this.za))}}class uw extends sw{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=dw(e,this.type,this.Ha,this.Ja);return new sv(e.firestore,e.converter,function(e,t){return new Sh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class hw extends sw{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=dw(e,this.type,this.Ha,this.Ja);return new sv(e.firestore,e.converter,function(e,t){return new Sh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function dw(e,t,n,r){if(n[0]=(0,js.m9)(n[0]),n[0]instanceof Kv)return function(e,t,n,r,i){if(!r)throw new au(ou.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of Dh(e))if(o.field.isKeyField())s.push(Qu(t,r.key));else{const e=r.data.field(o.field);if(Mu(e))throw new au(ou.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new au(ou.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new wh(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=xv(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new au(ou.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new au(ou.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!Rh(e)&&-1!==s.indexOf("/"))throw new au(ou.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(ku.fromString(s));if(!Zu.isDocumentKey(n))throw new au(ou.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new Zu(n);a.push(Qu(t,i))}else{const e=Vv(n,r,s);a.push(e)}}return new wh(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function pw(e,t,n){if("string"==typeof(n=(0,js.m9)(n))){if(""===n)throw new au(ou.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rh(t)&&-1!==n.indexOf("/"))throw new au(ou.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ku.fromString(n));if(!Zu.isDocumentKey(r))throw new au(ou.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qu(e,new Zu(r))}if(n instanceof iv)return Qu(e,n._key);throw new au(ou.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${X_(n)}.`)}function fw(e,t){if(!Array.isArray(e)||0===e.length)throw new au(ou.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new au(ou.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function gw(e,t,n){if(!n.isEqual(t))throw new au(ou.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class mw{convertValue(e,t="none"){switch(zu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Du(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Lu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ru()}}convertObject(e,t){const n={};return Iu(e.fields,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new Cv(Du(e.latitude),Du(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Fu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Uu(e));default:return null}}convertTimestamp(e){const t=Ru(e);return new bu(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ku.fromString(e);iu(Ap(n));const r=new G_(n.get(1),n.get(3)),i=new Zu(n.popFirst(5));return r.isEqual(t)||eu(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function yw(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class _w extends mw{constructor(e){super(),this.firestore=e}convertBytes(e){return new wv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new iv(this.firestore,null,t)}}class vw{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=xv(e)}set(e,t,n){this._verifyNotCommitted();const r=ww(e,this._firestore),i=yw(r.converter,t,n),s=Pv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,od.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=ww(e,this._firestore);let s;return s="string"==typeof(t=(0,js.m9)(t))||t instanceof vv?Uv(this._dataReader,"WriteBatch.update",i._key,t,n,r):Fv(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,od.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ww(e,this._firestore);return this._mutations=this._mutations.concat(new vd(t._key,od.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new au(ou.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ww(e,t){if((e=(0,js.m9)(e)).firestore!==t)throw new au(ou.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class bw extends mw{constructor(e){super(),this.firestore=e}convertBytes(e){return new wv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new iv(this.firestore,null,t)}}function Cw(e,t,n){e=ev(e,iv);const r=ev(e.firestore,fv),i=yw(e.converter,t,n);return Ew(r,[Pv(xv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,od.none())])}function Tw(e,t,n,...r){e=ev(e,iv);const i=ev(e.firestore,fv),s=xv(i);let o;return o="string"==typeof(t=(0,js.m9)(t))||t instanceof vv?Uv(s,"updateDoc",e._key,t,n,r):Fv(s,"updateDoc",e._key,t),Ew(i,[o.toMutation(e._key,od.exists(!0))])}function Iw(e,...t){var n,r,i;e=(0,js.m9)(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||dv(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(dv(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let l,c,u;if(e instanceof iv)c=ev(e.firestore,fv),u=Ah(e._key.path),l={next:n=>{t[o]&&t[o](Sw(c,e,n))},error:t[o+1],complete:t[o+2]};else{const n=ev(e,sv);c=ev(n.firestore,fv),u=n._query;const r=new bw(c);l={next:e=>{t[o]&&t[o](new tw(c,r,n,e))},error:t[o+1],complete:t[o+2]},iw(e._query)}return function(e,t,n,r){const i=new E_(r),s=new yy(t,i,n);return e.asyncQueue.enqueueAndForget((0,Fs.Z)(function*(){return uy(yield Z_(e),s)})),()=>{i.Xo(),e.asyncQueue.enqueueAndForget((0,Fs.Z)(function*(){return dy(yield Z_(e),s)}))}}(gv(c),u,a,l)}function Ew(e,t){return function(e,t){const n=new lu;return e.asyncQueue.enqueueAndForget((0,Fs.Z)(function*(){return function(e,t,n){return Dy.apply(this,arguments)}(yield j_(e),t,n)})),n.promise}(gv(e),t)}function Sw(e,t,n){const r=n.docs.get(t._key),i=new bw(e);return new Xv(e,i,t._key,r,new Jv(n.hasPendingWrites,n.fromCache),t.converter)}class kw extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=xv(e)}get(e){const t=ww(e,this._firestore),n=new _w(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return ru();const r=e[0];if(r.isFoundDocument())return new Kv(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Kv(this._firestore,n,t._key,null,t.converter);throw ru()})}set(e,t,n){const r=ww(e,this._firestore),i=yw(r.converter,t,n),s=Pv(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=ww(e,this._firestore);let s;return s="string"==typeof(t=(0,js.m9)(t))||t instanceof vv?Uv(this._dataReader,"Transaction.update",i._key,t,n,r):Fv(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=ww(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ww(e,this._firestore),n=new bw(this._firestore);return super.get(e).then(e=>new Xv(this._firestore,n,t._key,e._document,new Jv(!1,!1),t.converter))}}function Aw(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new au("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function xw(){if("undefined"==typeof Uint8Array)throw new au("unimplemented","Uint8Arrays are not available in this environment.")}function Pw(){if("undefined"==typeof atob)throw new au("unimplemented","Blobs are unavailable in Firestore in this environment.")}Qc=Us.SDK_VERSION,(0,Us._registerComponent)(new Vs.wA("firestore",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=new fv(n,new du(e.getProvider("auth-internal")));return t=Object.assign({useFetchStreams:!0},t),r._setSettings(t),r},"PUBLIC")),(0,Us.registerVersion)("@firebase/firestore","3.1.0",void 0);class Ow{constructor(e){this._delegate=e}static fromBase64String(e){return Pw(),new Ow(wv.fromBase64String(e))}static fromUint8Array(e){return xw(),new Ow(wv.fromUint8Array(e))}toBase64(){return Pw(),this._delegate.toBase64()}toUint8Array(){return xw(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Nw(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class Rw{enableIndexedDbPersistence(e,t){return function(e,t){_v(e=ev(e,fv));const n=gv(e),r=e._freezeSettings(),i=new T_;return yv(n,i,new b_(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){_v(e=ev(e,fv));const t=gv(e),n=e._freezeSettings(),r=new T_;return yv(t,r,new C_(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new au(ou.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new lu;return e._queue.enqueueAndForgetEvenWhileRestricted((0,Fs.Z)(function*(){try{yield(n=(0,Fs.Z)(function*(e){if(!ef.bt())return Promise.resolve();const t=e+"main";yield ef.delete(t)}),function(e){return n.apply(this,arguments)})(pg(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var n})),t.promise}(e._delegate)}}class Dw{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof G_||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||tu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const s=(e=ev(e,rv))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&tu("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Kc.MOCK_USER;else{t=(0,js.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new au(ou.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Kc(s)}e._credentials=new hu(new cu(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return e.asyncQueue.enqueue((0,Fs.Z)(function*(){const t=yield U_(e),n=yield q_(e);return t.setNetworkEnabled(!0),function(e){const t=su(e);return t.Kr.delete(0),_m(t)}(n)}))}(gv(ev(this._delegate,fv)))}disableNetwork(){return function(e){return e.asyncQueue.enqueue((0,Fs.Z)(function*(){const t=yield U_(e),n=yield q_(e);return t.setNetworkEnabled(!1),(r=(0,Fs.Z)(function*(e){const t=su(e);t.Kr.add(0),yield wm(t),t.Wr.set("Offline")}),function(e){return r.apply(this,arguments)})(n);var r}))}(gv(ev(this._delegate,fv)))}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Q_("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){const t=new lu;return e.asyncQueue.enqueueAndForget((0,Fs.Z)(function*(){return function(e,t){return By.apply(this,arguments)}(yield j_(e),t)})),t.promise}(gv(ev(this._delegate,fv)))}onSnapshotsInSync(e){return t=e,function(e,t){const n=new E_(t);return e.asyncQueue.enqueueAndForget((0,Fs.Z)(function*(){return function(e,t){su(e).Zr.add(t),t.next()}(yield Z_(e),n)})),()=>{n.Xo(),e.asyncQueue.enqueueAndForget((0,Fs.Z)(function*(){return function(e,t){su(e).Zr.delete(t)}(yield Z_(e),n)}))}}(gv(ev(this._delegate,fv)),dv(t)?t:{next:t});var t}get app(){if(!this._appCompat)throw new au("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ww(this,av(this._delegate,e))}catch(t){throw qw(t,"collection()","Firestore.collection()")}}doc(e){try{return new Vw(this,lv(this._delegate,e))}catch(t){throw qw(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Hw(this,function(e,t){if(e=ev(e,rv),K_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new au(ou.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new sv(e,null,function(e){return new Sh(ku.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw qw(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return n=t=>e(new Mw(this,t)),function(e,t){const n=new lu;return e.asyncQueue.enqueueAndForget((0,Fs.Z)(function*(){const r=yield function(e){return M_(e).then(e=>e.datastore)}(e);new A_(e.asyncQueue,r,t,n).run()})),n.promise}(gv(t=this._delegate),e=>n(new kw(t,e)));var t,n}batch(){return gv(this._delegate),new Fw(new vw(this._delegate,e=>Ew(this._delegate,e)))}loadBundle(e){return function(e,t){const n=gv(e=ev(e,fv)),r=new pv;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new S_(e,t)}(function(e,t){if(e instanceof Uint8Array)return I_(e,t);if(e instanceof ArrayBuffer)return I_(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,um(t));e.asyncQueue.enqueueAndForget((0,Fs.Z)(function*(){!function(e,t,n){const r=su(e);var i;(i=(0,Fs.Z)(function*(e,t,n){try{const r=yield t.getMetadata();if(yield function(e,t){const n=su(e),r=np(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Je.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,r))return yield t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r));n._updateProgress(by(r));const i=new wy(r,e.localStore,t.N);let s=yield t.Qo();for(;s;){const e=yield i.fo(s);e&&n._updateProgress(e),s=yield t.Qo()}const o=yield i.complete();yield Jy(e,o.Tn,void 0),yield function(e,t){const n=su(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Je.saveBundleMetadata(e,t))}(e.localStore,r),n._completeWith(o.progress)}catch(e){tu("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e)}}),function(e,t,n){return i.apply(this,arguments)})(r,t,n).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield j_(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return(t=this._delegate,n=e,function(e,t){return e.asyncQueue.enqueue((0,Fs.Z)(function*(){return function(e,t){const n=su(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Je.getNamedQuery(e,t))}(yield V_(e),t)}))}(gv(t=ev(t,fv)),n).then(e=>e?new sv(t,null,e.query):null)).then(e=>e?new Hw(this,e):null);var t,n}}class Lw extends mw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ow(new wv(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Vw.forKey(t,this.firestore,null)}}class Mw{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Lw(e)}get(e){const t=Kw(e);return this._delegate.get(t).then(e=>new zw(this._firestore,new Xv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=Kw(e);return n?(Aw("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=Kw(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=Kw(e);return this._delegate.delete(t),this}}class Fw{constructor(e){this._delegate=e}set(e,t,n){const r=Kw(e);return n?(Aw("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=Kw(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=Kw(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}let Uw=(()=>{class e{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new ew(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Bw(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(t,n){const r=e.INSTANCES;let i=r.get(t);i||(i=new WeakMap,r.set(t,i));let s=i.get(n);return s||(s=new e(t,new Lw(t),n),i.set(n,s)),s}}return e.INSTANCES=new WeakMap,e})();class Vw{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Lw(e)}static forPath(e,t,n){if(e.length%2!=0)throw new au("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Vw(t,new iv(t._delegate,n,new Zu(e)))}static forKey(e,t,n){return new Vw(t,new iv(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Ww(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ww(this.firestore,av(this._delegate,e))}catch(t){throw qw(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,js.m9)(e))instanceof iv&&cv(this._delegate,e)}set(e,t){t=Aw("DocumentReference.set",t);try{return t?Cw(this._delegate,e,t):Cw(this._delegate,e)}catch(n){throw qw(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?Tw(this._delegate,e):Tw(this._delegate,e,t,...n)}catch(r){throw qw(r,"updateDoc()","DocumentReference.update()")}}delete(){return Ew(ev((e=this._delegate).firestore,fv),[new vd(e._key,od.none())]);var e}onSnapshot(...e){const t=jw(e),n=Zw(e,e=>new zw(this.firestore,new Xv(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return Iw(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=ev(e,iv);const t=ev(e.firestore,fv),n=gv(t),r=new bw(t);return function(e,t){const n=new lu;return e.asyncQueue.enqueueAndForget((0,Fs.Z)(function*(){return(r=(0,Fs.Z)(function*(e,t,n){try{const r=yield function(e,t){const n=su(e);return n.persistence.runTransaction("read document","readonly",e=>n.Qn.An(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new au(ou.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=iy(e,`Failed to get document '${t} from cache`);n.reject(r)}}),function(e,t,n){return r.apply(this,arguments)})(yield V_(e),t,n);var r})),n.promise}(n,e._key).then(n=>new Xv(t,r,e._key,n,new Jv(null!==n&&n.hasLocalMutations,!0),e.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=ev(e,iv);const t=ev(e.firestore,fv);return B_(gv(t),e._key,{source:"server"}).then(n=>Sw(t,e,n))}(this._delegate):function(e){e=ev(e,iv);const t=ev(e.firestore,fv);return B_(gv(t),e._key).then(n=>Sw(t,e,n))}(this._delegate),t.then(e=>new zw(this.firestore,new Xv(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new Vw(this.firestore,this._delegate.withConverter(e?Uw.getInstance(this.firestore,e):null))}}function qw(e,t,n){return e.message=e.message.replace(t,n),e}function jw(e){for(const t of e)if("object"==typeof t&&!Nw(t))return t;return{}}function Zw(e,t){var n,r;let i;return i=Nw(e[0])?e[0]:Nw(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class zw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Vw(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return rw(this._delegate,e._delegate)}}class Bw extends zw{data(e){const t=this._delegate.data(e);return void 0!==t||ru(),t}}class Hw{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Lw(e)}where(e,t,n){try{return new Hw(this.firestore,ow(this._delegate,function(e,t,n){const r=t,i=Yv("where",e);return new aw(i,r,n)}(e,t,n)))}catch(r){throw qw(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Hw(this.firestore,ow(this._delegate,function(e,t="asc"){const n=t,r=Yv("orderBy",e);return new lw(r,n)}(e,t)))}catch(n){throw qw(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Hw(this.firestore,ow(this._delegate,(tv("limit",t=e),new cw("limit",t,"F"))))}catch(n){throw qw(n,"limit()","Query.limit()")}var t}limitToLast(e){try{return new Hw(this.firestore,ow(this._delegate,(tv("limitToLast",t=e),new cw("limitToLast",t,"L"))))}catch(n){throw qw(n,"limitToLast()","Query.limitToLast()")}var t}startAt(...e){try{return new Hw(this.firestore,ow(this._delegate,function(...e){return new uw("startAt",e,!0)}(...e)))}catch(t){throw qw(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Hw(this.firestore,ow(this._delegate,function(...e){return new uw("startAfter",e,!1)}(...e)))}catch(t){throw qw(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Hw(this.firestore,ow(this._delegate,function(...e){return new hw("endBefore",e,!0)}(...e)))}catch(t){throw qw(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Hw(this.firestore,ow(this._delegate,function(...e){return new hw("endAt",e,!1)}(...e)))}catch(t){throw qw(t,"endAt()","Query.endAt()")}}isEqual(e){return uv(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=ev(e,sv);const t=ev(e.firestore,fv),n=gv(t),r=new bw(t);return function(e,t){const n=new lu;return e.asyncQueue.enqueueAndForget((0,Fs.Z)(function*(){return(r=(0,Fs.Z)(function*(e,t,n){try{const r=yield Pg(e,t,!0),i=new Iy(t,r.Gn),s=i.Io(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=iy(e,`Failed to execute query '${t} against cache`);n.reject(r)}}),function(e,t,n){return r.apply(this,arguments)})(yield V_(e),t,n);var r})),n.promise}(n,e._query).then(n=>new tw(t,r,e,n))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=ev(e,sv);const t=ev(e.firestore,fv),n=gv(t),r=new bw(t);return H_(n,e._query,{source:"server"}).then(n=>new tw(t,r,e,n))}(this._delegate):function(e){e=ev(e,sv);const t=ev(e.firestore,fv),n=gv(t),r=new bw(t);return iw(e._query),H_(n,e._query).then(n=>new tw(t,r,e,n))}(this._delegate),t.then(e=>new Gw(this.firestore,new tw(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(...e){const t=jw(e),n=Zw(e,e=>new Gw(this.firestore,new tw(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return Iw(this._delegate,t,n)}withConverter(e){return new Hw(this.firestore,this._delegate.withConverter(e?Uw.getInstance(this.firestore,e):null))}}class $w{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Bw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Gw{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Hw(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Bw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new $w(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new Bw(this._firestore,n))})}isEqual(e){return rw(this._delegate,e._delegate)}}class Ww extends Hw{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Vw(this.firestore,e):null}doc(e){try{return new Vw(this.firestore,void 0===e?lv(this._delegate):lv(this._delegate,e))}catch(t){throw qw(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=ev(e.firestore,fv),r=lv(e),i=yw(e.converter,t);return Ew(n,[Pv(xv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,od.exists(!1))]).then(()=>r)}(this._delegate,e).then(e=>new Vw(this.firestore,e))}isEqual(e){return cv(this._delegate,e._delegate)}withConverter(e){return new Ww(this.firestore,this._delegate.withConverter(e?Uw.getInstance(this.firestore,e):null))}}function Kw(e){return ev(e,iv)}class Qw{constructor(...e){this._delegate=new vv(...e)}static documentId(){return new Qw(xu.keyField().canonicalString())}isEqual(e){return(e=(0,js.m9)(e))instanceof vv&&this._delegate._internalPath.isEqual(e._internalPath)}}class Yw{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Rv("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Yw(e)}static delete(){const e=new Ov("deleteField");return e._methodName="FieldValue.delete",new Yw(e)}static arrayUnion(...e){const t=function(...e){return new Dv("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new Yw(t)}static arrayRemove(...e){const t=function(...e){return new Lv("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new Yw(t)}static increment(e){const t=new Mv("increment",e);return t._methodName="FieldValue.increment",new Yw(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Jw={Firestore:Dw,GeoPoint:Cv,Timestamp:bu,Blob:Ow,Transaction:Mw,WriteBatch:Fw,DocumentReference:Vw,DocumentSnapshot:zw,Query:Hw,QueryDocumentSnapshot:Bw,QuerySnapshot:Gw,CollectionReference:Ww,FieldPath:Qw,FieldValue:Yw,setLogLevel:function(e){Yc.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};var Xw,eb;eb=(e,t)=>new Dw(e,t,new Rw),(Xw=Ms.Z).INTERNAL.registerComponent(new Vs.wA("firestore-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("firestore").getImmediate();return eb(t,n)},"PUBLIC").setServiceProps(Object.assign({},Jw))),Xw.registerVersion("@firebase/firestore-compat","0.1.3");var tb=n(1906),nb=n(45),rb=n(8489),ib=n(9291);class sb extends vt.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new ob(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new wt.N;if(this.isStopped||this.hasError?s=vn.w.EMPTY:(this.observers.push(e),s=new ib.W(this,e)),r&&e.add(e=new nb.ht(e,r)),t)for(let o=0;o<i&&!e.closed;o++)e.next(n[o]);else for(let o=0;o<i&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s}_getNow(){return(this.scheduler||rb.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(e-r[s].time<n);)s++;return i>t&&(s=Math.max(s,i-t)),s>0&&r.splice(0,s),r}}class ob{constructor(e,t){this.time=e,this.value=t}}function ab(e,t,n){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,l=!1;return function(c){let u;o++,!i||a?(a=!1,i=new sb(e,t,r),u=i.subscribe(this),s=c.subscribe({next(e){i.next(e)},error(e){a=!0,i.error(e)},complete(){l=!0,s=void 0,i.complete()}}),l&&(s=void 0)):u=i.subscribe(this),this.add(()=>{o--,u.unsubscribe(),u=void 0,s&&!l&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function lb(e,t){return t?Vt(()=>e,t):Vt(()=>e)}var cb=n(2893),ub=n(9001);const hb=new r.OlP("angularfire2.auth.use-emulator"),db=new r.OlP("angularfire2.auth.settings"),pb=new r.OlP("angularfire2.auth.tenant-id"),fb=new r.OlP("angularfire2.auth.langugage-code"),gb=new r.OlP("angularfire2.auth.use-device-language"),mb=new r.OlP("angularfire.auth.persistence"),yb=(e,t,n,r,i,s,o,a)=>(0,ks.cc)(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const l=t.runOutsideAngular(()=>e.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,s&&l.useDeviceLanguage(),o)for(const[e,t]of Object.entries(o))l.settings[e]=t;return a&&l.setPersistence(a),l},[n,r,i,s,o,a]);let _b=(()=>{class e{constructor(e,t,r,i,s,o,a,l,c,u,h){const d=new vt.xQ,p=(0,_t.of)(void 0).pipe((0,nb.QV)(s.outsideAngular),Vt(()=>i.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,6427)))),(0,fe.U)(()=>(0,Ls.on)(e,i,t)),(0,fe.U)(e=>yb(e,i,o,l,c,u,a,h)),ab({bufferSize:1,refCount:!1}));if(P(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,_t.of)(null);else{p.pipe(mn()).subscribe();const e=p.pipe(Vt(e=>e.getRedirectResult().then(e=>e,()=>null)),ks.iC,ab({bufferSize:1,refCount:!1})),t=p.pipe(Vt(e=>new de.y(t=>({unsubscribe:i.runOutsideAngular(()=>e.onAuthStateChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))})))),n=p.pipe(Vt(e=>new de.y(t=>({unsubscribe:i.runOutsideAngular(()=>e.onIdTokenChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))}))));this.authState=e.pipe(lb(t),(0,cb.R)(s.outsideAngular),(0,nb.QV)(s.insideAngular)),this.user=e.pipe(lb(n),(0,cb.R)(s.outsideAngular),(0,nb.QV)(s.insideAngular)),this.idToken=this.user.pipe(Vt(e=>e?(0,he.D)(e.getIdToken()):(0,_t.of)(null))),this.idTokenResult=this.user.pipe(Vt(e=>e?(0,he.D)(e.getIdTokenResult()):(0,_t.of)(null))),this.credential=(0,tb.T)(e,d,this.authState.pipe(Qt(e=>!e))).pipe((0,fe.U)(e=>(null==e?void 0:e.user)?e:null),(0,cb.R)(s.outsideAngular),(0,nb.QV)(s.insideAngular))}return(0,Ls.pX)(this,p,i,{spy:{apply:(e,t,n)=>{(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(e=>d.next(e))}}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ls.Dh),r.LFG(Ls.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(ks.HU),r.LFG(hb,8),r.LFG(db,8),r.LFG(pb,8),r.LFG(fb,8),r.LFG(gb,8),r.LFG(mb,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})();function vb(e,t){return function(e,t=Ss.z){return new de.y(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(e,t)}function wb(e,t){return vb(e,t).pipe((0,fe.U)(e=>({payload:e,type:"query"})))}function bb(e,t){return wb(e,t).pipe($t(void 0),As(),(0,fe.U)(([e,t])=>{const n=t.payload.docChanges(),r=n.map(e=>({type:e.type,payload:e}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((t,i)=>{const s=n.find(e=>e.doc.ref.isEqual(t.ref)),o=null==e?void 0:e.payload.docs.find(e=>e.ref.isEqual(t.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(t.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(t.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:t}})}),r}))}function Cb(e,t,n){return bb(e,n).pipe(Gt((e,n)=>function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return Tb(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return Tb(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Tb(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(e=>e.payload),t),[]),Os(),(0,fe.U)(e=>e.map(e=>({type:e.type,payload:e}))))}function Tb(e,t,n,...r){const i=e.slice();return i.splice(t,n,...r),i}function Ib(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}(0,Ls.GT)(_b,[{name:null,config:null,emulatorConfig:null,app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class Eb{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=bb(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,fe.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)))),t.pipe($t(void 0),As(),Qt(([e,t])=>t.length>0||!e),(0,fe.U)(([e,t])=>t),ks.iC)}auditTrail(e){return this.stateChanges(e).pipe(Gt((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=Ib(e);return Cb(this.query,t,this.afs.schedulers.outsideAngular).pipe(ks.iC)}valueChanges(e={}){return wb(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),ks.iC)}get(e){return(0,he.D)(this.query.get(e)).pipe(ks.iC)}add(e){return this.ref.add(e)}doc(e){return new Sb(this.ref.doc(e),this.afs)}}class Sb{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:i}=Nb(n,t);return new Eb(r,i,this.afs)}snapshotChanges(){return function(e,t){return vb(e,t).pipe($t(void 0),As(),(0,fe.U)(([e,t])=>t.exists?(null==e?void 0:e.exists)?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ks.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,fe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,he.D)(this.ref.get(e)).pipe(ks.iC)}}class kb{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?bb(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)),Qt(e=>e.length>0),ks.iC):bb(this.query,this.afs.schedulers.outsideAngular).pipe(ks.iC)}auditTrail(e){return this.stateChanges(e).pipe(Gt((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=Ib(e);return Cb(this.query,t,this.afs.schedulers.outsideAngular).pipe(ks.iC)}valueChanges(e={}){return wb(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign({[e.idField]:t.id},t.data()):t.data())),ks.iC)}get(e){return(0,he.D)(this.query.get(e)).pipe(ks.iC)}}const Ab=new r.OlP("angularfire2.enableFirestorePersistence"),xb=new r.OlP("angularfire2.firestore.persistenceSettings"),Pb=new r.OlP("angularfire2.firestore.settings"),Ob=new r.OlP("angularfire2.firestore.use-emulator");function Nb(e,t=(e=>e)){return{query:t(e),ref:e}}let Rb=(()=>{class e{constructor(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g){this.schedulers=o;const m=(0,Ls.on)(e,s,t),y=l;c&&yb(m,s,u,d,p,f,h,g),[this.firestore,this.persistenceEnabled$]=(0,ks.cc)(`${m.name}.firestore`,"AngularFirestore",m.name,()=>{const e=s.runOutsideAngular(()=>m.firestore());if(r&&e.settings(r),y&&e.useEmulator(...y),n&&!P(i)){const t=()=>{try{return(0,he.D)(e.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(t){return"undefined"!=typeof console&&console.warn(t),(0,_t.of)(!1)}};return[e,s.runOutsideAngular(t)]}return[e,(0,_t.of)(!1)]},[r,y,n])}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:i}=Nb(n,t),s=this.schedulers.ngZone.run(()=>r);return new Eb(s,i,this)}collectionGroup(e,t){const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new kb(n(r),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const n=this.schedulers.ngZone.run(()=>t);return new Sb(n,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ls.Dh),r.LFG(Ls.xv,8),r.LFG(Ab,8),r.LFG(Pb,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(ks.HU),r.LFG(xb,8),r.LFG(Ob,8),r.LFG(_b,8),r.LFG(hb,8),r.LFG(db,8),r.LFG(pb,8),r.LFG(fb,8),r.LFG(gb,8),r.LFG(mb,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),Db=(()=>{class e{constructor(){ub.Z.registerVersion("angularfire",ks.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:e,providers:[{provide:Ab,useValue:!0},{provide:xb,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[Rb]}),e})(),Lb=(()=>{class e{constructor(e){this.firebaseService=e}sendData(e){console.log("in service"),this.firebaseService.collection("userdata").add(Object.assign({},e)),console.log(e)}readaddress(){return this.firebaseService.collection("userdata").snapshotChanges()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Rb))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Mb=(()=>{class e{constructor(e,t){this.fb=e,this.contactUsService=t,this.userData=[],this.userDetails=new Es}ngOnInit(){this.contactusForm=this.fb.group({name:new it,number:new it,email:new it,address:new it}),this.contactUsService.readaddress().subscribe(e=>{this.userData=e.map(e=>Object.assign({id:e.payload.doc.id},e.payload.doc.data())),console.log("Data recieved",e)})}Onsubmit(){this.userDetails.name=this.contactusForm.value.name,this.userDetails.email=this.contactusForm.value.email,this.userDetails.address=this.contactusForm.value.address,this.userDetails.number=this.contactusForm.value.number,this.contactUsService.sendData(this.userDetails),window.alert("Your Responce Has Been Submitted Successfully")}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(yt),r.Y36(Lb))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-contact"]],decls:50,vars:1,consts:[["href","https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css","rel","stylesheet"],["id","contact",1,"contact","fade-in-text"],["data-aos","fade-up",1,"container"],[1,"section-title"],[1,"row"],[1,"col-lg-4"],[1,"info"],[1,"address"],["href","https://www.google.com/maps/dir/18.4833773,73.8137652/Audumbar+Colony+-+B,+Snehankit+Colony,+Karve+Nagar,+Pune,+Maharashtra+411052/@18.4835392,73.8109272,17z/data=!3m1!4b1!4m9!4m8!1m1!4e1!1m5!1m1!1s0x3bc2bfdefa1c36db:0x23e2363d97bd8a4!2m2!1d73.8140608!2d18.4837321","target","_blank"],[1,"bx","bx-map"],[1,"email"],[1,"bx","bx-envelope"],[1,"number"],[1,"bx","bx-phone"],[1,"col-lg-8","form1"],[3,"formGroup"],[1,"form-group"],["formControlName","name","type","text","placeholder","Full Name","id","abc",1,"form-control"],["formControlName","number","type","text","placeholder","Contact No","id","xyz",1,"form-control"],["formControlName","email","type","email","placeholder","Email","id","poi",1,"form-control"],["formControlName","address","placeholder","Address","rows","8",1,"form-control"],[1,"text-center"],["type","submit",3,"click"]],template:function(e,t){1&e&&(r.TgZ(0,"head"),r._UZ(1,"link",0),r.qZA(),r.TgZ(2,"section",1),r.TgZ(3,"div",2),r.TgZ(4,"div",3),r.TgZ(5,"h2"),r._uU(6,"Contact"),r.qZA(),r.qZA(),r.TgZ(7,"div",4),r.TgZ(8,"div",5),r.TgZ(9,"div",6),r.TgZ(10,"div",7),r.TgZ(11,"a",8),r._UZ(12,"i",9),r.qZA(),r.TgZ(13,"h2"),r._uU(14,"Location"),r.qZA(),r.TgZ(15,"p"),r._uU(16,"Karve nagar , Pune"),r.qZA(),r.qZA(),r._UZ(17,"br"),r._UZ(18,"br"),r.TgZ(19,"div",10),r._UZ(20,"i",11),r.TgZ(21,"h2"),r._uU(22,"Email:"),r.qZA(),r.TgZ(23,"p"),r._uU(24,"vedantarole3@gmail.com"),r.qZA(),r.qZA(),r._UZ(25,"br"),r._UZ(26,"br"),r.TgZ(27,"div",12),r._UZ(28,"i",13),r.TgZ(29,"h2"),r._uU(30,"Call:"),r.qZA(),r.TgZ(31,"p"),r._uU(32,"+91 9545044387"),r.qZA(),r.qZA(),r._UZ(33,"br"),r._UZ(34,"br"),r.qZA(),r.qZA(),r.TgZ(35,"div",14),r.TgZ(36,"form",15),r.TgZ(37,"div",16),r._UZ(38,"input",17),r.qZA(),r.TgZ(39,"div",16),r._UZ(40,"input",18),r.qZA(),r.TgZ(41,"div",16),r._UZ(42,"input",19),r.qZA(),r.TgZ(43,"div",16),r._UZ(44,"textarea",20),r.qZA(),r.TgZ(45,"div",21),r.TgZ(46,"button",22),r.NdJ("click",function(){return t.Onsubmit()}),r._uU(47,"Submit"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(48,"br"),r._UZ(49,"br")),2&e&&(r.xp6(36),r.Q6J("formGroup",t.contactusForm))},directives:[at,qe,ht,Ce,Ve,pt],styles:[".contact[_ngcontent-%COMP%]{margin-left:10px}.contact[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{font-size:16px;padding:0 30px;font-weight:600;margin-bottom:-10px;margin-top:-2px}.contact[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:15px;margin-bottom:5px;font-weight:600;color:#f5f5f5;padding-left:10px}.contact[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;padding:0 0 0 60px;margin-bottom:0;color:#f5f5f5}.info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#adff2f;float:left;width:44px;height:44px;display:flex;justify-content:center;align-items:center;border-radius:50px;transition:all .3s ease-in-out;margin-left:20px}.contact[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%], .contact[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{margin-top:0}.contact[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:44px}.contact[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{margin-left:-30px}.contact[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background:green;border:0;padding:10px 30px;color:#f5f5f5;transition:.4s;border-radius:50px;box-shadow:none;font-size:14px;margin-right:12%}.contact[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;background:#90ee90}.contact[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .address[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], .contact[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], .contact[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{background:#000;border-radius:20px;border-top:10px;color:#f5f5f5}.contact[_ngcontent-%COMP%]   .form1[_ngcontent-%COMP%]{margin-left:-44px}@media(max-width:510px){.contact[_ngcontent-%COMP%]   .form1[_ngcontent-%COMP%]{margin-left:42px}.contact[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-left:-33px}}"]}),e})();var Fb=n(5024);function Ub(e,t,n,r){return(0,Fb.m)(n)&&(r=n,n=void 0),r?Ub(e,t,n).pipe((0,fe.U)(e=>(0,pe.k)(e)?r(...e):r(e))):new de.y(r=>{Vb(e,t,function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},r,n)})}function Vb(e,t,n,r,i){let s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const r=e;e.addEventListener(t,n,i),s=()=>r.removeEventListener(t,n,i)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const r=e;e.on(t,n),s=()=>r.off(t,n)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const r=e;e.addListener(t,n),s=()=>r.removeListener(t,n)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,o=e.length;s<o;s++)Vb(e[s],t,n,r,i)}r.add(s)}var qb=n(2293);function jb(e){const{index:t,period:n,subscriber:r}=e;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}class Zb{call(e,t){return t.subscribe(new zb(e))}}class zb extends It{constructor(e){super(e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(e){this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(let n=0;n<t&&!this.hasFirst;n++){const t=kt(this,e[n],void 0,n);this.subscriptions&&this.subscriptions.push(t),this.add(t)}this.observables=null}}notifyNext(e,t,n){if(!this.hasFirst){this.hasFirst=!0;for(let e=0;e<this.subscriptions.length;e++)if(e!==n){let t=this.subscriptions[e];t.unsubscribe(),this.remove(t)}this.subscriptions=null}this.destination.next(t)}}n(6054);var Bb=n(5686);function Hb(...e){const t=e[e.length-1];return"function"==typeof t&&e.pop(),(0,At.n)(e,void 0).lift(new $b(t))}class $b{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Gb(e,this.resultSelector))}}class Gb extends Tt.L{constructor(e,t,n=Object.create(null)){super(e),this.resultSelector=t,this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:void 0}_next(e){const t=this.iterators;(0,pe.k)(e)?t.push(new Kb(e)):t.push("function"==typeof e[Bb.hZ]?new Wb(e[Bb.hZ]()):new Qb(this.destination,this,e))}_complete(){const e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(let n=0;n<t;n++){let t=e[n];t.stillUnsubscribed?this.destination.add(t.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const e=this.iterators,t=e.length,n=this.destination;for(let s=0;s<t;s++){let t=e[s];if("function"==typeof t.hasValue&&!t.hasValue())return}let r=!1;const i=[];for(let s=0;s<t;s++){let t=e[s],o=t.next();if(t.hasCompleted()&&(r=!0),o.done)return void n.complete();i.push(o.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}class Wb{constructor(e){this.iterator=e,this.nextResult=e.next()}hasValue(){return!0}next(){const e=this.nextResult;return this.nextResult=this.iterator.next(),e}hasCompleted(){const e=this.nextResult;return Boolean(e&&e.done)}}class Kb{constructor(e){this.array=e,this.index=0,this.length=0,this.length=e.length}[Bb.hZ](){return this}next(e){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class Qb extends Ut.Ds{constructor(e,t,n){super(e),this.parent=t,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Bb.hZ](){return this}next(){const e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(e){this.buffer.push(e),this.parent.checkIterators()}subscribe(){return(0,Ut.ft)(this.observable,new Ut.IY(this))}}function Yb(e){return t=>t.lift(new Jb(e))}class Jb{constructor(e){this.notifier=e}call(e,t){const n=new Xb(e),r=(0,Ut.ft)(this.notifier,new Ut.IY(n));return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}class Xb extends Ut.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function eC(...e){return t=>{let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new tC(e,n))}}class tC{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new nC(e,this.observables,this.project))}}class nC extends It{constructor(e,t,n){super(e),this.observables=t,this.project=n,this.toRespond=[];const r=t.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(kt(this,t[i],void 0,i))}notifyNext(e,t,n){this.values[n]=t;const r=this.toRespond;if(r.length>0){const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}n(8861);var rC=n(1055);const iC=["*"],sC=["dialog"];function oC(e){return null!=e}function aC(e){return(e||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const lC={animation:!0,transitionTimerDelayMs:5};let cC=(()=>{class e{constructor(){this.animation=lC.animation}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e},token:e,providedIn:"root"}),e})();const uC=()=>{},{transitionTimerDelayMs:hC}=lC,dC=new Map,pC=(e,t,n,r)=>{let i=r.context||{};const s=dC.get(t);if(s)switch(r.runningTransition){case"continue":return Lt.E;case"stop":e.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),dC.delete(t)}const o=n(t,r.animation,i)||uC;if(!r.animation||"none"===window.getComputedStyle(t).transitionProperty)return e.run(()=>o()),(0,_t.of)(void 0).pipe(function(e){return t=>new de.y(n=>t.subscribe(t=>e.run(()=>n.next(t)),t=>e.run(()=>n.error(t)),()=>e.run(()=>n.complete())))}(e));const a=new vt.xQ,l=new vt.xQ,c=a.pipe(function(...e){return t=>Dt(t,(0,_t.of)(...e))}(!0));dC.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:i});const u=function(e){const{transitionDelay:t,transitionDuration:n}=window.getComputedStyle(e);return 1e3*(parseFloat(t)+parseFloat(n))}(t);return e.runOutsideAngular(()=>{const n=Ub(t,"transitionend").pipe(Yb(c),Qt(({target:e})=>e===t));(function(...e){if(1===e.length){if(!(0,pe.k)(e[0]))return e[0];e=e[0]}return(0,At.n)(e,void 0).lift(new Zb)})(function(e=0,t,n){let r=-1;return(0,qb.k)(t)?r=Number(t)<1?1:Number(t):(0,Ct.K)(t)&&(n=t),(0,Ct.K)(n)||(n=Ss.P),new de.y(t=>{const i=(0,qb.k)(e)?e:+e-n.now();return n.schedule(jb,i,{index:0,period:r,subscriber:t})})}(u+hC).pipe(Yb(c)),n,l).pipe(Yb(c)).subscribe(()=>{dC.delete(t),e.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let fC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[x]]}),e})(),gC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[x]]}),e})(),mC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})(),yC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[x]]}),e})(),_C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();var vC=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const wC=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function bC(e){const t=Array.from(e.querySelectorAll(wC)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new class{getAllStyles(e){return window.getComputedStyle(e)}getStyle(e,t){return this.getAllStyles(e)[t]}isStaticPositioned(e){return"static"===(this.getStyle(e,"position")||"static")}offsetParent(e){let t=e.offsetParent||document.documentElement;for(;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}position(e,t=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))n=e.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const t=this.offsetParent(e);n=this.offset(e,!1),t!==document.documentElement&&(r=this.offset(t,!1)),r.top+=t.clientTop,r.left+=t.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,t&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(e,t=!0){const n=e.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let s={height:n.height||e.offsetHeight,width:n.width||e.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return t&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(e,t,n,r){const[i="top",s="center"]=n.split("-"),o=r?this.offset(e,!1):this.position(e,!1),a=this.getAllStyles(t),l=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),u=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let d=0,p=0;switch(i){case"top":d=o.top-(t.offsetHeight+l+c);break;case"bottom":d=o.top+o.height;break;case"left":p=o.left-(t.offsetWidth+u+h);break;case"right":p=o.left+o.width}switch(s){case"top":d=o.top;break;case"bottom":d=o.top+o.height-t.offsetHeight;break;case"left":p=o.left;break;case"right":p=o.left+o.width-t.offsetWidth;break;case"center":"top"===i||"bottom"===i?p=o.left+o.width/2-t.offsetWidth/2:d=o.top+o.height/2-t.offsetHeight/2}t.style.transform=`translate(${Math.round(p)}px, ${Math.round(d)}px)`;const f=t.getBoundingClientRect(),g=document.documentElement,m=window.innerHeight||g.clientHeight,y=window.innerWidth||g.clientWidth;return f.left>=0&&f.top>=0&&f.right<=y&&f.bottom<=m}},new Date(1882,10,12),new Date(2174,10,25);let CC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[x,gt]]}),e})(),TC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["",8,"navbar"]]}),e})(),IC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})(),EC=(()=>{class e{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(cC))},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e((0,r.LFG)(cC))},token:e,providedIn:"root"}),e})();class SC{constructor(e,t,n){this.nodes=e,this.viewRef=t,this.componentRef=n}}const kC=()=>{};let AC=(()=>{class e{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):kC}_adjustBody(e){const t=this._document.body,n=t.style.paddingRight,r=parseFloat(window.getComputedStyle(t)["padding-right"]);return t.style["padding-right"]=`${r+e}px`,()=>t.style["padding-right"]=n}_isPresent(e){const t=this._document.body.getBoundingClientRect();return window.innerWidth-(t.left+t.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const t=this._document.body;t.appendChild(e);const n=e.getBoundingClientRect().width-e.clientWidth;return t.removeChild(e),n}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e((0,r.LFG)(o))},token:e,providedIn:"root"}),e})(),xC=(()=>{class e{constructor(e,t){this._el=e,this._zone=t}ngOnInit(){this._zone.onStable.asObservable().pipe(zt(1)).subscribe(()=>{pC(this._zone,this._el.nativeElement,(e,t)=>{t&&aC(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return pC(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.R0b))},e.\u0275cmp=r.Xpm({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,t){2&e&&(r.Tol("modal-backdrop"+(t.backdropClass?" "+t.backdropClass:"")),r.ekj("show",!t.animation)("fade",t.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();class PC{close(e){}dismiss(e){}}class OC{constructor(e,t,n,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new vt.xQ,this._dismissed=new vt.xQ,this._hidden=new vt.xQ,e.instance.dismissEvent.subscribe(e=>{this.dismiss(e)}),this.result=new Promise((e,t)=>{this._resolve=e,this._reject=t}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Yb(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Yb(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();t&&t.then?t.then(t=>{!1!==t&&this._dismiss(e)},()=>{}):!1!==t&&this._dismiss(e)}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,_t.of)(void 0);e.subscribe(()=>{const{nativeElement:e}=this._windowCmptRef.location;e.parentNode.removeChild(e),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:e}=this._backdropCmptRef.location;e.parentNode.removeChild(e),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Hb(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var NC=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}({});let RC=(()=>{class e{constructor(e,t,n){this._document=e,this._elRef=t,this._zone=n,this._closed$=new vt.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.vpe,this.shown=new vt.xQ,this.hidden=new vt.xQ}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(zt(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,t={animation:this.animation,runningTransition:"stop"},n=Hb(pC(this._zone,e,()=>e.classList.remove("show"),t),pC(this._zone,this._dialogEl.nativeElement,()=>{},t));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const e={animation:this.animation,runningTransition:"continue"};Hb(pC(this._zone,this._elRef.nativeElement,(e,t)=>{t&&aC(e),e.classList.add("show")},e),pC(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Ub(e,"keydown").pipe(Yb(this._closed$),Qt(e=>e.which===vC.Escape)).subscribe(e=>{this.keyboard?requestAnimationFrame(()=>{e.defaultPrevented||this._zone.run(()=>this.dismiss(NC.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let t=!1;Ub(this._dialogEl.nativeElement,"mousedown").pipe(Yb(this._closed$),(0,yn.b)(()=>t=!1),Vt(()=>Ub(e,"mouseup").pipe(Yb(this._closed$),zt(1))),Qt(({target:t})=>e===t)).subscribe(()=>{t=!0}),Ub(e,"click").pipe(Yb(this._closed$)).subscribe(({target:n})=>{e===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||t||this._zone.run(()=>this.dismiss(NC.BACKDROP_CLICK))),t=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const t=e.querySelector("[ngbAutofocus]"),n=bC(e)[0];(t||n||e).focus()}}_restoreFocus(){const e=this._document.body,t=this._elWithFocus;let n;n=t&&t.focus&&e.contains(t)?t:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&pC(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(o),r.Y36(r.SBq),r.Y36(r.R0b))},e.\u0275cmp=r.Xpm({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(e,t){if(1&e&&r.Gf(sC,7),2&e){let e;r.iGM(e=r.CRH())&&(t._dialogEl=e.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,t){2&e&&(r.uIk("aria-modal",!0)("aria-labelledby",t.ariaLabelledBy)("aria-describedby",t.ariaDescribedBy),r.Tol("modal d-block"+(t.windowClass?" "+t.windowClass:"")),r.ekj("fade",t.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:iC,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,t){1&e&&(r.F$t(),r.TgZ(0,"div",0,1),r.TgZ(2,"div",2),r.Hsn(3),r.qZA(),r.qZA()),2&e&&r.Tol("modal-dialog"+(t.size?" modal-"+t.size:"")+(t.centered?" modal-dialog-centered":"")+(t.scrollable?" modal-dialog-scrollable":"")+(t.modalDialogClass?" "+t.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),e})(),DC=(()=>{class e{constructor(e,t,n,i,s,o){this._applicationRef=e,this._injector=t,this._document=n,this._scrollBar=i,this._rendererFactory=s,this._ngZone=o,this._activeWindowCmptHasChanged=new vt.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new r.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const e=this._windowCmpts[this._windowCmpts.length-1];((e,t,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const e=Ub(t,"focusin").pipe(Yb(n),(0,fe.U)(e=>e.target));Ub(t,"keydown").pipe(Yb(n),Qt(e=>e.which===vC.Tab),eC(e)).subscribe(([e,n])=>{const[r,i]=bC(t);n!==r&&n!==t||!e.shiftKey||(i.focus(),e.preventDefault()),n!==i||e.shiftKey||(r.focus(),e.preventDefault())}),r&&Ub(t,"click").pipe(Yb(n),eC(e),(0,fe.U)(e=>e[1])).subscribe(e=>e.focus())})})(0,e.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(e.location.nativeElement)}})}open(e,t,n,r){const i=r.container instanceof HTMLElement?r.container:oC(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),o=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const l=new PC,c=this._getContentRef(e,r.injector||t,n,l,r);let u=!1!==r.backdrop?this._attachBackdrop(e,i):void 0,h=this._attachWindowComponent(e,i,c),d=new OC(h,c,u,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(o,o),d.result.then(a,a),l.close=e=>{d.close(e)},l.dismiss=e=>{d.dismiss(e)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),u&&u.instance&&(this._applyBackdropOptions(u.instance,r),u.changeDetectorRef.detectChanges()),h.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(t=>t.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,t){let n=e.resolveComponentFactory(xC).create(this._injector);return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}_attachWindowComponent(e,t,n){let r=e.resolveComponentFactory(RC).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_applyWindowOptions(e,t){this._windowAttributes.forEach(n=>{oC(t[n])&&(e[n]=t[n])})}_applyBackdropOptions(e,t){this._backdropAttributes.forEach(n=>{oC(t[n])&&(e[n]=t[n])})}_getContentRef(e,t,n,i,s){return n?n instanceof r.Rgc?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(e,t,n,i,s):new SC([])}_createFromTemplateRef(e,t){const n=e.createEmbeddedView({$implicit:t,close(e){t.close(e)},dismiss(e){t.dismiss(e)}});return this._applicationRef.attachView(n),new SC([n.rootNodes],n)}_createFromString(e){const t=this._document.createTextNode(`${e}`);return new SC([[t]])}_createFromComponent(e,t,n,i,s){const o=e.resolveComponentFactory(n),a=r.zs3.create({providers:[{provide:PC,useValue:i}],parent:t}),l=o.create(a),c=l.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new SC([[c]],l.hostView,l)}_setAriaHidden(e){const t=e.parentElement;t&&e!==this._document.body&&(Array.from(t.children).forEach(t=>{t!==e&&"SCRIPT"!==t.nodeName&&(this._ariaHiddenValues.set(t,t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}),this._setAriaHidden(t))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const t=()=>{const t=this._modalRefs.indexOf(e);t>-1&&(this._modalRefs.splice(t,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(t,t)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const t=this._windowCmpts.indexOf(e);t>-1&&(this._windowCmpts.splice(t,1),this._activeWindowCmptHasChanged.next())})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.z2F),r.LFG(r.zs3),r.LFG(o),r.LFG(AC),r.LFG(r.FYo),r.LFG(r.R0b))},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e((0,r.LFG)(r.z2F),(0,r.LFG)(r.gxx),(0,r.LFG)(o),(0,r.LFG)(AC),(0,r.LFG)(r.FYo),(0,r.LFG)(r.R0b))},token:e,providedIn:"root"}),e})(),LC=(()=>{class e{constructor(e,t,n,r){this._moduleCFR=e,this._injector=t,this._modalStack=n,this._config=r}open(e,t={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),t);return this._modalStack.open(this._moduleCFR,this._injector,e,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r._Vd),r.LFG(r.zs3),r.LFG(DC),r.LFG(EC))},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e((0,r.LFG)(r._Vd),(0,r.LFG)(r.gxx),(0,r.LFG)(DC),(0,r.LFG)(EC))},token:e,providedIn:"root"}),e})(),MC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[LC]}),e})(),FC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[x]]}),e})(),UC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[x]]}),e})(),VC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[x]]}),e})(),qC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[x]]}),e})(),jC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[x]]}),e})(),ZC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[x]]}),e})(),zC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[x]]}),e})(),BC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();new r.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let HC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[x]]}),e})();const $C=[fC,gC,mC,yC,_C,CC,IC,MC,FC,UC,VC,qC,jC,ZC,zC,BC,HC];let GC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[$C,fC,gC,mC,yC,_C,CC,IC,MC,FC,UC,VC,qC,jC,ZC,zC,BC,HC]}),e})(),WC=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-header"]],decls:32,vars:0,consts:[[1,"navbar","navbar-expand-md","fade-in-text"],[1,"logo"],["type","button","data-toggle","collapse","data-target","#collapsibleNavbar",1,"navbar-toggler"],[1,"bx","bx-menu-alt-left"],["id","collapsibleNavbar",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["routerLink","/home","routerLinkActive","active","data-toggle","collapse","data-target",".navbar-collapse.show"],["routerLink","about","routerLinkActive","active","data-toggle","collapse","data-target",".navbar-collapse.show"],["routerLink","/skills","routerLinkActive","active","data-toggle","collapse","data-target",".navbar-collapse.show"],["routerLink","/resume","routerLinkActive","active","data-toggle","collapse","data-target",".navbar-collapse.show"],["routerLink","/service","routerLinkActive","active","data-toggle","collapse","data-target",".navbar-collapse.show"],["routerLink","/contact","routerLinkActive","active","data-toggle","collapse","data-target",".navbar-collapse.show"]],template:function(e,t){1&e&&(r.TgZ(0,"nav",0),r.TgZ(1,"h1",1),r._uU(2,"vedant"),r.qZA(),r.TgZ(3,"button",2),r._UZ(4,"i",3),r.qZA(),r.TgZ(5,"div",4),r.TgZ(6,"ul",5),r.TgZ(7,"li",6),r.TgZ(8,"a",7),r.TgZ(9,"span"),r._uU(10,"Home"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(11,"li",6),r.TgZ(12,"a",8),r.TgZ(13,"span"),r._uU(14,"About"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(15,"li",6),r.TgZ(16,"a",9),r.TgZ(17,"span"),r._uU(18,"Skills"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(19,"li",6),r.TgZ(20,"a",10),r.TgZ(21,"span"),r._uU(22,"Resume"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(23,"li",6),r.TgZ(24,"a",11),r.TgZ(25,"span"),r._uU(26,"Services"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(27,"li",6),r.TgZ(28,"a",12),r.TgZ(29,"span"),r._uU(30,"Contact"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(31,"router-outlet"))},directives:[TC,Xi,ts,ns],styles:['.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f5f5f5;font-family:Poppins,sans-serif;font-weight:400;font-size:15px;padding:7px 20px;position:relative;display:block;text-decoration:none}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:51%}.navbar[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.8);position:fixed;z-index:999999;width:100%}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#adff2f;transition:.2s}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#adff2f}.navbar-toggler[_ngcontent-%COMP%]{background-color:#adff2f;border-radius:50px;margin-left:90%;margin-top:-50px}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"";position:absolute;height:6px;bottom:-4px;left:0;background-color:#adff2f;visibility:hidden;width:0;transition:all .3s ease-in-out 0s}.navbar.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:before, .navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:before, .navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover > a[_ngcontent-%COMP%]:before{visibility:visible;width:25px}.navbar[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover > a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}h1[_ngcontent-%COMP%]{color:#adff2f;font-family:Ubuntu,sans-serif}h1[_ngcontent-%COMP%]:hover{color:#f5f5f5;cursor:pointer}@media(max-width:510px){.navbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:25px;margin-top:2px}}']}),e})();const KC=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"about",component:bs},{path:"home",component:Cs},{path:"resume",component:Ts},{path:"skills",component:Is},{path:"contact",component:Mb},{path:"heder",component:WC},{path:"service",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-service"]],decls:27,vars:0,consts:[["id","service",1,"site-section","section-services","overlay","text-center","fade-in-text"],[1,"container"],[1,"section-title"],[1,"row","service-content"],[1,"col-sm-4"],[1,"service"]],template:function(e,t){1&e&&(r.TgZ(0,"section",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"h2"),r._uU(4,"What I Do"),r.qZA(),r.qZA(),r.TgZ(5,"div",3),r.TgZ(6,"div",4),r.TgZ(7,"div",5),r.TgZ(8,"h4"),r._uU(9,"Front-end"),r.qZA(),r.TgZ(10,"p"),r._uU(11,"As a front-end developer, I have experience in HTML5 and CSS3 techniques working with Bootstrap or more advanced javascript MVC frameworks such as Angular"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"div",4),r.TgZ(13,"div",5),r.TgZ(14,"h4"),r._uU(15,"Back-end"),r.qZA(),r.TgZ(16,"p"),r._uU(17,"Utilising Angular frameworks such as Ionic for mobile app development or creating bespoke code, I've written services supporting thousands of users, including REST APIs, e-commerce applications and more."),r.qZA(),r.qZA(),r.qZA(),r.TgZ(18,"div",4),r.TgZ(19,"div",5),r.TgZ(20,"h4"),r._uU(21,"Consultancy"),r.qZA(),r.TgZ(22,"p"),r._uU(23,"As well as providing development services, I can also help you decide strategic roadmaps via consultancy services."),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(24,"br"),r._UZ(25,"br"),r._UZ(26,"br"))},styles:['.section-title[_ngcontent-%COMP%]{margin-top:135px;text-align:center;padding-bottom:0}.section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;color:#f5f5f5;font-weight:700;text-transform:uppercase;margin-bottom:20px;padding-bottom:20px;position:relative}.section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:before{content:"";position:absolute;display:block;width:120px;height:1px;background:#ddd;bottom:1px;left:calc(50% - 60px)}.section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";position:absolute;display:block;width:40px;height:3px;background:#adff2f;bottom:0;left:calc(50% - 20px)}.service[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:25px 0;font-size:24px;font-weight:700;color:#9acd32}.service[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#f5f5f5;margin-bottom:0}.service-content[_ngcontent-%COMP%]{padding-top:40px;margin-bottom:inherit}']}),e})()}];let QC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ds.forRoot(KC)],ds]}),e})(),YC=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"credits"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"h6"),r._uU(2," Designed By "),r.TgZ(3,"strong"),r._uU(4,"Vedant Arole"),r.qZA(),r.qZA(),r.qZA())},styles:[".credits[_ngcontent-%COMP%]{position:fixed;right:0;left:0;bottom:0;padding:5px;text-align:right;font-size:13px;color:#fff;z-index:999999;cursor:pointer}@media (max-width:992px){.credits[_ngcontent-%COMP%]{text-align:center;padding:10px;background:rgba(0,0,0,.8)}}.credits[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#18d26e;transition:.3s}.credits[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]:hover{color:#adff2f}"]}),e})(),JC=(()=>{class e{constructor(){this.title="Folio"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&(r._UZ(0,"app-header"),r._UZ(1,"app-footer"))},directives:[WC,YC],styles:[""]}),e})();class XC{}class eT{}class tT{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),r=n.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof tT?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new tT;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof tT?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===i.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class nT{encodeKey(e){return rT(e)}encodeValue(e){return rT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function rT(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function iT(e){return`${e}`}class sT{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new nT,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(e=>{const r=e.indexOf("="),[i,s]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(n=>{const r=e[n];Array.isArray(r)?r.forEach(e=>{t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new sT({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(iT(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(iT(e.value));-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class oT{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function aT(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function lT(e){return"undefined"!=typeof Blob&&e instanceof Blob}function cT(e){return"undefined"!=typeof FormData&&e instanceof FormData}class uT{constructor(e,t,n,r){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new tT),this.context||(this.context=new oT),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new sT,this.urlWithParams=t}serializeBody(){return null===this.body?null:aT(this.body)||lT(this.body)||cT(this.body)||"string"==typeof this.body?this.body:this.body instanceof sT?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||cT(this.body)?null:lT(this.body)?this.body.type||null:aT(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof sT?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),c)),new uT(n,r,s,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var hT=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({});class dT{constructor(e,t=200,n="OK"){this.headers=e.headers||new tT,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class pT extends dT{constructor(e={}){super(e),this.type=hT.ResponseHeader}clone(e={}){return new pT({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class fT extends dT{constructor(e={}){super(e),this.type=hT.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new fT({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class gT extends dT{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function mT(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let yT=(()=>{class e{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof uT)r=e;else{let i,s;i=n.headers instanceof tT?n.headers:new tT(n.headers),n.params&&(s=n.params instanceof sT?n.params:new sT({fromObject:n.params})),r=new uT(e,t,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=(0,_t.of)(r).pipe(rn(e=>this.handler.handle(e)));if(e instanceof uT||"events"===n.observe)return i;const s=i.pipe(Qt(e=>e instanceof fT));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe((0,fe.U)(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return s.pipe((0,fe.U)(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return s.pipe((0,fe.U)(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return s.pipe((0,fe.U)(e=>e.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new sT).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,mT(n,t))}post(e,t,n={}){return this.request("POST",e,mT(n,t))}put(e,t,n={}){return this.request("PUT",e,mT(n,t))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(XC))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class _T{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const vT=new r.OlP("HTTP_INTERCEPTORS");let wT=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const bT=/^\)\]\}',?\n/;let CT=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new de.y(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const r=e.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const t=1223===n.status?204:n.status,r=n.statusText||"OK",s=new tT(n.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return i=new pT({headers:s,status:t,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),l=null;204!==i&&(l=void 0===n.response?n.responseText:n.response),0===i&&(i=l?200:0);let c=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(bT,"");try{l=""!==l?JSON.parse(l):null}catch(KT){l=e,c&&(c=!1,l={error:KT,text:l})}}c?(t.next(new fT({body:l,headers:r,status:i,statusText:o,url:a||void 0})),t.complete()):t.error(new gT({error:l,headers:r,status:i,statusText:o,url:a||void 0}))},a=e=>{const{url:r}=s(),i=new gT({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});t.error(i)};let l=!1;const c=r=>{l||(t.next(s()),l=!0);let i={type:hT.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===e.responseType&&n.responseText&&(i.partialText=n.responseText),t.next(i)},u=e=>{let n={type:hT.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),e.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",u)),n.send(r),t.next({type:hT.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),e.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(D))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const TT=new r.OlP("XSRF_COOKIE_NAME"),IT=new r.OlP("XSRF_HEADER_NAME");class ET{}let ST=(()=>{class e{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=A(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o),r.LFG(r.Lbi),r.LFG(TT))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),kT=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(ET),r.LFG(IT))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),AT=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(vT,[]);this.chain=e.reduceRight((e,t)=>new _T(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(eT),r.LFG(r.zs3))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),xT=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:kT,useClass:wT}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:TT,useValue:t.cookieName}:[],t.headerName?{provide:IT,useValue:t.headerName}:[]]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[kT,{provide:vT,useExisting:kT,multi:!0},{provide:ET,useClass:ST},{provide:TT,useValue:"XSRF-TOKEN"},{provide:IT,useValue:"X-XSRF-TOKEN"}]}),e})(),PT=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[yT,{provide:XC,useClass:AT},CT,{provide:eT,useExisting:CT}],imports:[[xT.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})();class OT{constructor(e){this.predicate=e}call(e,t){return t.subscribe(new NT(e,this.predicate))}}class NT extends Tt.L{constructor(e,t){super(e),this.predicate=t,this.skipping=!0,this.index=0}_next(e){const t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}tryCallPredicate(e){try{const t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(t){this.destination.error(t)}}}let RT="";function DT(e){RT=e}class LT{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,js.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,js.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class MT{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,js.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const FT=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new LT(t)}}catch(t){}return new MT},UT=FT("localStorage"),VT=FT("sessionStorage"),qT=new qs.Yd("@firebase/database"),jT=function(){let e=1;return function(){return e++}}(),ZT=function(e){const t=(0,js.dS)(e),n=new js.gQ;n.update(t);const r=n.digest();return js.US.encodeByteArray(r)},zT=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=zT.apply(null,r):t+="object"==typeof r?(0,js.Pz)(r):r,t+=" "}return t};let BT=null,HT=!0;const $T=function(e,t){(0,js.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(qT.logLevel=qs.in.VERBOSE,BT=qT.log.bind(qT),t&&VT.set("logging_enabled",!0)):"function"==typeof e?BT=e:(BT=null,VT.remove("logging_enabled"))},GT=function(...e){if(!0===HT&&(HT=!1,null===BT&&!0===VT.get("logging_enabled")&&$T(!0)),BT){const t=zT.apply(null,e);BT(t)}},WT=function(e){return function(...t){GT(e,...t)}},KT=function(...e){const t="FIREBASE INTERNAL ERROR: "+zT(...e);qT.error(t)},QT=function(...e){const t=`FIREBASE FATAL ERROR: ${zT(...e)}`;throw qT.error(t),new Error(t)},YT=function(...e){const t="FIREBASE WARNING: "+zT(...e);qT.warn(t)},JT=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},XT="[MIN_NAME]",eI="[MAX_NAME]",tI=function(e,t){if(e===t)return 0;if(e===XT||t===eI)return-1;if(t===XT||e===eI)return 1;{const n=cI(e),r=cI(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},nI=function(e,t){return e===t?0:e<t?-1:1},rI=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,js.Pz)(t))},iI=function(e){if("object"!=typeof e||null===e)return(0,js.Pz)(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=(0,js.Pz)(t[r]),n+=":",n+=iI(e[t[r]]);return n+="}",n},sI=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function oI(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const aI=function(e){let t,n,r,i,s;(0,js.hu)(!JT(e),"Invalid JSON number"),0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=i+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));const o=[];for(s=52;s;s-=1)o.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(t?1:0),o.reverse();const a=o.join("");let l="";for(s=0;s<64;s+=8){let e=parseInt(a.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),l+=e}return l.toLowerCase()},lI=new RegExp("^-?(0*)\\d{1,10}$"),cI=function(e){if(lI.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},uI=function(e){try{e()}catch(t){setTimeout(()=>{throw YT("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},hI=function(e,t){const n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n};class dI{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(e=>this.appCheck=e)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){YT(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class pI{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(GT("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',YT(e)}}let fI=(()=>{class e{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const gI=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mI="websocket",yI="long_polling";class _I{constructor(e,t,n,r,i=!1,s="",o=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=UT.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&UT.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function vI(e,t,n){let r;if((0,js.hu)("string"==typeof t,"typeof type must == string"),(0,js.hu)("object"==typeof n,"typeof params must == object"),t===mI)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==yI)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return oI(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}class wI{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,js.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,js.p$)(this.counters_)}}const bI={},CI={};function TI(e){const t=e.toString();return bI[t]||(bI[t]=new wI),bI[t]}class II{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&uI(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class EI{constructor(e,t,n,r,i,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=WT(e),this.stats_=TI(t),this.urlFn=e=>(this.appCheckToken&&(e.ac=this.appCheckToken),vI(t,yI,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new II(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if((0,js.Yr)()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new SI((...e)=>{const[t,n,r,i,s]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===t)this.id=n,this.password=r;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,()=>{this.onClosed_()})):this.onClosed_()}},(...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)},()=>{this.onClosed_()},this.urlFn);const e={start:"t"};e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&gI.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){EI.forceAllow_=!0}static forceDisallow(){EI.forceDisallow_=!0}static isAvailable(){return!((0,js.Yr)()||!EI.forceAllow_&&(EI.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,js.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=(0,js.h$)(t),r=sI(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,js.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,js.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class SI{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,js.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=jT(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=SI.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(n='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){GT("frame writing exception"),i.stack&&GT(i.stack),GT(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||GT("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){(0,js.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{GT("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}},Math.floor(1))}}let kI=null;"undefined"!=typeof MozWebSocket?kI=MozWebSocket:"undefined"!=typeof WebSocket&&(kI=WebSocket);let AI=(()=>{class e{constructor(t,n,r,i,s,o,a){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=WT(this.connId),this.stats_=TI(n),this.connURL=e.connectionURL_(n,o,a,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,t,n,r){const i={v:"5"};return!(0,js.Yr)()&&"undefined"!=typeof location&&location.hostname&&gI.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),vI(e,mI,i)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,UT.set("previous_websocket_failure",!0);try{if((0,js.Yr)()){const e={headers:{"User-Agent":`Firebase/5/${RT}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const t=process.env,n=0===this.connURL.indexOf("wss://")?t.HTTPS_PROXY||t.https_proxy:t.HTTP_PROXY||t.http_proxy;n&&(e.proxy={origin:n}),this.mySock=new kI(this.connURL,[],e)}else this.mySock=new kI(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);e&&e.length>1&&parseFloat(e[1])<4.4&&(t=!0)}return!t&&null!==kI&&!e.forceDisallow_}static previouslyFailed(){return UT.isInMemoryStorage||!0===UT.get("previous_websocket_failure")}markConnectionHealthy(){UT.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=(0,js.cI)(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,js.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=(0,js.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=sI(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})();class xI{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[EI,AI]}initTransports_(e){const t=AI&&AI.isAvailable();let n=t&&!AI.previouslyFailed();if(e.webSocketOnly&&(t||YT("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[AI];else{const e=this.transports_=[];for(const t of xI.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class PI{constructor(e,t,n,r,i,s,o,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=WT("c:"+this.id+":"),this.transportManager_=new xI(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=hI(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=rI("t",e),n=rI("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=rI("t",e),n=rI("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=rI("t",e);if("d"in e){const n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?KT("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):KT("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&YT("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),hI(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hI(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(UT.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class OI{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class NI{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,js.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){(0,js.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class RI extends NI{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,js.uI)()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new RI}getInitialEvent(e){return(0,js.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class DI{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function LI(){return new DI("")}function MI(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function FI(e){return e.pieces_.length-e.pieceNum_}function UI(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new DI(e.pieces_,t)}function VI(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function qI(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function jI(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new DI(t,0)}function ZI(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof DI)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new DI(n,0)}function zI(e){return e.pieceNum_>=e.pieces_.length}function BI(e,t){const n=MI(e),r=MI(t);if(null===n)return t;if(n===r)return BI(UI(e),UI(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function HI(e,t){const n=qI(e,0),r=qI(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=tI(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function $I(e,t){if(FI(e)!==FI(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function GI(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(FI(e)>FI(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class WI{constructor(e,t){this.errorPrefix_=t,this.parts_=qI(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,js.ug)(this.parts_[n]);KI(this)}}function KI(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+QI(e))}function QI(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class YI extends NI{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}static getInstance(){return new YI}getInitialEvent(e){return(0,js.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const JI=1e3;let XI,eE=(()=>{class e extends OI{constructor(t,n,r,i,s,o,a,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=e.nextPersistentConnectionId_++,this.log_=WT("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=JI,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,js.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");YI.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&RI.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,js.Pz)(i)),(0,js.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new js.BH,n={p:e._path.toString(),q:e._queryObject},r={action:"g",request:n,onComplete:e=>{const r=e.d;"ok"===e.s?(this.onDataUpdate_(n.p,r,!1,null),t.resolve(r)):t.reject(r)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const e=this.outstandingGets_[i];void 0!==e&&r===e&&(delete this.outstandingGets_[i],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+i+" timed out on connection"),t.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(i),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),(0,js.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,js.hu)(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r};t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,s=>{const o=s.d,a=s.s;e.warnOnListenWarnings_(o,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",s),"ok"!==a&&this.removeListen_(r,i),t.onComplete&&t.onComplete(a,o))})}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&(0,js.r3)(e,"w")){const n=(0,js.DV)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();YT(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,js.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=(0,js.w9)(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,js.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const s={p:t,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{"ok"!==e.s&&this.log_("reportStats","Error sending stats: "+e.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,js.Pz)(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):KT("Unrecognized action received from server: "+(0,js.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,js.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=JI,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=JI,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=JI),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Fs.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const n=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),i=t.onRealtimeDisconnect_.bind(t),s=t.id+":"+e.nextConnectionId_++,o=t.lastSessionId;let a=!1,l=null;const c=function(){l?l.close():(a=!0,i())};t.realtime_={close:c,sendRequest:function(e){(0,js.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)}};const u=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[e,c]=yield Promise.all([t.authTokenProvider_.getToken(u),t.appCheckTokenProvider_.getToken(u)]);a?GT("getToken() completed but was canceled"):(GT("getToken() completed. Creating connection."),t.authToken_=e&&e.accessToken,t.appCheckToken_=c&&c.token,l=new PI(s,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,n,r,i,e=>{YT(e+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},o))}catch(KT){t.log_("Failed to get token: "+KT),a||(t.repoInfo_.nodeAdmin&&YT(KT),c())}}})()}interrupt(e){GT("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){GT("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,js.xb)(this.interruptReasons_)&&(this.reconnectDelay_=JI,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>iI(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new DI(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){GT("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){GT("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";(0,js.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+RT.replace(/\./g,"-")]=1,(0,js.uI)()?e["framework.cordova"]=1:(0,js.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=RI.getInstance().currentlyOnline();return(0,js.xb)(this.interruptReasons_)&&e}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class tE{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new tE(e,t)}}class nE{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new tE(XT,e),r=new tE(XT,t);return 0!==this.compare(n,r)}minPost(){return tE.MIN}}class rE extends nE{static get __EMPTY_NODE(){return XI}static set __EMPTY_NODE(e){XI=e}compare(e,t){return tI(e.name,t.name)}isDefinedOn(e){throw(0,js.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return tE.MIN}maxPost(){return new tE(eI,XI)}makePost(e,t){return(0,js.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new tE(e,XI)}toString(){return".key"}}const iE=new rE;class sE{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let oE=(()=>{class e{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:cE.EMPTY_NODE,this.right=null!=s?s:cE.EMPTY_NODE}copy(t,n,r,i,s){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return cE.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return cE.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class aE{copy(e,t,n,r,i){return this}insert(e,t,n){return new oE(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let lE,cE=(()=>{class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,oE.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,oE.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new sE(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new sE(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new sE(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new sE(this.root_,null,this.comparator_,!0,e)}}return e.EMPTY_NODE=new aE,e})();function uE(e,t){return tI(e.name,t.name)}function hE(e,t){return tI(e,t)}const dE=function(e){return"number"==typeof e?"number:"+aI(e):"string:"+e},pE=function(e){if(e.isLeafNode()){const t=e.val();(0,js.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,js.r3)(t,".sv"),"Priority must be a string or number.")}else(0,js.hu)(e===lE||e.isEmpty(),"priority of unexpected type.");(0,js.hu)(e===lE||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let fE,gE,mE,yE=(()=>{class e{constructor(t,n=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,js.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),pE(this.priorityNode_)}static set __childrenNodeConstructor(e){fE=e}static get __childrenNodeConstructor(){return fE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new e(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return zI(t)?this:".priority"===MI(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=MI(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,js.hu)(".priority"!==r||1===FI(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(UI(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+dE(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?aI(this.value_):this.value_,this.lazyHash_=ZT(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,js.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return(0,js.hu)(i>=0,"Unknown leaf type: "+n),(0,js.hu)(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const _E=new class extends nE{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?tI(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return tE.MIN}maxPost(){return new tE(eI,new yE("[PRIORITY-POST]",mE))}makePost(e,t){const n=gE(e);return new tE(t,new yE("[PRIORITY-POST]",n))}toString(){return".priority"}},vE=Math.log(2);class wE{constructor(e){this.count=parseInt(Math.log(e+1)/vE,10),this.current_=this.count-1;const t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const bE=function(e,t,n,r){e.sort(t);const i=function(t,r){const s=r-t;let o,a;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new oE(a,o.node,oE.BLACK,null,null);{const l=parseInt(s/2,10)+t,c=i(t,l),u=i(l+1,r);return o=e[l],a=n?n(o):o,new oE(a,o.node,oE.BLACK,c,u)}},s=function(t){let r=null,s=null,o=e.length;const a=function(t,r){const s=o-t,a=o;o-=t;const c=i(s+1,a),u=e[s],h=n?n(u):u;l(new oE(h,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(s=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,oE.BLACK):(a(r,oE.BLACK),a(r,oE.RED))}return s}(new wE(e.length));return new cE(r||t,s)};let CE;const TE={};class IE{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,js.hu)(TE&&_E,"ChildrenNode.ts has not been loaded"),CE=CE||new IE({".priority":TE},{".priority":_E}),CE}get(e){const t=(0,js.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof cE?t:null}hasIndex(e){return(0,js.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,js.hu)(e!==iE,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(tE.Wrap);let s,o=i.getNext();for(;o;)r=r||e.isDefinedOn(o.node),n.push(o),o=i.getNext();s=r?bE(n,e.getCompare()):TE;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=s,new IE(c,l)}addToIndexes(e,t){const n=(0,js.UI)(this.indexes_,(n,r)=>{const i=(0,js.DV)(this.indexSet_,r);if((0,js.hu)(i,"Missing index implementation for "+r),n===TE){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(tE.Wrap);let s=r.getNext();for(;s;)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),bE(n,i.getCompare())}return TE}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new tE(e.name,r))),i.insert(e,e.node)}});return new IE(n,this.indexSet_)}removeFromIndexes(e,t){const n=(0,js.UI)(this.indexes_,n=>{if(n===TE)return n;{const r=t.get(e.name);return r?n.remove(new tE(e.name,r)):n}});return new IE(n,this.indexSet_)}}let EE,SE=(()=>{class e{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&pE(this.priorityNode_),this.children_.isEmpty()&&(0,js.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return EE||(EE=new e(new cE(hE),null,IE.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||EE}updatePriority(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?EE:t}}getChild(e){const t=MI(e);return null===t?this:this.getImmediateChild(t).getChild(UI(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(t,n){if((0,js.hu)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);{const r=new tE(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?EE:this.priorityNode_;return new e(i,o,s)}}updateChild(e,t){const n=MI(e);if(null===n)return t;{(0,js.hu)(".priority"!==MI(e)||1===FI(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(UI(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(_E,(o,a)=>{n[o]=a.val(t),r++,s&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const e=[];for(const t in n)e[t]=n[t];return e}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+dE(this.getPriority().val())+":"),this.forEachChild(_E,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":ZT(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new tE(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new tE(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new tE(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,tE.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,tE.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===kE?-1:0}withIndex(t){if(t===iE||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===iE||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(_E),n=t.getIterator(_E);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===iE?null:this.indexMap_.get(e.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const kE=new class extends SE{constructor(){super(new cE(hE),SE.EMPTY_NODE,IE.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return SE.EMPTY_NODE}isEmpty(){return!1}};function AE(e,t=null){if(null===e)return SE.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),(0,js.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new yE(e,AE(t));if(e instanceof Array){let n=SE.EMPTY_NODE;return oI(e,(t,r)=>{if((0,js.r3)(e,t)&&"."!==t.substring(0,1)){const e=AE(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(AE(t))}{const n=[];let r=!1;if(oI(e,(e,t)=>{if("."!==e.substring(0,1)){const i=AE(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new tE(e,i)))}}),0===n.length)return SE.EMPTY_NODE;const i=bE(n,uE,e=>e.name,hE);if(r){const e=bE(n,_E.getCompare());return new SE(i,AE(t),new IE({".priority":e},{".priority":_E}))}return new SE(i,AE(t),IE.Default)}}Object.defineProperties(tE,{MIN:{value:new tE(XT,SE.EMPTY_NODE)},MAX:{value:new tE(eI,kE)}}),rE.__EMPTY_NODE=SE.EMPTY_NODE,yE.__childrenNodeConstructor=SE,lE=kE,mE=kE,gE=AE;class xE extends nE{constructor(e){super(),this.indexPath_=e,(0,js.hu)(!zI(e)&&".priority"!==MI(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?tI(e.name,t.name):i}makePost(e,t){const n=AE(e),r=SE.EMPTY_NODE.updateChild(this.indexPath_,n);return new tE(t,r)}maxPost(){const e=SE.EMPTY_NODE.updateChild(this.indexPath_,kE);return new tE(eI,e)}toString(){return qI(this.indexPath_,0).join("/")}}const PE=new class extends nE{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?tI(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return tE.MIN}maxPost(){return tE.MAX}makePost(e,t){const n=AE(e);return new tE(t,n)}toString(){return".value"}},OE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",NE=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const s=new Array(8);for(i=7;i>=0;i--)s[i]=OE.charAt(n%64),n=Math.floor(n/64);(0,js.hu)(0===n,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=OE.charAt(t[i]);return(0,js.hu)(20===o.length,"nextPushId: Length should be 20."),o}}(),RE=function(e){if("2147483647"===e)return"-";const t=cI(e);if(null!=t)return""+(t+1);const n=new Array(e.length);for(let s=0;s<n.length;s++)n[s]=e.charAt(s);if(n.length<786)return n.push("-"),n.join("");let r=n.length-1;for(;r>=0&&"z"===n[r];)r--;if(-1===r)return eI;const i=OE.charAt(OE.indexOf(n[r])+1);return n[r]=i,n.slice(0,r+1).join("")},DE=function(e){if("-2147483648"===e)return XT;const t=cI(e);if(null!=t)return""+(t-1);const n=new Array(e.length);for(let r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=OE.charAt(OE.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function LE(e){return{type:"value",snapshotNode:e}}function ME(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function FE(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function UE(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class VE{constructor(e){this.index_=e}updateChild(e,t,n,r,i,s){(0,js.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(FE(t,o)):(0,js.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(ME(t,n)):s.trackChildChange(UE(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(_E,(e,r)=>{t.hasChild(e)||n.trackChildChange(FE(e,r))}),t.isLeafNode()||t.forEachChild(_E,(t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(UE(t,r,i))}else n.trackChildChange(ME(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?SE.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class qE{constructor(e){this.indexedFilter_=new VE(e.getIndex()),this.index_=e.getIndex(),this.startPost_=qE.getStartPost_(e),this.endPost_=qE.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,n,r,i,s){return this.matches(new tE(t,n))||(n=SE.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=SE.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(SE.EMPTY_NODE);const i=this;return t.forEachChild(_E,(e,t)=>{i.matches(new tE(e,t))||(r=r.updateImmediateChild(e,SE.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class jE{constructor(e){this.rangedFilter_=new qE(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,n,r,i,s){return this.rangedFilter_.matches(new tE(t,n))||(n=SE.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,s):this.fullLimitUpdateChild_(e,t,n,i,s)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=SE.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=SE.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();let i;if(i=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),t)<=0:this.index_.compare(t,this.rangedFilter_.getEndPost())<=0,!i)break;r=r.updateImmediateChild(t.name,t.node),n++}}else{let e,n,i,s;if(r=t.withIndex(this.index_),r=r.updatePriority(SE.EMPTY_NODE),this.reverse_){s=r.getReverseIterator(this.index_),e=this.rangedFilter_.getEndPost(),n=this.rangedFilter_.getStartPost();const t=this.index_.getCompare();i=(e,n)=>t(n,e)}else s=r.getIterator(this.index_),e=this.rangedFilter_.getStartPost(),n=this.rangedFilter_.getEndPost(),i=this.index_.getCompare();let o=0,a=!1;for(;s.hasNext();){const t=s.getNext();!a&&i(e,t)<=0&&(a=!0),a&&o<this.limit_&&i(t,n)<=0?o++:r=r.updateImmediateChild(t.name,SE.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const o=e;(0,js.hu)(o.numChildren()===this.limit_,"");const a=new tE(t,n),l=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(o.hasChild(t)){const e=o.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||o.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const h=null==u?1:s(u,a);if(c&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(UE(t,n,e)),o.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(FE(t,e));const n=o.updateImmediateChild(t,SE.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(ME(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&s(l,a)>=0?(null!=i&&(i.trackChildChange(FE(l.name,l.node)),i.trackChildChange(ME(t,n))),o.updateImmediateChild(t,n).updateImmediateChild(l.name,SE.EMPTY_NODE)):e}}class ZE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=_E}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,js.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,js.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:XT}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,js.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,js.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:eI}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,js.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===_E}copy(){const e=new ZE;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function zE(e,t,n){const r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function BE(e,t,n){const r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function HE(e,t){const n=e.copy();return n.index_=t,n}function $E(e){const t={};if(e.isDefault())return t;let n;return e.index_===_E?n="$priority":e.index_===PE?n="$value":e.index_===iE?n="$key":((0,js.hu)(e.index_ instanceof xE,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=(0,js.Pz)(n),e.startSet_&&(t.startAt=(0,js.Pz)(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+(0,js.Pz)(e.indexStartName_))),e.endSet_&&(t.endAt=(0,js.Pz)(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+(0,js.Pz)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function GE(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==_E&&(t.i=e.index_.toString()),t}class WE extends OI{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=WT("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,js.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=WE.getListenId_(e,n),o={};this.listens_[s]=o;const a=$E(e._queryParams);this.restRequest_(i+".json",a,(e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),(0,js.DV)(this.listens_,s)===o){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=WE.getListenId_(e,t);delete this.listens_[n]}get(e){const t=$E(e._queryParams),n=e._path.toString(),r=new js.BH;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,js.xO)(t);this.log_("Sending REST request for "+s);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&4===o.readyState){this.log_("REST Response for "+s+" received. status:",o.status,"response:",o.responseText);let t=null;if(o.status>=200&&o.status<300){try{t=(0,js.cI)(o.responseText)}catch(e){YT("Failed to parse JSON response for "+s+": "+o.responseText)}n(null,t)}else 401!==o.status&&404!==o.status&&YT("Got unsuccessful REST response for "+s+" Status: "+o.status),n(o.status);n=null}},o.open("GET",s,!0),o.send()})}}class KE{constructor(){this.rootNode_=SE.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function QE(){return{value:null,children:new Map}}function YE(e,t,n){if(zI(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=MI(t);e.children.has(r)||e.children.set(r,QE()),YE(e.children.get(r),t=UI(t),n)}}function JE(e,t){if(zI(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(_E,(t,n)=>{YE(e,new DI(t),n)}),JE(e,t)}}if(e.children.size>0){const n=MI(t);return t=UI(t),e.children.has(n)&&JE(e.children.get(n),t)&&e.children.delete(n),0===e.children.size}return!0}function XE(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{XE(r,new DI(t.toString()+"/"+e),n)})}class eS{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&oI(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class tS{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new eS(e);const n=1e4+2e4*Math.random();hI(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;oI(e,(e,r)=>{r>0&&(0,js.r3)(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),hI(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var nS=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}({});function rS(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class iS{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=nS.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(zI(this.path)){if(null!=this.affectedTree.value)return(0,js.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new DI(e));return new iS(LI(),t,this.revert)}}return(0,js.hu)(MI(this.path)===e,"operationForChild called for unrelated child."),new iS(UI(this.path),this.affectedTree,this.revert)}}class sS{constructor(e,t){this.source=e,this.path=t,this.type=nS.LISTEN_COMPLETE}operationForChild(e){return zI(this.path)?new sS(this.source,LI()):new sS(this.source,UI(this.path))}}class oS{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=nS.OVERWRITE}operationForChild(e){return zI(this.path)?new oS(this.source,LI(),this.snap.getImmediateChild(e)):new oS(this.source,UI(this.path),this.snap)}}class aS{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=nS.MERGE}operationForChild(e){if(zI(this.path)){const t=this.children.subtree(new DI(e));return t.isEmpty()?null:t.value?new oS(this.source,LI(),t.value):new aS(this.source,LI(),t)}return(0,js.hu)(MI(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new aS(this.source,UI(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class lS{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(zI(e))return this.isFullyInitialized()&&!this.filtered_;const t=MI(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class cS{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function uS(e,t,n,r,i,s){const o=r.filter(e=>e.type===n);o.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw(0,js.g5)("Should only compare child_ events.");const r=new tE(t.childName,t.snapshotNode),i=new tE(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)),o.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function hS(e,t){return{eventCache:e,serverCache:t}}function dS(e,t,n,r){return hS(new lS(t,n,r),e.serverCache)}function pS(e,t,n,r){return hS(e.eventCache,new lS(t,n,r))}function fS(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function gS(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let mS;class yS{constructor(e,t=(()=>(mS||(mS=new cE(nI)),mS))()){this.value=e,this.children=t}static fromObject(e){let t=new yS(null);return oI(e,(e,n)=>{t=t.set(new DI(e),n)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:LI(),value:this.value};if(zI(e))return null;{const n=MI(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(UI(e),t);return null!=i?{path:ZI(new DI(n),i.path),value:i.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(zI(e))return this;{const t=MI(e),n=this.children.get(t);return null!==n?n.subtree(UI(e)):new yS(null)}}set(e,t){if(zI(e))return new yS(t,this.children);{const n=MI(e),r=(this.children.get(n)||new yS(null)).set(UI(e),t),i=this.children.insert(n,r);return new yS(this.value,i)}}remove(e){if(zI(e))return this.children.isEmpty()?new yS(null):new yS(null,this.children);{const t=MI(e),n=this.children.get(t);if(n){const r=n.remove(UI(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new yS(null):new yS(this.value,i)}return this}}get(e){if(zI(e))return this.value;{const t=MI(e),n=this.children.get(t);return n?n.get(UI(e)):null}}setTree(e,t){if(zI(e))return t;{const n=MI(e),r=(this.children.get(n)||new yS(null)).setTree(UI(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new yS(this.value,i)}}fold(e){return this.fold_(LI(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(ZI(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,LI(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(zI(e))return null;{const r=MI(e),i=this.children.get(r);return i?i.findOnPath_(UI(e),ZI(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,LI(),t)}foreachOnPath_(e,t,n){if(zI(e))return this;{this.value&&n(t,this.value);const r=MI(e),i=this.children.get(r);return i?i.foreachOnPath_(UI(e),ZI(t,r),n):new yS(null)}}foreach(e){this.foreach_(LI(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(ZI(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class _S{constructor(e){this.writeTree_=e}static empty(){return new _S(new yS(null))}}function vS(e,t,n){if(zI(t))return new _S(new yS(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const o=BI(i,t);return s=s.updateChild(o,n),new _S(e.writeTree_.set(i,s))}{const r=new yS(n),i=e.writeTree_.setTree(t,r);return new _S(i)}}}function wS(e,t,n){let r=e;return oI(n,(e,n)=>{r=vS(r,ZI(t,e),n)}),r}function bS(e,t){if(zI(t))return _S.empty();{const n=e.writeTree_.setTree(t,new yS(null));return new _S(n)}}function CS(e,t){return null!=TS(e,t)}function TS(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(BI(n.path,t)):null}function IS(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(_E,(e,n)=>{t.push(new tE(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new tE(e,n.value))}),t}function ES(e,t){if(zI(t))return e;{const n=TS(e,t);return new _S(null!=n?new yS(n):e.writeTree_.subtree(t))}}function SS(e){return e.writeTree_.isEmpty()}function kS(e,t){return AS(LI(),e.writeTree_,t)}function AS(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,i)=>{".priority"===t?((0,js.hu)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=AS(ZI(e,t),i,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(ZI(e,".priority"),r)),n}}function xS(e,t){return qS(t,e)}function PS(e,t){if(e.snap)return GI(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&GI(ZI(e.path,n),t))return!0;return!1}function OS(e){return e.visible}function NS(e,t,n){let r=_S.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)GI(n,e)?(t=BI(n,e),r=vS(r,t,s.snap)):GI(e,n)&&(t=BI(e,n),r=vS(r,LI(),s.snap.getChild(t)));else{if(!s.children)throw(0,js.g5)("WriteRecord should have .snap or .children");if(GI(n,e))t=BI(n,e),r=wS(r,t,s.children);else if(GI(e,n))if(t=BI(e,n),zI(t))r=wS(r,LI(),s.children);else{const e=(0,js.DV)(s.children,MI(t));if(e){const n=e.getChild(UI(t));r=vS(r,LI(),n)}}}}}return r}function RS(e,t,n,r,i){if(r||i){const s=ES(e.visibleWrites,t);return!i&&SS(s)?n:i||null!=n||CS(s,LI())?kS(NS(e.allWrites,function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(GI(e.path,t)||GI(t,e.path))},t),n||SE.EMPTY_NODE):null}{const r=TS(e.visibleWrites,t);if(null!=r)return r;{const r=ES(e.visibleWrites,t);return SS(r)?n:null!=n||CS(r,LI())?kS(r,n||SE.EMPTY_NODE):null}}}function DS(e,t,n,r){return RS(e.writeTree,e.treePath,t,n,r)}function LS(e,t){return function(e,t,n){let r=SE.EMPTY_NODE;const i=TS(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(_E,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const i=ES(e.visibleWrites,t);return n.forEachChild(_E,(e,t)=>{const n=kS(ES(i,new DI(e)),t);r=r.updateImmediateChild(e,n)}),IS(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return IS(ES(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function MS(e,t,n,r){return function(e,t,n,r,i){(0,js.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ZI(t,n);if(CS(e.visibleWrites,s))return null;{const t=ES(e.visibleWrites,s);return SS(t)?i.getChild(n):kS(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function FS(e,t){return function(e,t){return TS(e.visibleWrites,t)}(e.writeTree,ZI(e.treePath,t))}function US(e,t,n){return function(e,t,n,r){const i=ZI(t,n),s=TS(e.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?kS(ES(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function VS(e,t){return qS(ZI(e.treePath,t),e.writeTree)}function qS(e,t){return{treePath:e,writeTree:t}}class jS{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;(0,js.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,js.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,UE(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,FE(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,ME(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,js.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,UE(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const ZS=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class zS{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new lS(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return US(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:gS(this.viewCache_),i=function(e,t,n,r,i,s){return function(e,t,n,r,i,s,o){let a;const l=ES(e.visibleWrites,t),c=TS(l,LI());if(null!=c)a=c;else{if(null==n)return[];a=kS(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let i=n.getNext();for(;i&&e.length<1;)0!==t(i,r)&&e.push(i),i=n.getNext();return e}}(e.writeTree,e.treePath,t,n,0,i,s)}(this.writes_,r,t,0,n,e);return 0===i.length?null:i[0]}}function BS(e,t,n,r,i,s){const o=t.eventCache;if(null!=FS(r,n))return t;{let a,l;if(zI(n))if((0,js.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=gS(t),i=LS(r,n instanceof SE?n:SE.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=DS(r,gS(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const c=MI(n);if(".priority"===c){(0,js.hu)(1===FI(n),"Can't have a priority with additional path components");const i=o.getNode();l=t.serverCache.getNode();const s=MS(r,n,i,l);a=null!=s?e.filter.updatePriority(i,s):o.getNode()}else{const u=UI(n);let h;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const e=MS(r,n,o.getNode(),l);h=null!=e?o.getNode().getImmediateChild(c).updateChild(u,e):o.getNode().getImmediateChild(c)}else h=US(r,c,t.serverCache);a=null!=h?e.filter.updateChild(o.getNode(),c,h,u,i,s):o.getNode()}}return dS(t,a,o.isFullyInitialized()||zI(n),e.filter.filtersNodes())}}function HS(e,t,n,r,i,s,o,a){const l=t.serverCache;let c;const u=o?e.filter:e.filter.getIndexedFilter();if(zI(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=MI(n);if(!l.isCompleteForPath(n)&&FI(n)>1)return t;const i=UI(n),s=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),s):u.updateChild(l.getNode(),e,s,i,ZS,null)}const h=pS(t,c,l.isFullyInitialized()||zI(n),u.filtersNodes());return BS(e,h,n,i,new zS(i,h,s),a)}function $S(e,t,n,r,i,s,o){const a=t.eventCache;let l,c;const u=new zS(i,t,s);if(zI(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=dS(t,c,!0,e.filter.filtersNodes());else{const i=MI(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=dS(t,c,a.isFullyInitialized(),a.isFiltered());else{const s=UI(n),c=a.getNode().getImmediateChild(i);let h;if(zI(s))h=r;else{const e=u.getCompleteChild(i);h=null!=e?".priority"===VI(s)&&e.getChild(jI(s)).isEmpty()?e:e.updateChild(s,r):SE.EMPTY_NODE}l=c.equals(h)?t:dS(t,e.filter.updateChild(a.getNode(),i,h,s,u,o),a.isFullyInitialized(),e.filter.filtersNodes())}}return l}function GS(e,t){return e.eventCache.isCompleteForChild(t)}function WS(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function KS(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=zI(n)?r:new yS(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const l=WS(0,t.serverCache.getNode().getImmediateChild(n),r);c=HS(e,c,new DI(n),l,i,s,o,a)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!u.hasChild(n)&&!l){const l=WS(0,t.serverCache.getNode().getImmediateChild(n),r);c=HS(e,c,new DI(n),l,i,s,o,a)}}),c}class QS{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new VE(n.getIndex()),i=(s=n).loadsAllData()?new VE(s.getIndex()):s.hasLimit()?new jE(s):new qE(s);var s;this.processor_=function(e){return{filter:e}}(i);const o=t.serverCache,a=t.eventCache,l=r.updateFullNode(SE.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(SE.EMPTY_NODE,a.getNode(),null),u=new lS(l,o.isFullyInitialized(),r.filtersNodes()),h=new lS(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=hS(h,u),this.eventGenerator_=new cS(this.query_)}get query(){return this.query_}}function YS(e,t){const n=gS(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!zI(t)&&!n.getImmediateChild(MI(t)).isEmpty())?n.getChild(t):null}function JS(e){return 0===e.eventRegistrations_.length}function XS(e,t,n){const r=[];if(n){(0,js.hu)(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function ek(e,t,n,r){t.type===nS.MERGE&&null!==t.source.queryId&&((0,js.hu)(gS(e.viewCache_),"We should always have a full cache before handling merges"),(0,js.hu)(fS(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=function(e,t,n,r,i){const s=new jS;let o,a;if(n.type===nS.OVERWRITE){const l=n;l.source.fromUser?o=$S(e,t,l.path,l.snap,r,i,s):((0,js.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!zI(l.path),o=HS(e,t,l.path,l.snap,r,i,a,s))}else if(n.type===nS.MERGE){const l=n;l.source.fromUser?o=function(e,t,n,r,i,s,o){let a=t;return r.foreach((r,l)=>{const c=ZI(n,r);GS(t,MI(c))&&(a=$S(e,a,c,l,i,s,o))}),r.foreach((r,l)=>{const c=ZI(n,r);GS(t,MI(c))||(a=$S(e,a,c,l,i,s,o))}),a}(e,t,l.path,l.children,r,i,s):((0,js.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),o=KS(e,t,l.path,l.children,r,i,a,s))}else if(n.type===nS.ACK_USER_WRITE){const a=n;o=a.revert?function(e,t,n,r,i,s){let o;if(null!=FS(r,n))return t;{const a=new zS(r,t,i),l=t.eventCache.getNode();let c;if(zI(n)||".priority"===MI(n)){let n;if(t.serverCache.isFullyInitialized())n=DS(r,gS(t));else{const e=t.serverCache.getNode();(0,js.hu)(e instanceof SE,"serverChildren would be complete if leaf node"),n=LS(r,e)}n=n,c=e.filter.updateFullNode(l,n,s)}else{const i=MI(n);let u=US(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,UI(n),a,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,SE.EMPTY_NODE,UI(n),a,s):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=DS(r,gS(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=FS(r,LI()),dS(t,c,o,e.filter.filtersNodes())}}(e,t,a.path,r,i,s):function(e,t,n,r,i,s,o){if(null!=FS(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(zI(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return HS(e,t,n,l.getNode().getChild(n),i,s,a,o);if(zI(n)){let r=new yS(null);return l.getNode().forEachChild(iE,(e,t)=>{r=r.set(new DI(e),t)}),KS(e,t,n,r,i,s,a,o)}return t}{let c=new yS(null);return r.foreach((e,t)=>{const r=ZI(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),KS(e,t,n,c,i,s,a,o)}}(e,t,a.path,a.affectedTree,r,i,s)}else{if(n.type!==nS.LISTEN_COMPLETE)throw(0,js.g5)("Unknown operation type: "+n.type);o=function(e,t,n,r,i){const s=t.serverCache;return BS(e,pS(t,s.getNode(),s.isFullyInitialized()||zI(n),s.isFiltered()),n,r,ZS,i)}(e,t,n.path,r,s)}const l=s.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=fS(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(LE(fS(t)))}}(t,o,l),{viewCache:o,changes:l}}(e.processor_,i,t,n,r);var o,a;return o=e.processor_,(0,js.hu)((a=s.viewCache).eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),(0,js.hu)(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),(0,js.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,tk(e,s.changes,s.viewCache.eventCache.getNode(),null)}function tk(e,t,n,r){return function(e,t,n,r){const i=[],s=[];return t.forEach(t=>{"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push({type:"child_moved",snapshotNode:t.snapshotNode,childName:t.childName})}),uS(e,i,"child_removed",t,r,n),uS(e,i,"child_added",t,r,n),uS(e,i,"child_moved",s,r,n),uS(e,i,"child_changed",t,r,n),uS(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r?[r]:e.eventRegistrations_)}let nk,rk;class ik{constructor(){this.views=new Map}}function sk(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return(0,js.hu)(null!=s,"SyncTree gave us an op for an invalid query."),ek(s,t,n,r)}{let i=[];for(const s of e.views.values())i=i.concat(ek(s,t,n,r));return i}}function ok(e,t,n,r,i){const s=e.views.get(t._queryIdentifier);if(!s){let e=DS(n,i?r:null),s=!1;e?s=!0:r instanceof SE?(e=LS(n,r),s=!1):(e=SE.EMPTY_NODE,s=!1);const o=hS(new lS(e,s,!1),new lS(r,i,!1));return new QS(t,o)}return s}function ak(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function lk(e,t){let n=null;for(const r of e.views.values())n=n||YS(r,t);return n}function ck(e,t){return t._queryParams.loadsAllData()?dk(e):e.views.get(t._queryIdentifier)}function uk(e,t){return null!=ck(e,t)}function hk(e){return null!=dk(e)}function dk(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let pk=1;class fk{constructor(e){this.listenProvider_=e,this.syncPointTree_=new yS(null),this.pendingWriteTree_={visibleWrites:_S.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function gk(e,t,n,r,i){return function(e,t,n,r,i){(0,js.hu)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=vS(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?bk(e,new oS({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function mk(e,t,n=!1){const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);(0,js.hu)(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const t=e.allWrites[o];t.visible&&(o>=n&&PS(t,r.path)?i=!1:GI(r.path,t.path)&&(s=!0)),o--}return!!i&&(s?(function(e){e.visibleWrites=NS(e.allWrites,OS,LI()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=bS(e.visibleWrites,r.path):oI(r.children,t=>{e.visibleWrites=bS(e.visibleWrites,ZI(r.path,t))}),!0))}(e.pendingWriteTree_,t)){let t=new yS(null);return null!=r.snap?t=t.set(LI(),!0):oI(r.children,e=>{t=t.set(new DI(e),!0)}),bk(e,new iS(r.path,t,n))}return[]}function yk(e,t,n){return bk(e,new oS({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function _k(e,t,n,r){const i=t._path,s=e.syncPointTree_.get(i);let o=[];if(s&&("default"===t._queryIdentifier||uk(s,t))){const a=function(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const a=hk(e);if("default"===i)for(const[l,c]of e.views.entries())o=o.concat(XS(c,n,r)),JS(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const t=e.views.get(i);t&&(o=o.concat(XS(t,n,r)),JS(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||s.push(t.query)))}return a&&!hk(e)&&s.push(new((0,js.hu)(nk,"Reference.ts has not been loaded"),nk)(t._repo,t._path)),{removed:s,events:o}}(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));const l=a.removed;o=a.events;const c=-1!==l.findIndex(e=>e._queryParams.loadsAllData()),u=e.syncPointTree_.findOnPath(i,(e,t)=>hk(t));if(c&&!u){const t=e.syncPointTree_.subtree(i);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&hk(t))return[dk(t)];{let e=[];return t&&(e=ak(t)),oI(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,s=Ik(e,r);e.listenProvider_.startListening(Pk(i),Ek(e,i),s.hashFn,s.onComplete)}}}if(!u&&l.length>0&&!r)if(c){const n=null;e.listenProvider_.stopListening(Pk(t),n)}else l.forEach(t=>{const n=e.queryToTagMap.get(Sk(t));e.listenProvider_.stopListening(Pk(t),n)});!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Sk(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,l)}return o}function vk(e,t,n){const r=t._path;let i=null,s=!1;e.syncPointTree_.foreachOnPath(r,(e,t)=>{const n=BI(e,r);i=i||lk(t,n),s=s||hk(t)});let o,a=e.syncPointTree_.get(r);a?(s=s||hk(a),i=i||lk(a,LI())):(a=new ik,e.syncPointTree_=e.syncPointTree_.set(r,a)),null!=i?o=!0:(o=!1,i=SE.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((e,t)=>{const n=lk(t,LI());n&&(i=i.updateImmediateChild(e,n))}));const l=uk(a,t);if(!l&&!t._queryParams.loadsAllData()){const n=Sk(t);(0,js.hu)(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=pk++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let c=function(e,t,n,r,i,s){const o=ok(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(_E,(e,t)=>{r.push(ME(e,t))}),n.isFullyInitialized()&&r.push(LE(n.getNode())),tk(e,r,n.getNode(),t)}(o,n)}(a,t,n,xS(e.pendingWriteTree_,r),i,o);if(!l&&!s){const n=ck(a,t);c=c.concat(function(e,t,n){const r=t._path,i=Ek(e,t),s=Ik(e,n),o=e.listenProvider_.startListening(Pk(t),i,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(r);if(i)(0,js.hu)(!hk(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold((e,t,n)=>{if(!zI(e)&&t&&hk(t))return[dk(t).query];{let e=[];return t&&(e=e.concat(ak(t).map(e=>e.query))),oI(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(Pk(r),Ek(e,r))}}return o}(e,t,n))}return c}function wk(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=lk(n,BI(e,t));if(r)return r});return RS(r,t,i,n,!0)}function bk(e,t){return Ck(t,e.syncPointTree_,null,xS(e.pendingWriteTree_,LI()))}function Ck(e,t,n,r){if(zI(e.path))return Tk(e,t,n,r);{const i=t.get(LI());null==n&&null!=i&&(n=lk(i,LI()));let s=[];const o=MI(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=VS(r,o);s=s.concat(Ck(a,l,e,t))}return i&&(s=s.concat(sk(i,e,r,n))),s}}function Tk(e,t,n,r){const i=t.get(LI());null==n&&null!=i&&(n=lk(i,LI()));let s=[];return t.children.inorderTraversal((t,i)=>{const o=n?n.getImmediateChild(t):null,a=VS(r,t),l=e.operationForChild(t);l&&(s=s.concat(Tk(l,i,o,a)))}),i&&(s=s.concat(sk(i,e,r,n))),s}function Ik(e,t){const n=t.query,r=Ek(e,n);return{hashFn:()=>(function(e){return e.viewCache_.serverCache.getNode()}(t)||SE.EMPTY_NODE).hash(),onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=kk(e,n);if(r){const n=Ak(r),i=n.path,s=n.queryId,o=BI(i,t);return xk(e,i,new sS(rS(s),o))}return[]}(e,n._path,r):function(e,t){return bk(e,new sS({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return _k(e,n,null,r)}}}}function Ek(e,t){const n=Sk(t);return e.queryToTagMap.get(n)}function Sk(e){return e._path.toString()+"$"+e._queryIdentifier}function kk(e,t){return e.tagToQueryMap.get(t)}function Ak(e){const t=e.indexOf("$");return(0,js.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new DI(e.substr(0,t))}}function xk(e,t,n){const r=e.syncPointTree_.get(t);return(0,js.hu)(r,"Missing sync point for query tag that we're tracking"),sk(r,n,xS(e.pendingWriteTree_,t),null)}function Pk(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,js.hu)(rk,"Reference.ts has not been loaded"),rk)(e._repo,e._path):e}class Ok{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Ok(t)}node(){return this.node_}}class Nk{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ZI(this.path_,e);return new Nk(this.syncTree_,t)}node(){return wk(this.syncTree_,this.path_)}}const Rk=function(e,t,n){return e&&"object"==typeof e?((0,js.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Dk(e[".sv"],t,n):"object"==typeof e[".sv"]?Lk(e[".sv"],t):void(0,js.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Dk=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:(0,js.hu)(!1,"Unexpected server value: "+e)}},Lk=function(e,t,n){e.hasOwnProperty("increment")||(0,js.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&(0,js.hu)(!1,"Unexpected increment value: "+r);const i=t.node();if((0,js.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},Mk=function(e,t,n,r){return Uk(t,new Nk(n,e),r)},Fk=function(e,t,n){return Uk(e,new Ok(t),n)};function Uk(e,t,n){const r=e.getPriority().val(),i=Rk(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const r=e,s=Rk(r.getValue(),t,n);return s!==r.getValue()||i!==r.getPriority().val()?new yE(s,AE(i)):e}{const r=e;return s=r,i!==r.getPriority().val()&&(s=s.updatePriority(new yE(i))),r.forEachChild(_E,(e,r)=>{const i=Uk(r,t.getImmediateChild(e),n);i!==r&&(s=s.updateImmediateChild(e,i))}),s}}class Vk{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function qk(e,t){let n=t instanceof DI?t:new DI(t),r=e,i=MI(n);for(;null!==i;){const e=(0,js.DV)(r.node.children,i)||{children:{},childCount:0};r=new Vk(i,r,e),n=UI(n),i=MI(n)}return r}function jk(e){return e.node.value}function Zk(e,t){e.node.value=t,Gk(e)}function zk(e){return e.node.childCount>0}function Bk(e,t){oI(e.node.children,(n,r)=>{t(new Vk(n,e,r))})}function Hk(e,t,n,r){n&&!r&&t(e),Bk(e,e=>{Hk(e,t,!0,r)}),n&&r&&t(e)}function $k(e){return new DI(null===e.parent?e.name:$k(e.parent)+"/"+e.name)}function Gk(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===jk(e)&&!zk(e)}(n),i=(0,js.r3)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Gk(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Gk(e))}(e.parent,e.name,e)}const Wk=/[\[\].#$\/\u0000-\u001F\u007F]/,Kk=/[\[\].#$\u0000-\u001F\u007F]/,Qk=10485760,Yk=function(e){return"string"==typeof e&&0!==e.length&&!Wk.test(e)},Jk=function(e){return"string"==typeof e&&0!==e.length&&!Kk.test(e)},Xk=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!JT(e)||e&&"object"==typeof e&&(0,js.r3)(e,".sv")},eA=function(e,t,n,r){r&&void 0===t||tA((0,js.gK)(e,"value"),t,n)},tA=function(e,t,n){const r=n instanceof DI?new WI(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+QI(r));if("function"==typeof t)throw new Error(e+"contains a function "+QI(r)+" with contents = "+t.toString());if(JT(t))throw new Error(e+"contains "+t.toString()+" "+QI(r));if("string"==typeof t&&t.length>Qk/3&&(0,js.ug)(t)>Qk)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+QI(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,i=!1;if(oI(t,(t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!Yk(t)))throw new Error(e+" contains an invalid key ("+t+") "+QI(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,js.ug)(t),KI(e)}(r,t),tA(e,s,r),function(e){const t=e.parts_.pop();e.byteLength_-=(0,js.ug)(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&i)throw new Error(e+' contains ".value" child '+QI(r)+" in addition to actual children.")}},nA=function(e,t,n,r){if(r&&void 0===t)return;const i=(0,js.gK)(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];oI(t,(e,t)=>{const r=new DI(e);if(tA(i,t,ZI(n,r)),".priority"===VI(r)&&!Xk(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=qI(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!Yk(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(HI);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&GI(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},rA=function(e,t,n){if(!n||void 0!==t){if(JT(t))throw new Error((0,js.gK)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Xk(t))throw new Error((0,js.gK)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},iA=function(e,t,n,r){if(!(r&&void 0===n||Yk(n)))throw new Error((0,js.gK)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},sA=function(e,t,n,r){if(!(r&&void 0===n||Jk(n)))throw new Error((0,js.gK)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},oA=function(e,t){if(".info"===MI(t))throw new Error(e+" failed = Can't modify data under /.info/")},aA=function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Yk(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Jk(e)}(n))throw new Error((0,js.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class lA{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function cA(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null===n||$I(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function uA(e,t,n){cA(e,n),dA(e,e=>$I(e,t))}function hA(e,t,n){cA(e,n),dA(e,e=>GI(e,t)||GI(t,e))}function dA(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(pA(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function pA(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();BT&&GT("event: "+n.toString()),uI(r)}}}const fA="repo_interrupt";class gA{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new lA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=QE(),this.transactionQueueTree_=new Vk,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function mA(e){const t=e.infoData_.getNode(new DI(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function yA(e){return(t=(t={timestamp:mA(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function _A(e,t,n,r,i){e.dataUpdateCount++;const s=new DI(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const t=(0,js.UI)(n,e=>AE(e));o=function(e,t,n,r){const i=kk(e,r);if(i){const r=Ak(i),s=r.path,o=r.queryId,a=BI(s,t),l=yS.fromObject(n);return xk(e,s,new aS(rS(o),a,l))}return[]}(e.serverSyncTree_,s,t,i)}else{const t=AE(n);o=function(e,t,n,r){const i=kk(e,r);if(null!=i){const r=Ak(i),s=r.path,o=r.queryId,a=BI(s,t);return xk(e,s,new oS(rS(o),a,n))}return[]}(e.serverSyncTree_,s,t,i)}else if(r){const t=(0,js.UI)(n,e=>AE(e));o=function(e,t,n){const r=yS.fromObject(n);return bk(e,new aS({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,t)}else{const t=AE(n);o=yk(e.serverSyncTree_,s,t)}let a=s;o.length>0&&(a=OA(e,s)),hA(e.eventQueue_,a,o)}function vA(e,t){wA(e,"connected",t),!1===t&&function(e){kA(e,"onDisconnectEvents");const t=yA(e),n=QE();XE(e.onDisconnect_,LI(),(r,i)=>{const s=Mk(r,i,e.serverSyncTree_,t);YE(n,r,s)});let r=[];XE(n,LI(),(t,n)=>{r=r.concat(yk(e.serverSyncTree_,t,n));const i=MA(e,t);OA(e,i)}),e.onDisconnect_=QE(),hA(e.eventQueue_,LI(),r)}(e)}function wA(e,t,n){const r=new DI("/.info/"+t),i=AE(n);e.infoData_.updateSnapshot(r,i);const s=yk(e.infoSyncTree_,r,i);hA(e.eventQueue_,r,s)}function bA(e){return e.nextWriteId_++}function CA(e,t,n,r,i){kA(e,"set",{path:t.toString(),value:n,priority:r});const s=yA(e),o=AE(n,r),a=wk(e.serverSyncTree_,t),l=Fk(o,a,s),c=bA(e),u=gk(e.serverSyncTree_,t,l,c,!0);cA(e.eventQueue_,u),e.server_.put(t.toString(),o.val(!0),(n,r)=>{const s="ok"===n;s||YT("set at "+t+" failed: "+n);const o=mk(e.serverSyncTree_,c,!s);hA(e.eventQueue_,t,o),AA(0,i,n,r)});const h=MA(e,t);OA(e,h),hA(e.eventQueue_,h,[])}function TA(e,t,n){e.server_.onDisconnectCancel(t.toString(),(r,i)=>{"ok"===r&&JE(e.onDisconnect_,t),AA(0,n,r,i)})}function IA(e,t,n,r){const i=AE(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(n,s)=>{"ok"===n&&YE(e.onDisconnect_,t,i),AA(0,r,n,s)})}function EA(e,t,n){let r;r=".info"===MI(t._path)?_k(e.infoSyncTree_,t,n):_k(e.serverSyncTree_,t,n),uA(e.eventQueue_,t._path,r)}function SA(e){e.persistentConnection_&&e.persistentConnection_.interrupt(fA)}function kA(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),GT(n,...t)}function AA(e,t,n,r){t&&uI(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const s=new Error(i);s.code=e,t(s)}})}function xA(e,t,n){return wk(e.serverSyncTree_,t,n)||SE.EMPTY_NODE}function PA(e,t=e.transactionQueueTree_){if(t||LA(e,t),jk(t)){const n=RA(e,t);(0,js.hu)(n.length>0,"Sending zero length transaction queue"),n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),i=xA(e,t,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const e=n[c];(0,js.hu)(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=BI(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,r=>{kA(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(mk(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();LA(e,qk(e.transactionQueueTree_,t)),PA(e,e.transactionQueueTree_),hA(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)uI(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)n[e].status=3===n[e].status?4:0;else{YT("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}OA(e,t)}},o)}(e,$k(t),n)}else zk(t)&&Bk(t,t=>{PA(e,t)})}function OA(e,t){const n=NA(e,t),r=$k(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter(e=>0===e.status).map(e=>e.currentWriteId);for(let o=0;o<t.length;o++){const a=t[o],l=BI(n,a.path);let c,u=!1;if((0,js.hu)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===a.status)u=!0,c=a.abortReason,i=i.concat(mk(e.serverSyncTree_,a.currentWriteId,!0));else if(0===a.status)if(a.retryCount>=25)u=!0,c="maxretry",i=i.concat(mk(e.serverSyncTree_,a.currentWriteId,!0));else{const n=xA(e,a.path,s);a.currentInputSnapshot=n;const r=t[o].update(n.val());if(void 0!==r){tA("transaction failed: Data returned ",r,a.path);let t=AE(r);"object"==typeof r&&null!=r&&(0,js.r3)(r,".priority")||(t=t.updatePriority(n.getPriority()));const o=a.currentWriteId,l=yA(e),c=Fk(t,n,l);a.currentOutputSnapshotRaw=t,a.currentOutputSnapshotResolved=c,a.currentWriteId=bA(e),s.splice(s.indexOf(o),1),i=i.concat(gk(e.serverSyncTree_,a.path,c,a.currentWriteId,a.applyLocally)),i=i.concat(mk(e.serverSyncTree_,o,!0))}else u=!0,c="nodata",i=i.concat(mk(e.serverSyncTree_,a.currentWriteId,!0))}hA(e.eventQueue_,n,i),i=[],u&&(t[o].status=2,setTimeout(t[o].unwatcher,Math.floor(0)),t[o].onComplete&&r.push("nodata"===c?()=>t[o].onComplete(null,!1,t[o].currentInputSnapshot):()=>t[o].onComplete(new Error(c),!1,null)))}LA(e,e.transactionQueueTree_);for(let o=0;o<r.length;o++)uI(r[o]);PA(e,e.transactionQueueTree_)}(e,RA(e,n),r),r}function NA(e,t){let n,r=e.transactionQueueTree_;for(n=MI(t);null!==n&&void 0===jk(r);)r=qk(r,n),n=MI(t=UI(t));return r}function RA(e,t){const n=[];return DA(e,t,n),n.sort((e,t)=>e.order-t.order),n}function DA(e,t,n){const r=jk(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Bk(t,t=>{DA(e,t,n)})}function LA(e,t){const n=jk(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Zk(t,n.length>0?n:void 0)}Bk(t,t=>{LA(e,t)})}function MA(e,t){const n=$k(NA(e,t)),r=qk(e.transactionQueueTree_,t);return function(e,t,n){let r=e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{FA(e,t)}),FA(e,r),Hk(r,t=>{FA(e,t)}),n}function FA(e,t){const n=jk(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?((0,js.hu)(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):((0,js.hu)(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(mk(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Zk(t,void 0):n.length=s+1,hA(e.eventQueue_,$k(t),i);for(let e=0;e<r.length;e++)uI(r[e])}}const UA=function(e,t){const n=VA(e),r=n.namespace;return"firebase.com"===n.domain&&QT(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||QT("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&YT("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new _I(n.host,n.secure,r,t,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new DI(n.pathString)}},VA=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):YT(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class qA{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,js.Pz)(this.snapshot.exportVal())}}class jA{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class ZA{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,js.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class zA{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new js.BH;return TA(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){oA("OnDisconnect.remove",this._path);const e=new js.BH;return IA(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){oA("OnDisconnect.set",this._path),eA("OnDisconnect.set",e,this._path,!1);const t=new js.BH;return IA(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){oA("OnDisconnect.setWithPriority",this._path),eA("OnDisconnect.setWithPriority",e,this._path,!1),rA("OnDisconnect.setWithPriority",t,!1);const n=new js.BH;return function(e,t,n,r,i){const s=AE(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),(n,r)=>{"ok"===n&&YE(e.onDisconnect_,t,s),AA(0,i,n,r)})}(this._repo,this._path,e,t,n.wrapCallback(()=>{})),n.promise}update(e){oA("OnDisconnect.update",this._path),nA("OnDisconnect.update",e,this._path,!1);const t=new js.BH;return function(e,t,n,r){if((0,js.xb)(n))return GT("onDisconnect().update() called with empty data.  Don't do anything."),void AA(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(i,s)=>{"ok"===i&&oI(n,(n,r)=>{const i=AE(r);YE(e.onDisconnect_,ZI(t,n),i)}),AA(0,r,i,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class BA{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return zI(this._path)?null:VI(this._path)}get ref(){return new WA(this._repo,this._path)}get _queryIdentifier(){const e=GE(this._queryParams),t=iI(e);return"{}"===t?"default":t}get _queryObject(){return GE(this._queryParams)}isEqual(e){if(!((e=(0,js.m9)(e))instanceof BA))return!1;const t=this._repo===e._repo,n=$I(this._path,e._path);return t&&n&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function HA(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function $A(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===iE){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==XT)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==eI)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===_E){if(null!=t&&!Xk(t)||null!=n&&!Xk(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,js.hu)(e.getIndex()instanceof xE||e.getIndex()===PE,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function GA(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class WA extends BA{constructor(e,t){super(e,t,new ZE,!1)}get parent(){const e=jI(this._path);return null===e?null:new WA(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class KA{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new DI(e),n=JA(this.ref,e);return new KA(this._node.getChild(t),n,_E)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(t,n)=>e(new KA(n,JA(this.ref,t),_E)))}hasChild(e){const t=new DI(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function QA(e,t){return(e=(0,js.m9)(e))._checkNotDeleted("ref"),void 0!==t?JA(e._root,t):e._root}function YA(e,t){(e=(0,js.m9)(e))._checkNotDeleted("refFromURL");const n=UA(t,e._repo.repoInfo_.nodeAdmin);aA("refFromURL",n);const r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||QT("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),QA(e,n.path.toString())}function JA(e,t){var n;return null===MI((e=(0,js.m9)(e))._path)?((n=t)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),sA("child","path",n,!1)):sA("child","path",t,!1),new WA(e._repo,ZI(e._path,t))}function XA(e,t){e=(0,js.m9)(e),oA("set",e._path),eA("set",t,e._path,!1);const n=new js.BH;return CA(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}class ex{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new qA("value",this,new KA(e.snapshotNode,new WA(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new jA(this,e,t):null}matches(e){return e instanceof ex&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class tx{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new jA(this,e,t):null}createEvent(e,t){(0,js.hu)(null!=e.childName,"Child events should have a childName.");const n=JA(new WA(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new qA(e.type,this,new KA(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof tx&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function nx(e,t,n,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{EA(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const o=new ZA(n,s||void 0),a="value"===t?new ex(o):new tx(t,o);return function(e,t,n){let r;r=".info"===MI(t._path)?vk(e.infoSyncTree_,t,n):vk(e.serverSyncTree_,t,n),uA(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>EA(e._repo,e,a)}function rx(e,t,n,r){return nx(e,"value",t,n,r)}function ix(e,t,n,r){return nx(e,"child_added",t,n,r)}function sx(e,t,n,r){return nx(e,"child_changed",t,n,r)}function ox(e,t,n,r){return nx(e,"child_moved",t,n,r)}function ax(e,t,n,r){return nx(e,"child_removed",t,n,r)}function lx(e,t,n){let r=null;const i=n?new ZA(n):null;"value"===t?r=new ex(i):t&&(r=new tx(t,i)),EA(e._repo,e,r)}class cx{}class ux extends cx{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){eA("endAt",this._value,e._path,!0);const t=BE(e._queryParams,this._value,this._key);if(GA(t),$A(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new BA(e._repo,e._path,t,e._orderByCalled)}}class hx extends cx{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){eA("endBefore",this._value,e._path,!1);const t=function(e,t,n){let r,i;return e.index_===iE?("string"==typeof t&&(t=DE(t)),i=BE(e,t,n)):(r=null==n?XT:DE(n),i=BE(e,t,r)),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(GA(t),$A(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new BA(e._repo,e._path,t,e._orderByCalled)}}class dx extends cx{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){eA("startAt",this._value,e._path,!0);const t=zE(e._queryParams,this._value,this._key);if(GA(t),$A(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new BA(e._repo,e._path,t,e._orderByCalled)}}class px extends cx{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){eA("startAfter",this._value,e._path,!1);const t=function(e,t,n){let r;if(e.index_===iE)"string"==typeof t&&(t=RE(t)),r=zE(e,t,n);else{let i;i=null==n?eI:RE(n),r=zE(e,t,i)}return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(GA(t),$A(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new BA(e._repo,e._path,t,e._orderByCalled)}}class fx extends cx{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new BA(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class gx extends cx{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new BA(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class mx extends cx{constructor(e){super(),this._path=e}_apply(e){HA(e,"orderByChild");const t=new DI(this._path);if(zI(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new xE(t),r=HE(e._queryParams,n);return $A(r),new BA(e._repo,e._path,r,!0)}}class yx extends cx{_apply(e){HA(e,"orderByKey");const t=HE(e._queryParams,iE);return $A(t),new BA(e._repo,e._path,t,!0)}}class _x extends cx{_apply(e){HA(e,"orderByPriority");const t=HE(e._queryParams,_E);return $A(t),new BA(e._repo,e._path,t,!0)}}class vx extends cx{_apply(e){HA(e,"orderByValue");const t=HE(e._queryParams,PE);return $A(t),new BA(e._repo,e._path,t,!0)}}class wx extends cx{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(eA("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ux(this._value,this._key)._apply(new dx(this._value,this._key)._apply(e))}}function bx(e,...t){let n=(0,js.m9)(e);for(const r of t)n=r._apply(n);return n}!function(e){(0,js.hu)(!nk,"__referenceConstructor has already been defined"),nk=e}(WA),function(e){(0,js.hu)(!rk,"__referenceConstructor has already been defined"),rk=e}(WA);const Cx={};function Tx(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||QT("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),GT("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o,a,l=UA(s,i),c=l.repoInfo;"undefined"!=typeof process&&(a=process.env.FIREBASE_DATABASE_EMULATOR_HOST),a?(o=!0,s=`http://${a}?ns=${c.namespace}`,l=UA(s,i),c=l.repoInfo):o=!l.repoInfo.secure;const u=i&&o?new fI(fI.OWNER):new pI(e.name,e.options,t);aA("Invalid Firebase Database URL",l),zI(l.path)||QT("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=Cx[t.name];i||(i={},Cx[t.name]=i);let s=i[e.toURLString()];return s&&QT("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new gA(e,!1,n,r),i[e.toURLString()]=s,s}(c,e,u,new dI(e.name,n));return new Ix(h,e)}class Ix{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(e,t,n){if(e.stats_=TI(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new WE(e.repoInfo_,(t,n,r,i)=>{_A(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>vA(e,!0),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,js.Pz)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new eE(e.repoInfo_,t,(t,n,r,i)=>{_A(e,t,n,r,i)},t=>{vA(e,t)},t=>{!function(e,t){oI(t,(t,n)=>{wA(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(t,n){const r=t.toString();return CI[r]||(CI[r]=new tS(e.stats_,e.server_)),CI[r]}(e.repoInfo_),e.infoData_=new KE,e.infoSyncTree_=new fk({startListening:(t,n,r,i)=>{let s=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=yk(e.infoSyncTree_,t._path,o),setTimeout(()=>{i("ok")},0)),s},stopListening:()=>{}}),wA(e,"connected",!1),e.serverSyncTree_=new fk({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{const s=i(n,r);hA(e.eventQueue_,t._path,s)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new WA(this._repo,LI())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){const n=Cx[t];n&&n[e.key]===e||QT(`Database ${t}(${e.repoInfo_}) has already been deleted.`),SA(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&QT("Cannot call "+e+" on a deleted database.")}}function Ex(e,t){$T(e,t)}const Sx={".sv":"timestamp"};class kx{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}eE.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},eE.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},DT(Us.SDK_VERSION),(0,Us._registerComponent)(new Vs.wA("database",(e,{instanceIdentifier:t})=>Tx(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Us.registerVersion)("@firebase/database","0.12.1",void 0);const Ax=new qs.Yd("@firebase/database-compat"),xx=function(e){Ax.warn("FIREBASE WARNING: "+e)};class Px{constructor(e){this._delegate=e}cancel(e){(0,js.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,js.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),t=>e(t)),t}remove(e){(0,js.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,js.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),t=>e(t)),t}set(e,t){(0,js.Dv)("OnDisconnect.set",1,2,arguments.length),(0,js.Wj)("OnDisconnect.set","onComplete",t,!0);const n=this._delegate.set(e);return t&&n.then(()=>t(null),e=>t(e)),n}setWithPriority(e,t,n){(0,js.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,js.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);const r=this._delegate.setWithPriority(e,t);return n&&r.then(()=>n(null),e=>n(e)),r}update(e,t){if((0,js.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,xx("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,js.Wj)("OnDisconnect.update","onComplete",t,!0);const n=this._delegate.update(e);return t&&n.then(()=>t(null),e=>t(e)),n}}class Ox{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,js.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Nx{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,js.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,js.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,js.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,js.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,js.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),sA("DataSnapshot.child","path",e,!1),new Nx(this._database,this._delegate.child(e))}hasChild(e){return(0,js.Dv)("DataSnapshot.hasChild",1,1,arguments.length),sA("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,js.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,js.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,js.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Nx(this._database,t)))}hasChildren(){return(0,js.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,js.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,js.Dv)("DataSnapshot.ref",0,0,arguments.length),new Dx(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Rx{constructor(e,t){this.database=e,this._delegate=t}on(e,t,n,r){var i;(0,js.Dv)("Query.on",2,4,arguments.length),(0,js.Wj)("Query.on","callback",t,!1);const s=Rx.getCancelAndContextArgs_("Query.on",n,r),o=(e,n)=>{t.call(s.context,new Nx(this.database,e),n)};o.userCallback=t,o.context=s.context;const a=null===(i=s.cancel)||void 0===i?void 0:i.bind(s.context);switch(e){case"value":return rx(this._delegate,o,a),t;case"child_added":return ix(this._delegate,o,a),t;case"child_removed":return ax(this._delegate,o,a),t;case"child_changed":return sx(this._delegate,o,a),t;case"child_moved":return ox(this._delegate,o,a),t;default:throw new Error((0,js.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,n){if((0,js.Dv)("Query.off",0,3,arguments.length),function(e,t,n){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,js.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,js.Wj)("Query.off","callback",t,!0),(0,js.lb)("Query.off","context",n,!0),t){const r=()=>{};r.userCallback=t,r.context=n,lx(this._delegate,e,r)}else lx(this._delegate,e)}get(){return function(e){return function(e,t){const n=function(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(e,t)=>{const i=BI(e,n);r=r||lk(t,i)});let i=e.syncPointTree_.get(n);i?r=r||lk(i,LI()):(i=new ik,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=null!=r,o=s?new lS(r,!0,!1):null;return fS(ok(i,t,xS(e.pendingWriteTree_,t._path),s?o.getNode():SE.EMPTY_NODE,s).viewCache_)}(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then(n=>{const r=AE(n).withIndex(t._queryParams.getIndex()),i=yk(e.serverSyncTree_,t._path,r);return uA(e.eventQueue_,t._path,i),Promise.resolve(r)},n=>(kA(e,"get for query "+(0,js.Pz)(t)+" failed: "+n),Promise.reject(new Error(n))))}((e=(0,js.m9)(e))._repo,e).then(t=>new KA(t,new WA(e._repo,e._path),e._queryParams.getIndex()))}(this._delegate).then(e=>new Nx(this.database,e))}once(e,t,n,r){(0,js.Dv)("Query.once",1,4,arguments.length),(0,js.Wj)("Query.once","callback",t,!0);const i=Rx.getCancelAndContextArgs_("Query.once",n,r),s=new js.BH,o=(e,n)=>{const r=new Nx(this.database,e);t&&t.call(i.context,r,n),s.resolve(r)};o.userCallback=t,o.context=i.context;const a=e=>{i.cancel&&i.cancel.call(i.context,e),s.reject(e)};switch(e){case"value":rx(this._delegate,o,a,{onlyOnce:!0});break;case"child_added":ix(this._delegate,o,a,{onlyOnce:!0});break;case"child_removed":ax(this._delegate,o,a,{onlyOnce:!0});break;case"child_changed":sx(this._delegate,o,a,{onlyOnce:!0});break;case"child_moved":ox(this._delegate,o,a,{onlyOnce:!0});break;default:throw new Error((0,js.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return(0,js.Dv)("Query.limitToFirst",1,1,arguments.length),new Rx(this.database,bx(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new fx(e)}(e)))}limitToLast(e){return(0,js.Dv)("Query.limitToLast",1,1,arguments.length),new Rx(this.database,bx(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new gx(e)}(e)))}orderByChild(e){return(0,js.Dv)("Query.orderByChild",1,1,arguments.length),new Rx(this.database,bx(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return sA("orderByChild","path",e,!1),new mx(e)}(e)))}orderByKey(){return(0,js.Dv)("Query.orderByKey",0,0,arguments.length),new Rx(this.database,bx(this._delegate,new yx))}orderByPriority(){return(0,js.Dv)("Query.orderByPriority",0,0,arguments.length),new Rx(this.database,bx(this._delegate,new _x))}orderByValue(){return(0,js.Dv)("Query.orderByValue",0,0,arguments.length),new Rx(this.database,bx(this._delegate,new vx))}startAt(e=null,t){return(0,js.Dv)("Query.startAt",0,2,arguments.length),new Rx(this.database,bx(this._delegate,function(e=null,t){return iA("startAt","key",t,!0),new dx(e,t)}(e,t)))}startAfter(e=null,t){return(0,js.Dv)("Query.startAfter",0,2,arguments.length),new Rx(this.database,bx(this._delegate,function(e,t){return iA("startAfter","key",t,!0),new px(e,t)}(e,t)))}endAt(e=null,t){return(0,js.Dv)("Query.endAt",0,2,arguments.length),new Rx(this.database,bx(this._delegate,function(e,t){return iA("endAt","key",t,!0),new ux(e,t)}(e,t)))}endBefore(e=null,t){return(0,js.Dv)("Query.endBefore",0,2,arguments.length),new Rx(this.database,bx(this._delegate,function(e,t){return iA("endBefore","key",t,!0),new hx(e,t)}(e,t)))}equalTo(e,t){return(0,js.Dv)("Query.equalTo",1,2,arguments.length),new Rx(this.database,bx(this._delegate,function(e,t){return iA("equalTo","key",t,!0),new wx(e,t)}(e,t)))}toString(){return(0,js.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,js.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,js.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Rx))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,n){const r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,js.Wj)(e,"cancel",r.cancel,!0),r.context=n,(0,js.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,js.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Dx(this.database,new WA(this._delegate._repo,this._delegate._path))}}class Dx extends Rx{constructor(e,t){super(e,new BA(t._repo,t._path,new ZE,!1)),this.database=e,this._delegate=t}getKey(){return(0,js.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,js.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Dx(this.database,JA(this._delegate,e))}getParent(){(0,js.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Dx(this.database,e):null}getRoot(){return(0,js.Dv)("Reference.root",0,0,arguments.length),new Dx(this.database,this._delegate.root)}set(e,t){(0,js.Dv)("Reference.set",1,2,arguments.length),(0,js.Wj)("Reference.set","onComplete",t,!0);const n=XA(this._delegate,e);return t&&n.then(()=>t(null),e=>t(e)),n}update(e,t){if((0,js.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,xx("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}oA("Reference.update",this._delegate._path),(0,js.Wj)("Reference.update","onComplete",t,!0);const n=function(e,t){nA("update",t,e._path,!1);const n=new js.BH;return function(e,t,n,r){kA(e,"update",{path:t.toString(),value:n});let i=!0;const s=yA(e),o={};if(oI(n,(n,r)=>{i=!1,o[n]=Mk(ZI(t,n),AE(r),e.serverSyncTree_,s)}),i)GT("update() called with empty data.  Don't do anything."),AA(0,r,"ok",void 0);else{const i=bA(e),s=function(e,t,n,r){!function(e,t,n,r){(0,js.hu)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=wS(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=yS.fromObject(n);return bk(e,new aS({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,t,o,i);cA(e.eventQueue_,s),e.server_.merge(t.toString(),n,(n,s)=>{const o="ok"===n;o||YT("update at "+t+" failed: "+n);const a=mk(e.serverSyncTree_,i,!o),l=a.length>0?OA(e,t):t;hA(e.eventQueue_,l,a),AA(0,r,n,s)}),oI(n,n=>{const r=MA(e,ZI(t,n));OA(e,r)}),hA(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}(this._delegate,e);return t&&n.then(()=>t(null),e=>t(e)),n}setWithPriority(e,t,n){(0,js.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,js.Wj)("Reference.setWithPriority","onComplete",n,!0);const r=function(e,t,n){if(oA("setWithPriority",e._path),eA("setWithPriority",t,e._path,!1),rA("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const r=new js.BH;return CA(e._repo,e._path,t,n,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return n&&r.then(()=>n(null),e=>n(e)),r}remove(e){(0,js.Dv)("Reference.remove",0,1,arguments.length),(0,js.Wj)("Reference.remove","onComplete",e,!0);const t=function(e){return oA("remove",e._path),XA(e,null)}(this._delegate);return e&&t.then(()=>e(null),t=>e(t)),t}transaction(e,t,n){(0,js.Dv)("Reference.transaction",1,3,arguments.length),(0,js.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,js.Wj)("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,js.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,n);const r=function(e,t,n){var r;if(e=(0,js.m9)(e),oA("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,s=new js.BH,o=rx(e,()=>{});return function(t,n,r,i,o,a){kA(t,"transaction on "+n);const l={path:n,update:r,onComplete:(t,n,r)=>{let i=null;t?s.reject(t):(i=new KA(r,new WA(e._repo,e._path),_E),s.resolve(new kx(n,i)))},status:null,order:jT(),applyLocally:a,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=xA(t,n,void 0);l.currentInputSnapshot=c;const u=l.update(c.val());if(void 0===u)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{tA("transaction failed: Data returned ",u,l.path),l.status=0;const e=qk(t.transactionQueueTree_,n),r=jk(e)||[];let i;r.push(l),Zk(e,r),"object"==typeof u&&null!==u&&(0,js.r3)(u,".priority")?(i=(0,js.DV)(u,".priority"),(0,js.hu)(Xk(i),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):i=(wk(t.serverSyncTree_,n)||SE.EMPTY_NODE).getPriority().val();const s=yA(t),o=AE(u,i),a=Fk(o,c,s);l.currentOutputSnapshotRaw=o,l.currentOutputSnapshotResolved=a,l.currentWriteId=bA(t);const h=gk(t.serverSyncTree_,n,a,l.currentWriteId,l.applyLocally);hA(t.eventQueue_,n,h),PA(t,t.transactionQueueTree_)}}(e._repo,e._path,t,0,o,i),s.promise}(this._delegate,e,{applyLocally:n}).then(e=>new Ox(e.committed,new Nx(this.database,e.snapshot)));return t&&r.then(e=>t(null,e.committed,e.snapshot),e=>t(e,!1,null)),r}setPriority(e,t){(0,js.Dv)("Reference.setPriority",1,2,arguments.length),(0,js.Wj)("Reference.setPriority","onComplete",t,!0);const n=function(e,t){e=(0,js.m9)(e),oA("setPriority",e._path),rA("setPriority",t,!1);const n=new js.BH;return CA(e._repo,ZI(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,e);return t&&n.then(()=>t(null),e=>t(e)),n}push(e,t){(0,js.Dv)("Reference.push",0,2,arguments.length),(0,js.Wj)("Reference.push","onComplete",t,!0);const n=function(e,t){e=(0,js.m9)(e),oA("push",e._path),eA("push",t,e._path,!0);const n=mA(e._repo),r=NE(n),i=JA(e,r),s=JA(e,r);let o;return o=null!=t?XA(s,t).then(()=>s):Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}(this._delegate,e),r=n.then(e=>new Dx(this.database,e));t&&r.then(()=>t(null),e=>t(e));const i=new Dx(this.database,n);return i.then=r.then.bind(r),i.catch=r.catch.bind(r,void 0),i}onDisconnect(){return oA("Reference.onDisconnect",this._delegate._path),new Px(new zA(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}let Lx=(()=>{class e{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(e,t,n={}){!function(e,t,n,r={}){(e=(0,js.m9)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&QT("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&QT('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new fI(fI.OWNER);else if(r.mockUserToken){const t="string"==typeof r.mockUserToken?r.mockUserToken:(0,js.Sg)(r.mockUserToken,e.app.options.projectId);s=new fI(t)}!function(e,t,n,r){e.repoInfo_=new _I(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,s)}(this._delegate,e,t,n)}ref(e){if((0,js.Dv)("database.ref",0,1,arguments.length),e instanceof Dx){const t=YA(this._delegate,e.toString());return new Dx(this,t)}{const t=QA(this._delegate,e);return new Dx(this,t)}}refFromURL(e){(0,js.Dv)("database.refFromURL",1,1,arguments.length);const t=YA(this._delegate,e);return new Dx(this,t)}goOffline(){return(0,js.Dv)("database.goOffline",0,0,arguments.length),function(e){(e=(0,js.m9)(e))._checkNotDeleted("goOffline"),SA(e._repo)}(this._delegate)}goOnline(){return(0,js.Dv)("database.goOnline",0,0,arguments.length),function(e){var t;(e=(0,js.m9)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(fA)}(this._delegate)}}return e.ServerValue={TIMESTAMP:Sx,increment:e=>function(e){return{".sv":{increment:e}}}(e)},e})();var Mx=Object.freeze({__proto__:null,initStandalone:function({app:e,url:t,version:n,customAuthImpl:r,namespace:i,nodeAdmin:s=!1}){DT(n);const o=new Vs.zt("auth-internal",new Vs.H0("database-standalone"));return o.setComponent(new Vs.wA("auth-internal",()=>r,"PRIVATE")),{instance:new Lx(Tx(e,o,void 0,t,s),e),namespace:i}}});const Fx=Lx.ServerValue;function Ux(e){return null==e}function Vx(e){return"function"==typeof e.set}function qx(e,t){return Vx(t)?t:e.ref(t)}function jx(e,t){if("string"==typeof e)return t.stringCase();if(Vx(e))return t.firebaseCase();if("function"==typeof e.exportVal)return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof e)}function Zx(e,t,n="on",r=Ss.z){return new de.y(i=>{let s=null;return s=e[n](t,(e,t)=>{r.schedule(()=>{i.next({snapshot:e,prevKey:t})}),"once"===n&&r.schedule(()=>i.complete())},e=>{r.schedule(()=>i.error(e))}),"on"===n?{unsubscribe(){null!=s&&e.off(t,s)}}:{unsubscribe(){}}}).pipe((0,fe.U)(e=>{const{snapshot:n,prevKey:r}=e;let i=null;return n.exists()&&(i=n.key),{type:t,payload:n,prevKey:r,key:i}}),(0,rC.B)())}function zx(e,t){const n=e.length;for(let r=0;r<n;r++)if(e[r].payload.key===t)return r;return-1}function Bx(e,t){const{payload:n,prevKey:r,key:i}=t,s=zx(e,i),o=function(e,t){if(Ux(t))return 0;{const n=zx(e,t);return-1===n?e.length:n+1}}(e,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let n=null;t.payload.forEach(t=>{const r={payload:t,type:"value",prevKey:n,key:t.key};return n=t.key,e=[...e,r],!1})}return e;case"child_added":if(s>-1){const i=e[s-1];(i&&i.key||null)!==r&&(e=e.filter(e=>e.payload.key!==n.key)).splice(o,0,t)}else{if(null==r)return[t,...e];(e=e.slice()).splice(o,0,t)}return e;case"child_removed":return e.filter(e=>e.payload.key!==n.key);case"child_changed":return e.map(e=>e.payload.key===i?t:e);case"child_moved":if(s>-1){const t=e.splice(s,1)[0];return(e=e.slice()).splice(o,0,t),e}return e;default:return e}}function Hx(e){return(Ux(e)||0===e.length)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function $x(e,t,n){return function(e,t,n){return Zx(e,"value","once",n).pipe(Vt(r=>{const i=[(0,_t.of)(r)];return t.forEach(t=>i.push(Zx(e,t,"on",n))),(0,tb.T)(...i).pipe(Gt(Bx,[]))}),Os())}(e,t=Hx(t),n)}function Gx(e,t,n){const r=(t=Hx(t)).map(t=>Zx(e,t,"on",n));return(0,tb.T)(...r)}function Wx(e,t){return function(n,r){return jx(n,{stringCase:()=>e.child(n)[t](r),firebaseCase:()=>n[t](r),snapshotCase:()=>n.ref[t](r)})}}function Kx(e){return function(t){return t?jx(t,{stringCase:()=>e.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):e.remove()}}function Qx(e,t){return function(){return Zx(e,"value","on",t)}}!function(e){e.INTERNAL.registerComponent(new Vs.wA("database-compat",(e,{instanceIdentifier:t})=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new Lx(r,n)},"PUBLIC").setServiceProps({Reference:Dx,Query:Rx,Database:Lx,DataSnapshot:Nx,enableLogging:Ex,INTERNAL:Mx,ServerValue:Fx}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.1.1")}(Ms.Z);const Yx=new r.OlP("angularfire2.realtimeDatabaseURL"),Jx=new r.OlP("angularfire2.database.use-emulator");let Xx=(()=>{class e{constructor(e,t,n,r,i,s,o,a,l,c,u,h,d,p){this.schedulers=s;const f=o,g=(0,Ls.on)(e,i,t);a&&yb(g,i,l,u,h,d,c,p),this.database=(0,ks.cc)(`${g.name}.database.${n}`,"AngularFireDatabase",g.name,()=>{const e=i.runOutsideAngular(()=>g.database(n||void 0));return f&&e.useEmulator(...f),e},[f])}list(e,t){const n=this.schedulers.ngZone.runOutsideAngular(()=>qx(this.database,e));let r=n;return t&&(r=t(n)),function(e,t){const n=t.schedulers.outsideAngular,r=t.schedulers.ngZone.run(()=>e.ref);return{query:e,update:Wx(r,"update"),set:Wx(r,"set"),push:e=>r.push(e),remove:Kx(r),snapshotChanges:t=>$x(e,t,n).pipe(ks.iC),stateChanges:t=>Gx(e,t,n).pipe(ks.iC),auditTrail:t=>function(e,t,n){return function(e,t,n){return function(e,t){return Zx(e,"value","on",t).pipe((0,fe.U)(e=>{let t;return e.payload.forEach(e=>(t=e.key,!1)),{data:e,lastKeyToLoad:t}}))}(e,n).pipe(eC(t),(0,fe.U)(([e,t])=>{const n=e.lastKeyToLoad,r=t.map(e=>e.key);return{actions:t,lastKeyToLoad:n,loadedKeys:r}}),(r=e=>-1===e.loadedKeys.indexOf(e.lastKeyToLoad),e=>e.lift(new OT(r))),(0,fe.U)(e=>e.actions));var r}(e,Gx(e,t).pipe(Gt((e,t)=>[...e,t],[])),n)}(e,t,n).pipe(ks.iC),valueChanges:(t,r)=>$x(e,t,n).pipe((0,fe.U)(e=>e.map(e=>r&&r.idField?Object.assign(Object.assign({},e.payload.val()),{[r.idField]:e.key}):e.payload.val())),ks.iC)}}(r,this)}object(e){return function(e,t){return{query:e,snapshotChanges:()=>Qx(e,t.schedulers.outsideAngular)().pipe(ks.iC),update:t=>e.ref.update(t),set:t=>e.ref.set(t),remove:()=>e.ref.remove(),valueChanges:()=>Qx(e,t.schedulers.outsideAngular)().pipe(ks.iC,(0,fe.U)(e=>e.payload.exists()?e.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>qx(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ls.Dh),r.LFG(Ls.xv,8),r.LFG(Yx,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(ks.HU),r.LFG(Jx,8),r.LFG(_b,8),r.LFG(hb,8),r.LFG(db,8),r.LFG(pb,8),r.LFG(fb,8),r.LFG(gb,8),r.LFG(mb,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),eP=(()=>{class e{constructor(){ub.Z.registerVersion("angularfire",ks.q4.full,"rtdb-compat")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[Xx]}),e})();const tP={apiKey:"AIzaSyAHS6qmVP19bQK_LSvb6mp5wZfD0jlf8NA",authDomain:"customerapp-7e542.firebaseapp.com",projectId:"customerapp-7e542",storageBucket:"customerapp-7e542.appspot.com",messagingSenderId:"206931647959",appId:"1:206931647959:web:583224f822dc0c897a7f92"};let nP=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e,bootstrap:[JC]}),e.\u0275inj=r.cJS({providers:[],imports:[[ue,QC,GC,mt,PT,Db,Ls.hO.initializeApp(tP),eP]]}),e})();(0,r.G48)(),le().bootstrapModule(nP).catch(e=>console.error(e))},6304:(e,t,n)=>{"use strict";function r(e,t,n,r,i,s,o){try{var a=e[s](o),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,s){var o=e.apply(t,n);function a(e){r(o,i,s,a,l,"next",e)}function l(e){r(o,i,s,a,l,"throw",e)}a(void 0)})}}n.d(t,{Z:()=>i})},4762:(e,t,n)=>{"use strict";function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function i(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}l((r=r.apply(e,t||[])).next())})}function s(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function o(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}n.d(t,{_T:()=>r,mG:()=>i,Jh:()=>s,XA:()=>o,CR:()=>a,ev:()=>l})}},e=>{"use strict";e(e.s=2864)}]);